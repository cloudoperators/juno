import{a as g,l as f,J as h,L as y,j as e,y as V,O as $,E as b,m as C,z as P,P as q,o as n,n as p,c as u,V as L,f as v}from"./App-Bhn4_ZjL-7VJM6HMX.js";import{G as r}from"./_extensionId._-CbRjxH1W.js";import{R as K,M as D}from"./IssueCountsPerSeverityLevel-D6nB9Fmf-DkfzCxlh.js";import{O as E}from"./index-B2DcUjac-D-iBuA30.js";import{o as S}from"./SectionContentHeading-DGh6oGGB-CjiE6F0L.js";import"./index-DL4u4PVY.js";import"./Shell-qT7kTQyw.js";import"./index-TkDO45_u.js";const T=({servicePromise:l})=>{const{data:a}=r.use(l),s=P(a).services[0];return e.jsxs(e.Fragment,{children:[e.jsxs(S,{children:["Service ",s.name]}),e.jsxs(q,{columns:2,gridColumnTemplate:"20% auto",className:"mb-6",children:[e.jsxs(n,{children:[e.jsx(p,{children:"Details"}),e.jsx(u,{children:e.jsxs(L,{gap:"1",direction:"horizontal",wrap:!0,children:[e.jsx(v,{pillKey:"service",pillKeyLabel:"service",pillValue:s.name,pillValueLabel:s.name}),s.serviceDetails?.supportGroups?.map(i=>e.jsx(v,{pillKey:"support_group",pillKeyLabel:"support_group",pillValue:i,pillValueLabel:i},i))]})})]}),e.jsxs(n,{children:[e.jsx(p,{children:"Vulnerabilities Counts"}),e.jsx(u,{children:e.jsx(D,{counts:s.issuesCount})})]})]})]})},G=()=>{const l=g(),{queryClient:a,apiClient:s}=K({from:"/services/$service"}),{servicePromise:i}=f({from:"/services/$service"}),{service:o}=h({from:"/services/$service"}),[c,x]=r.useState(void 0),[m,d]=r.useState(void 0),j=y()({to:"/services/$service/images/$image"});return r.useEffect(()=>{const t=V({queryClient:a,apiClient:s,filter:{service:[o]},after:c});d(t)},[c,o,a,s]),j?e.jsx($,{}):e.jsxs(e.Fragment,{children:[e.jsx(b,{displayErrorMessage:!0,children:e.jsx(r.Suspense,{fallback:e.jsx(C,{className:"mt-4"}),children:e.jsx(T,{servicePromise:i})})}),m&&e.jsx(E,{imagesPromise:m,onImageItemClick:t=>{l({to:"/services/$service/images/$image",params:{service:o,image:t.repository}})},goToPage:x})]})},_=G;export{_ as component};
