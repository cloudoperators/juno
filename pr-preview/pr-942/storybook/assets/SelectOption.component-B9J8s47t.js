import{j as g}from"./jsx-runtime-BjG_zV1W.js";import{r as i,e as F}from"./index-BdGwgT04.js";import{m as Ye,g as ge,c as V,u as te,f as be,_ as Je,K as le,Q as Te,b as Ze,y as se,d as et,F as tt,a as W,I as nt,U as at,$ as ot,e as lt,w as st,S as U,h as ke,i as it,L as ie,x as rt,j as Ee,k as ut,l as dt,p as de,q as ct,r as pt,s as ft,R as mt,t as vt,v as ht,o as gt,z as bt,A as xt,B as yt,C as St,n as ye,D as jt,E as Ot,M as $t,G as wt,O as Le,H as It,J as I,N as Et,P as Ve,T as Lt,V as Vt,W as Pt,X as Rt,Y as _t}from"./portal-SlZPv7cO.js";import{r as Y}from"./index-C7VnYWJ0.js";import{l as Ct,a as Tt,T as kt,u as Mt,j as Dt,p as At}from"./frozen-DZprLUpS.js";import{s as qt,a as Nt}from"./use-text-value-BG3gIc7Y.js";import{L as Ft}from"./Label.component-D4gjYofZ.js";import{I as oe}from"./Icon.component-h_UNAW11.js";import{S as Wt}from"./Spinner.component-C7ss7i9x.js";import{F as xe}from"./FormHint.component-Bn51_8r6.js";import{u as Ut,f as Bt,a as zt,d as Ht,o as Kt,j as Qt,k as Gt,s as Xt,h as Yt}from"./floating-ui.react-ubu_7ndR.js";import{u as Jt}from"./PortalProvider.component-SN9LOs4c.js";var Zt=Object.defineProperty,en=(e,o,t)=>o in e?Zt(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,Pe=(e,o,t)=>(en(e,typeof o!="symbol"?o+"":o,t),t),O=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(O||{}),H=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(H||{}),Se=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Se||{}),Me=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOptions=5]="RegisterOptions",e[e.UnregisterOptions=6]="UnregisterOptions",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetOptionsElement=8]="SetOptionsElement",e[e.SortOptions=9]="SortOptions",e))(Me||{});function Re(e,o=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=Je(o(e.options.slice()),l=>l.dataRef.current.domRef.current),a=t?n.indexOf(t):null;return a===-1&&(a=null),{options:n,activeOptionIndex:a}}let tn={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1,__demoMode:!1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let o=e.activeOptionIndex,{isSelected:t}=e.dataRef.current,n=e.options.findIndex(a=>t(a.dataRef.current.value));return n!==-1&&(o=n),{...e,listboxState:0,activeOptionIndex:o,__demoMode:!1}},2(e,o){var t,n,a,l,u;if(e.dataRef.current.disabled||e.listboxState===1)return e;let d={...e,searchQuery:"",activationTrigger:(t=o.trigger)!=null?t:1,__demoMode:!1};if(o.focus===V.Nothing)return{...d,activeOptionIndex:null};if(o.focus===V.Specific)return{...d,activeOptionIndex:e.options.findIndex(p=>p.id===o.id)};if(o.focus===V.Previous){let p=e.activeOptionIndex;if(p!==null){let j=e.options[p].dataRef.current.domRef,f=be(o,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});if(f!==null){let s=e.options[f].dataRef.current.domRef;if(((n=j.current)==null?void 0:n.previousElementSibling)===s.current||((a=s.current)==null?void 0:a.previousElementSibling)===null)return{...d,activeOptionIndex:f}}}}else if(o.focus===V.Next){let p=e.activeOptionIndex;if(p!==null){let j=e.options[p].dataRef.current.domRef,f=be(o,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});if(f!==null){let s=e.options[f].dataRef.current.domRef;if(((l=j.current)==null?void 0:l.nextElementSibling)===s.current||((u=s.current)==null?void 0:u.nextElementSibling)===null)return{...d,activeOptionIndex:f}}}}let h=Re(e),r=be(o,{resolveItems:()=>h.options,resolveActiveIndex:()=>h.activeOptionIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});return{...d,...h,activeOptionIndex:r}},3:(e,o)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let t=e.searchQuery!==""?0:1,n=e.searchQuery+o.value.toLowerCase(),a=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+t).concat(e.options.slice(0,e.activeOptionIndex+t)):e.options).find(u=>{var d;return!u.dataRef.current.disabled&&((d=u.dataRef.current.textValue)==null?void 0:d.startsWith(n))}),l=a?e.options.indexOf(a):-1;return l===-1||l===e.activeOptionIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeOptionIndex:l,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,o)=>{let t=e.options.concat(o.options),n=e.activeOptionIndex;if(e.activeOptionIndex===null){let{isSelected:a}=e.dataRef.current;if(a){let l=t.findIndex(u=>a==null?void 0:a(u.dataRef.current.value));l!==-1&&(n=l)}}return{...e,options:t,activeOptionIndex:n,pendingShouldSort:!0}},6:(e,o)=>{let t=e.options,n=[],a=new Set(o.options);for(let[l,u]of t.entries())if(a.has(u.id)&&(n.push(l),a.delete(u.id),a.size===0))break;if(n.length>0){t=t.slice();for(let l of n.reverse())t.splice(l,1)}return{...e,options:t,activationTrigger:1}},7:(e,o)=>e.buttonElement===o.element?e:{...e,buttonElement:o.element},8:(e,o)=>e.optionsElement===o.element?e:{...e,optionsElement:o.element},9:e=>e.pendingShouldSort?{...e,...Re(e),pendingShouldSort:!1}:e};class je extends Ye{constructor(o){super(o),Pe(this,"actions",{onChange:t=>{let{onChange:n,compare:a,mode:l,value:u}=this.state.dataRef.current;return te(l,{0:()=>n==null?void 0:n(t),1:()=>{let d=u.slice(),h=d.findIndex(r=>a(r,t));return h===-1?d.push(t):d.splice(h,1),n==null?void 0:n(d)}})},registerOption:ge(()=>{let t=[],n=new Set;return[(a,l)=>{n.has(l)||(n.add(l),t.push({id:a,dataRef:l}))},()=>(n.clear(),this.send({type:5,options:t.splice(0)}))]}),unregisterOption:ge(()=>{let t=[];return[n=>t.push(n),()=>{this.send({type:6,options:t.splice(0)})}]}),goToOption:ge(()=>{let t=null;return[(n,a)=>{t={type:2,...n,trigger:a}},()=>t&&this.send(t)]}),closeListbox:()=>{this.send({type:1})},openListbox:()=>{this.send({type:0})},selectActiveOption:()=>{if(this.state.activeOptionIndex!==null){let{dataRef:t,id:n}=this.state.options[this.state.activeOptionIndex];this.actions.onChange(t.current.value),this.send({type:2,focus:V.Specific,id:n})}},selectOption:t=>{let n=this.state.options.find(a=>a.id===t);n&&this.actions.onChange(n.dataRef.current.value)},search:t=>{this.send({type:3,value:t})},clearSearch:()=>{this.send({type:4})},setButtonElement:t=>{this.send({type:7,element:t})},setOptionsElement:t=>{this.send({type:8,element:t})}}),Pe(this,"selectors",{activeDescendantId(t){var n;let a=t.activeOptionIndex,l=t.options;return a===null||(n=l[a])==null?void 0:n.id},isActive(t,n){var a;let l=t.activeOptionIndex,u=t.options;return l!==null?((a=u[l])==null?void 0:a.id)===n:!1},shouldScrollIntoView(t,n){return t.__demoMode||t.listboxState!==0||t.activationTrigger===0?!1:this.isActive(t,n)}}),this.on(5,()=>{requestAnimationFrame(()=>{this.send({type:9})})})}static new({__demoMode:o=!1}={}){return new je({dataRef:{current:{}},listboxState:o?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,buttonElement:null,optionsElement:null,__demoMode:o})}reduce(o,t){return te(t.type,tn,o,t)}}const De=i.createContext(null);function Oe(e){let o=i.useContext(De);if(o===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Ae),t}return o}function Ae({__demoMode:e=!1}={}){return i.useMemo(()=>je.new({__demoMode:e}),[])}let pe=i.createContext(null);pe.displayName="ListboxDataContext";function re(e){let o=i.useContext(pe);if(o===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,re),t}return o}let nn=i.Fragment;function an(e,o){let t=St(),{value:n,defaultValue:a,form:l,name:u,onChange:d,by:h,invalid:r=!1,disabled:p=t||!1,horizontal:j=!1,multiple:f=!1,__demoMode:s=!1,...y}=e;const E=j?"horizontal":"vertical";let L=se(o),M=Tt(a),[x=f?[]:void 0,P]=kt(n,d,M),$=Ae({__demoMode:s}),R=i.useRef({static:!1,hold:!1}),_=i.useRef(new Map),C=Mt(h),T=i.useCallback(k=>te(D.mode,{[H.Multi]:()=>x.some(G=>C(G,k)),[H.Single]:()=>C(x,k)}),[x]),D=i.useMemo(()=>({value:x,disabled:p,invalid:r,mode:f?H.Multi:H.Single,orientation:E,onChange:P,compare:C,isSelected:T,optionsPropsRef:R,listRef:_}),[x,p,r,f,E,P,C,T,R,_]);ye(()=>{$.state.dataRef.current=D},[D]);let m=U($,k=>k.listboxState),S=m===O.Open,[A,q]=U($,k=>[k.buttonElement,k.optionsElement]);jt(S,[A,q],(k,G)=>{$.send({type:Me.CloseListbox}),Lt(G,Vt.Loose)||(k.preventDefault(),A==null||A.focus())});let v=i.useMemo(()=>({open:m===O.Open,disabled:p,invalid:r,value:x}),[m,p,r,x]),[K,J]=Ot({inherit:!0}),Z={ref:L},ne=i.useCallback(()=>{if(M!==void 0)return P==null?void 0:P(M)},[P,M]),B=ie();return F.createElement(J,{value:K,props:{htmlFor:A==null?void 0:A.id},slot:{open:m===O.Open,disabled:p}},F.createElement($t,null,F.createElement(De.Provider,{value:$},F.createElement(pe.Provider,{value:D},F.createElement(wt,{value:te(m,{[O.Open]:de.Open,[O.Closed]:de.Closed})},u!=null&&x!=null&&F.createElement(Dt,{disabled:p,data:{[u]:x},form:l,onReset:ne}),B({ourProps:Z,theirProps:y,slot:v,defaultTag:nn,name:"Listbox"}))))))}let on="button";function ln(e,o){let t=i.useId(),n=Ze(),a=re("Listbox.Button"),l=Oe("Listbox.Button"),{id:u=n||`headlessui-listbox-button-${t}`,disabled:d=a.disabled||!1,autoFocus:h=!1,...r}=e,p=se(o,et(),l.actions.setButtonElement),j=tt(),f=W(v=>{switch(v.key){case I.Enter:At(v.currentTarget);break;case I.Space:case I.ArrowDown:v.preventDefault(),Y.flushSync(()=>l.actions.openListbox()),a.value||l.actions.goToOption({focus:V.First});break;case I.ArrowUp:v.preventDefault(),Y.flushSync(()=>l.actions.openListbox()),a.value||l.actions.goToOption({focus:V.Last});break}}),s=W(v=>{switch(v.key){case I.Space:v.preventDefault();break}}),y=W(v=>{var K;if(v.button===0){if(It(v.currentTarget))return v.preventDefault();l.state.listboxState===O.Open?(Y.flushSync(()=>l.actions.closeListbox()),(K=l.state.buttonElement)==null||K.focus({preventScroll:!0})):(v.preventDefault(),l.actions.openListbox())}}),E=W(v=>v.preventDefault()),L=nt([u]),M=at(),{isFocusVisible:x,focusProps:P}=ot({autoFocus:h}),{isHovered:$,hoverProps:R}=lt({isDisabled:d}),{pressed:_,pressProps:C}=st({disabled:d}),T=U(l,v=>v.listboxState),D=i.useMemo(()=>({open:T===O.Open,active:_||T===O.Open,disabled:d,invalid:a.invalid,value:a.value,hover:$,focus:x,autofocus:h}),[T,a.value,d,$,x,_,a.invalid,h]),m=U(l,v=>v.listboxState===O.Open),[S,A]=U(l,v=>[v.buttonElement,v.optionsElement]),q=ke(j(),{ref:p,id:u,type:it(e,S),"aria-haspopup":"listbox","aria-controls":A==null?void 0:A.id,"aria-expanded":m,"aria-labelledby":L,"aria-describedby":M,disabled:d||void 0,autoFocus:h,onKeyDown:f,onKeyUp:s,onKeyPress:E,onMouseDown:y},P,R,C);return ie()({ourProps:q,theirProps:r,slot:D,defaultTag:on,name:"Listbox.Button"})}let qe=i.createContext(!1),sn="div",rn=Le.RenderStrategy|Le.Static;function un(e,o){let t=i.useId(),{id:n=`headlessui-listbox-options-${t}`,anchor:a,portal:l=!1,modal:u=!0,transition:d=!1,...h}=e,r=rt(a),[p,j]=i.useState(null);r&&(l=!0);let f=re("Listbox.Options"),s=Oe("Listbox.Options"),[y,E,L,M]=U(s,c=>[c.listboxState,c.buttonElement,c.optionsElement,c.__demoMode]),x=Ee(E),P=Ee(L),$=ut(),[R,_]=dt(d,p,$!==null?($&de.Open)===de.Open:y===O.Open);ct(R,E,s.actions.closeListbox);let C=M?!1:u&&y===O.Open;pt(C,P);let T=M?!1:u&&y===O.Open;ft(T,{allowed:i.useCallback(()=>[E,L],[E,L])});let D=y!==O.Open,m=qt(D,E)?!1:R,S=R&&y===O.Closed,A=Ct(S,f.value),q=W(c=>f.compare(A,c)),v=U(s,c=>{var w;if(r==null||!((w=r==null?void 0:r.to)!=null&&w.includes("selection")))return null;let Q=c.options.findIndex(ae=>q(ae.dataRef.current.value));return Q===-1&&(Q=0),Q}),K=(()=>{if(r==null)return;if(v===null)return{...r,inner:void 0};let c=Array.from(f.listRef.current.values());return{...r,inner:{listRef:{current:c},index:v}}})(),[J,Z]=mt(K),ne=vt(),B=se(o,r?J:null,s.actions.setOptionsElement,j),k=ht();i.useEffect(()=>{var c;let w=L;w&&y===O.Open&&w!==((c=gt(w))==null?void 0:c.activeElement)&&(w==null||w.focus({preventScroll:!0}))},[y,L]);let G=W(c=>{var w,Q;switch(k.dispose(),c.key){case I.Space:if(s.state.searchQuery!=="")return c.preventDefault(),c.stopPropagation(),s.actions.search(c.key);case I.Enter:if(c.preventDefault(),c.stopPropagation(),s.state.activeOptionIndex!==null){let{dataRef:ae}=s.state.options[s.state.activeOptionIndex];s.actions.onChange(ae.current.value)}f.mode===H.Single&&(Y.flushSync(()=>s.actions.closeListbox()),(w=s.state.buttonElement)==null||w.focus({preventScroll:!0}));break;case te(f.orientation,{vertical:I.ArrowDown,horizontal:I.ArrowRight}):return c.preventDefault(),c.stopPropagation(),s.actions.goToOption({focus:V.Next});case te(f.orientation,{vertical:I.ArrowUp,horizontal:I.ArrowLeft}):return c.preventDefault(),c.stopPropagation(),s.actions.goToOption({focus:V.Previous});case I.Home:case I.PageUp:return c.preventDefault(),c.stopPropagation(),s.actions.goToOption({focus:V.First});case I.End:case I.PageDown:return c.preventDefault(),c.stopPropagation(),s.actions.goToOption({focus:V.Last});case I.Escape:c.preventDefault(),c.stopPropagation(),Y.flushSync(()=>s.actions.closeListbox()),(Q=s.state.buttonElement)==null||Q.focus({preventScroll:!0});return;case I.Tab:c.preventDefault(),c.stopPropagation(),Y.flushSync(()=>s.actions.closeListbox()),Et(s.state.buttonElement,c.shiftKey?Ve.Previous:Ve.Next);break;default:c.key.length===1&&(s.actions.search(c.key),k.setTimeout(()=>s.actions.clearSearch(),350));break}}),fe=U(s,c=>{var w;return(w=c.buttonElement)==null?void 0:w.id}),ue=i.useMemo(()=>({open:y===O.Open}),[y]),me=ke(r?ne():{},{id:n,ref:B,"aria-activedescendant":U(s,s.selectors.activeDescendantId),"aria-multiselectable":f.mode===H.Multi?!0:void 0,"aria-labelledby":fe,"aria-orientation":f.orientation,onKeyDown:G,role:"listbox",tabIndex:y===O.Open?0:void 0,style:{...h.style,...Z,"--button-width":xt(E,!0).width},...bt(_)}),X=ie(),ve=i.useMemo(()=>f.mode===H.Multi?f:{...f,isSelected:q},[f,q]);return F.createElement(yt,{enabled:l?e.static||R:!1,ownerDocument:x},F.createElement(pe.Provider,{value:ve},X({ourProps:me,theirProps:h,slot:ue,defaultTag:sn,features:rn,visible:m,name:"Listbox.Options"})))}let dn="div";function cn(e,o){let t=i.useId(),{id:n=`headlessui-listbox-option-${t}`,disabled:a=!1,value:l,...u}=e,d=i.useContext(qe)===!0,h=re("Listbox.Option"),r=Oe("Listbox.Option"),p=U(r,m=>r.selectors.isActive(m,n)),j=h.isSelected(l),f=i.useRef(null),s=Nt(f),y=Pt({disabled:a,value:l,domRef:f,get textValue(){return s()}}),E=se(o,f,m=>{m?h.listRef.current.set(n,m):h.listRef.current.delete(n)}),L=U(r,m=>r.selectors.shouldScrollIntoView(m,n));ye(()=>{if(L)return Rt().requestAnimationFrame(()=>{var m,S;(S=(m=f.current)==null?void 0:m.scrollIntoView)==null||S.call(m,{block:"nearest"})})},[L,f]),ye(()=>{if(!d)return r.actions.registerOption(n,y),()=>r.actions.unregisterOption(n)},[y,n,d]);let M=W(m=>{var S;if(a)return m.preventDefault();r.actions.onChange(l),h.mode===H.Single&&(Y.flushSync(()=>r.actions.closeListbox()),(S=r.state.buttonElement)==null||S.focus({preventScroll:!0}))}),x=W(()=>{if(a)return r.actions.goToOption({focus:V.Nothing});r.actions.goToOption({focus:V.Specific,id:n})}),P=_t(),$=W(m=>{P.update(m),!a&&(p||r.actions.goToOption({focus:V.Specific,id:n},Se.Pointer))}),R=W(m=>{P.wasMoved(m)&&(a||p||r.actions.goToOption({focus:V.Specific,id:n},Se.Pointer))}),_=W(m=>{P.wasMoved(m)&&(a||p&&r.actions.goToOption({focus:V.Nothing}))}),C=i.useMemo(()=>({active:p,focus:p,selected:j,disabled:a,selectedOption:j&&d}),[p,j,a,d]),T=d?{}:{id:n,ref:E,role:"option",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,"aria-selected":j,disabled:void 0,onClick:M,onFocus:x,onPointerEnter:$,onMouseEnter:$,onPointerMove:R,onMouseMove:R,onPointerLeave:_,onMouseLeave:_},D=ie();return!j&&d?null:D({ourProps:T,theirProps:u,slot:C,defaultTag:dn,name:"Listbox.Option"})}let pn=i.Fragment;function fn(e,o){let{options:t,placeholder:n,...a}=e,l={ref:se(o)},u=re("ListboxSelectedOption"),d=i.useMemo(()=>({}),[]),h=u.value===void 0||u.value===null||u.mode===H.Multi&&Array.isArray(u.value)&&u.value.length===0,r=ie();return F.createElement(qe.Provider,{value:!0},r({ourProps:l,theirProps:{...a,children:F.createElement(F.Fragment,null,n&&h?n:t)},slot:d,defaultTag:pn,name:"ListboxSelectedOption"}))}let mn=le(an),Ne=le(ln),vn=Te,Fe=le(un),We=le(cn),hn=le(fn),gn=Object.assign(mn,{Button:Ne,Label:vn,Options:Fe,Option:We,SelectedOption:hn});const bn=`
  jn-no-wrap
  jn-pointer-events-none
  jn-top-2
  jn-left-4
`,xn=`
  jn-appearance-none
  jn-h-[2.375rem]
  jn-inline-flex
  jn-items-center
  jn-px-4
  jn-rounded-3px
  jn-select-none
  jn-text-base
  focus:jn-outline-none
  focus:jn-ring-2
  focus:jn-ring-theme-focus
`,yn=`
  jn-border
  jn-border-theme-success
`,Sn=`
  jn-border
  jn-border-theme-error
`,jn=`
  jn-absolute
  jn-top-1/2
  jn-left-1/2
  jn-translate-y-[-50%]
  jn-translate-x-[-0.75rem]
`,On=`
  jn-rounded
  jn-bg-theme-background-lvl-1
  jn-w-full
  jn-overflow-y-auto
`,$n=`
  jn-block
  jn-h-6
  jn-overflow-hidden
  jn-text-ellipsis
  jn-whitespace-nowrap
`,ce=i.createContext(void 0),_e=({ariaLabel:e="",children:o,className:t="",defaultValue:n,disabled:a=!1,error:l=!1,errortext:u="",helptext:d="",id:h="",invalid:r=!1,label:p,loading:j=!1,multiple:f=!1,name:s,onChange:y,onValueChange:E,placeholder:L="Select…",required:M=!1,successtext:x="",truncateOptions:P=!1,valid:$=!1,value:R,valueLabel:_,variant:C="default",width:T="full",wrapperClassName:D="",...m})=>{const S=b=>!(typeof b=="string"&&b.trim().length===0),A=()=>"juno-select-"+i.useId(),[q,v]=i.useState(!1),K=h||A(),J="juno-select-helptext-"+i.useId(),[Z,ne]=i.useState(new Map),[B,k]=i.useState(!1),[G,fe]=i.useState(!1),[ue,me]=i.useState(!1),[X,ve]=i.useState(!1),c=(b,N,ee)=>{ne(z=>new Map([...Array.from(z),[b??ee,{val:b,label:N,children:ee,displayName:ee??N??b}]]))},w=i.useMemo(()=>r||!!(u&&S(u)),[r,u]),Q=i.useMemo(()=>$||!!(x&&S(x)),[$,x]);i.useEffect(()=>{k(l)},[l]),i.useEffect(()=>{fe(w)},[w]),i.useEffect(()=>{me(Q)},[Q]),i.useEffect(()=>{ve(j)},[j]);const ae=b=>{y&&y(b),E&&E(b)},Ue=Jt(),{x:Be,y:ze,strategy:He,refs:$e,context:we}=Ut({open:q,onOpenChange:v,placement:"top",whileElementsMounted:Yt,middleware:[Kt(4),Qt({crossAxis:!0,allowedPlacements:["bottom","top"]}),Gt({apply({availableWidth:b,availableHeight:N,elements:ee,rects:z}){Object.assign(ee.floating.style,{maxWidth:`${b}px`,maxHeight:`${N}px`,minWidth:`${z.reference.width}px`,overflowY:"auto"})}}),Xt()]}),{getReferenceProps:Ke,getFloatingProps:Qe}=Bt([zt(we),Ht(we)]),Ge=b=>{const N=z=>{var Ie;const he=Z.get(z);if(he)return(Ie=he.displayName)!=null&&Ie.length?he.displayName:null};return b.map(z=>N(z)).filter(z=>z&&z.toString().trim().length>0).join(", ")};return g.jsx(ce.Provider,{value:{truncateOptions:P,addOptionValueAndLabel:c},children:g.jsxs("div",{className:`
          juno-select-wrapper 
          jn-relative
          ${T=="auto"?"jn-inline-block":"jn-block"}
          ${T=="auto"?"jn-w-auto":"jn-w-full"}
          ${D}
        `,children:[g.jsxs(gn,{disabled:a||X||B,multiple:f,name:s,onChange:ae,value:R,defaultValue:n,children:[p&&S(p)?g.jsx(Te,{as:Ft,htmlFor:K,text:p,className:`${bn}`,disabled:a||X||B,required:M,floating:!0,minimized:!0}):"",g.jsxs("div",{children:[g.jsx(Ne,{ref:$e.setReference,"aria-describedby":d?J:"","aria-label":e||p,as:"button",id:K,className:`
                juno-select-toggle
                ${C&&C.length?"juno-select-toggle-"+C:"juno-select-toggle-default"}
                ${T=="auto"?"jn-w-auto":"jn-w-full"}
                ${xn}
                ${p&&S(p)?"jn-pt-[0.4rem]":""}
                ${a?"juno-select-disabled jn-opacity-50 jn-cursor-not-allowed":""}
                ${X||B?"jn-justify-center":"jn-justify-between"}
                ${G?"juno-select-invalid "+Sn:""} 
                ${ue?"juno-select-valid "+yn:""}  
                
                ${X?"juno-select-loading jn-cursor-not-allowed":""}
                ${B?"juno-select-error jn-cursor-not-allowed":""}
                ${t}
              `,...Ke(),...m,children:({open:b,value:N})=>(i.useEffect(()=>{b!==q&&v(b)},[b]),!B&&!X?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:`${$n}`,children:Xe(N)}),g.jsxs("span",{className:"jn-flex",children:[ue?g.jsx(oe,{icon:"checkCircle",color:"jn-text-theme-success"}):"",G?g.jsx(oe,{icon:"dangerous",color:"jn-text-theme-error"}):"",g.jsx("span",{children:g.jsx(oe,{icon:b?"expandLess":"expandMore"})})]})]}):g.jsx("span",{className:`${jn}`,children:B?g.jsx(oe,{icon:"errorOutline",color:"jn-text-theme-error",className:"jn-cursor-not-allowed"}):X?g.jsx(Wt,{className:"jn-cursor-not-allowed"}):""}))}),Y.createPortal(g.jsx("div",{ref:$e.setFloating,style:{position:He,top:ze??0,left:Be??0,display:q?"block":"none"},...Qe(),children:g.jsx(Fe,{static:!0,className:`
                    juno-select-menu
                    ${On}
                  `,children:o})}),Ue??document.body)]})]}),u&&S(u)?g.jsx(xe,{text:u,variant:"error"}):"",x&&S(x)?g.jsx(xe,{text:x,variant:"success"}):"",d&&S(d)?g.jsx(xe,{text:d,id:J}):""]})});function Xe(b){if(f)return Ge(b)||_||b.join(", ")||L;{const N=Z.get(b);return N?N.displayName||_||b||L:_||b||L}}};try{ce.displayName="SelectContext",ce.__docgenInfo={description:"",displayName:"SelectContext",props:{}}}catch{}try{_e.displayName="Select",_e.__docgenInfo={description:"A Select component that can be configured to allow selecting a single item or multiple items.\nPass a `defaultValue` to render as an uncontrolled component that tracks its open state etc internally.",displayName:"Select",props:{ariaLabel:{defaultValue:{value:""},description:"Pass an aria-label to the Select toggle button",name:"ariaLabel",required:!1,type:{name:"string"}},children:{defaultValue:null,description:"The children to render as options. Use the SelectOption component, and SelectDivider if needed.",name:"children",required:!1,type:{name:"any"}},className:{defaultValue:{value:""},description:"Pass a custom className to the internal Select toggle button",name:"className",required:!1,type:{name:"string"}},defaultValue:{defaultValue:null,description:"Pass a defaultValue to use as an uncontrolled component that handles its state internally. When setting `multiple` on the Select pass an Array instead of a string.",name:"defaultValue",required:!1,type:{name:"string | string[]"}},disabled:{defaultValue:{value:"false"},description:"Whether the Select is disabled",name:"disabled",required:!1,type:{name:"boolean"}},error:{defaultValue:{value:"false"},description:"Whether the Select has an error, e.g. when loading options. When validated negatively, use `invalid` instead.",name:"error",required:!1,type:{name:"boolean"}},errortext:{defaultValue:{value:""},description:"A small message rendered in red text below the Select toggle.",name:"errortext",required:!1,type:{name:"any"}},helptext:{defaultValue:{value:""},description:"A small, neutral text rendered below the Select toggle to explain meaning and significance of the Select element",name:"helptext",required:!1,type:{name:"any"}},id:{defaultValue:{value:""},description:"Pass an id to the Select toggle",name:"id",required:!1,type:{name:"string"}},invalid:{defaultValue:{value:"false"},description:"Whether the Select has been validated unsuccessfully / negatively",name:"invalid",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"Pass a label to render in the Select toggle button",name:"label",required:!1,type:{name:"string"}},loading:{defaultValue:{value:"false"},description:"Whether the Select is busy loading options. Will show a Spinner in the Select toggle.",name:"loading",required:!1,type:{name:"boolean"}},multiple:{defaultValue:{value:"false"},description:"Whether multiple options of the Select can be selected. When passing true, pass an array containing one or multiple options as `value` / `defaultValue` respectively.",name:"multiple",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"Pass a name attribute to the Select to be transmitted when used in a form.",name:"name",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"Handler to be executed when the selected value changes",name:"onChange",required:!1,type:{name:"((value?: string | number | string[]) => void)"}},open:{defaultValue:null,description:"Handle for openning of select",name:"open",required:!1,type:{name:"boolean"}},onValueChange:{defaultValue:null,description:"LEGACY: Handler to be executed when the Select value changes. Here for backwards compatibility with apps based on older versions of Select. Use onChange instead.",name:"onValueChange",required:!1,type:{name:"((value?: string | number | string[]) => void)"}},placeholder:{defaultValue:{value:"Select…"},description:'A placeholder to render when no value has been selected. Default is "Select…".',name:"placeholder",required:!1,type:{name:"string"}},required:{defaultValue:{value:"false"},description:"Whether a selection is required. Will show a small required marker next to the label. If no label is used, no marker will be visible.",name:"required",required:!1,type:{name:"boolean"}},successtext:{defaultValue:{value:""},description:"A note to render below the Select toggle in case the selected value has been positively validated. Will set the visible state of the Select toggle to `valid`.",name:"successtext",required:!1,type:{name:"any"}},truncateOptions:{defaultValue:{value:"false"},description:'Whether long texts in options will be truncated with "…" or not. Default is false. The Select toggle label will always be truncated.',name:"truncateOptions",required:!1,type:{name:"boolean"}},valid:{defaultValue:{value:"false"},description:"Whether the Select was positively validated. Will show a green checkmark icon inside the Select toggle.",name:"valid",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"The currently (pre-)selected value of the Select. Will trigger controlled mode. When setting `multiple` on the Select pass an Array instead of a string.",name:"value",required:!1,type:{name:"string | number | string[]"}},valueLabel:{defaultValue:null,description:`The label of the passed value or defaultValue. If you want to use controlled mode or pass as defaultValue in uncontrolled mode and additionally use labels for
human-readable SelectOptions you need to also pass the matching label for the passed value/defaultValue so that the Select component can render itself properly.`,name:"valueLabel",required:!1,type:{name:"string"}},variant:{defaultValue:{value:"default"},description:"The semantic variant of the Select toggle button.",name:"variant",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"primary"'},{value:'"primary-danger"'},{value:'"subdued"'}]}},width:{defaultValue:{value:"full"},description:'Whether the Select toggle should consume the available width of its parent container (default), or render its "natural" width depending on the content and the currently selected value or state.',name:"width",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"full"'}]}},wrapperClassName:{defaultValue:{value:""},description:"Pass a custom classname to the wrapping element. This can be useful if you must add styling to the outermost wrapping element of this component, e.g. for positioning.",name:"wrapperClassName",required:!1,type:{name:"string"}}}}}catch{}const wn=`
  jn-flex
  jn-pt-[0.6875rem]
  jn-pb-[0.5rem]
  jn-pr-[0.875rem]
  jn-select-none
  data-[headlessui-state~=active]:jn-outline-none
  data-[headlessui-state~=active]:jn-ring-2
  data-[headlessui-state~=active]:jn-ring-inset
  data-[headlessui-state~=active]:jn-ring-theme-focus
  data-[headlessui-state~=active]:jn-bg-theme-background-lvl-3
`,In=`
  jn-text-theme-default
  jn-pl-[2.375rem]
`,En=`
  jn-text-theme-accent
  jn-pl-3.5
`,Ln=`
  jn-inline-block
  jn-mr-1.5
  jn-overflow-auto
`,Vn=`
  jn-opacity-50
  jn-cursor-not-allowed
`,Pn=`
  jn-block
  jn-h-6
  jn-overflow-hidden
  jn-text-ellipsis
  jn-whitespace-nowrap
`,Ce=({children:e,className:o="",disabled:t=!1,value:n="",label:a,...l})=>{const u=i.useContext(ce),{truncateOptions:d,addOptionValueAndLabel:h}=u||{truncateOptions:!1,addOptionValueAndLabel:()=>{}};return i.useEffect(()=>{h(n,a,e)},[n,a,e]),g.jsx(We,{as:i.Fragment,disabled:t,value:n||e,children:({selected:r})=>g.jsxs("li",{className:`
          juno-select-option 
          jn-min-h-[2.5rem]
          ${wn}
          ${r?"juno-select-option-selected "+En:In}
          ${t?"juno-select-option-disabled jn-opacity-50 jn-cursor-not-allowed":""}
          ${d?"juno-select-option-truncate":""}
          ${o}
        `,...l,children:[r?g.jsx(oe,{icon:"check",size:"18",className:Ln}):"",g.jsx("span",{className:`
            ${t?Vn:""}
            ${d?Pn:""}
          `,children:e||a||n})]})})};try{Ce.displayName="SelectOption",Ce.__docgenInfo={description:"",displayName:"SelectOption",props:{className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:{value:""},description:"",name:"value",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}}}}}catch{}export{_e as S,Ce as a};
