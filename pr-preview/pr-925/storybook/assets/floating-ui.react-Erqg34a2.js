import{r as m,R as ft}from"./index-DysCNOs_.js";import"./jsx-runtime-BP6H2k8O.js";import{r as St}from"./index-BEZZli5v.js";function Pe(){return typeof window<"u"}function fe(e){return at(e)?(e.nodeName||"").toLowerCase():"#document"}function K(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function G(e){var t;return(t=(at(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function at(e){return Pe()?e instanceof Node||e instanceof K(e).Node:!1}function _(e){return Pe()?e instanceof Element||e instanceof K(e).Element:!1}function V(e){return Pe()?e instanceof HTMLElement||e instanceof K(e).HTMLElement:!1}function Be(e){return!Pe()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof K(e).ShadowRoot}function ve(e){const{overflow:t,overflowX:o,overflowY:n,display:r}=U(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+o)&&!["inline","contents"].includes(r)}function Dt(e){return["table","td","th"].includes(fe(e))}function Ae(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function He(e){const t=Le(),o=_(e)?U(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>o[n]?o[n]!=="none":!1)||(o.containerType?o.containerType!=="normal":!1)||!t&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!t&&(o.filter?o.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(o.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(o.contain||"").includes(n))}function kt(e){let t=ee(e);for(;V(t)&&!Z(t);){if(He(t))return t;if(Ae(t))return null;t=ee(t)}return null}function Le(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Z(e){return["html","body","#document"].includes(fe(e))}function U(e){return K(e).getComputedStyle(e)}function Me(e){return _(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ee(e){if(fe(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Be(e)&&e.host||G(e);return Be(t)?t.host:t}function dt(e){const t=ee(e);return Z(t)?e.ownerDocument?e.ownerDocument.body:e.body:V(t)&&ve(t)?t:dt(t)}function te(e,t,o){var n;t===void 0&&(t=[]),o===void 0&&(o=!0);const r=dt(e),c=r===((n=e.ownerDocument)==null?void 0:n.body),i=K(r);if(c){const s=Ne(i);return t.concat(i,i.visualViewport||[],ve(r)?r:[],s&&o?te(s):[])}return t.concat(r,te(r,[],o))}function Ne(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Ft=["top","right","bottom","left"],Ue=["start","end"],ze=Ft.reduce((e,t)=>e.concat(t,t+"-"+Ue[0],t+"-"+Ue[1]),[]),le=Math.min,X=Math.max,Re=Math.round,we=Math.floor,ne=e=>({x:e,y:e}),_t={left:"right",right:"left",bottom:"top",top:"bottom"},It={start:"end",end:"start"};function qe(e,t,o){return X(e,le(t,o))}function ae(e,t){return typeof e=="function"?e(t):e}function q(e){return e.split("-")[0]}function z(e){return e.split("-")[1]}function mt(e){return e==="x"?"y":"x"}function gt(e){return e==="y"?"height":"width"}function re(e){return["top","bottom"].includes(q(e))?"y":"x"}function pt(e){return mt(re(e))}function vt(e,t,o){o===void 0&&(o=!1);const n=z(e),r=pt(e),c=gt(r);let i=r==="x"?n===(o?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[c]>t.floating[c]&&(i=Ee(i)),[i,Ee(i)]}function $t(e){const t=Ee(e);return[be(e),t,be(t)]}function be(e){return e.replace(/start|end/g,t=>It[t])}function Bt(e,t,o){const n=["left","right"],r=["right","left"],c=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return o?t?r:n:t?n:r;case"left":case"right":return t?c:i;default:return[]}}function Nt(e,t,o,n){const r=z(e);let c=Bt(q(e),o==="start",n);return r&&(c=c.map(i=>i+"-"+r),t&&(c=c.concat(c.map(be)))),c}function Ee(e){return e.replace(/left|right|bottom|top/g,t=>_t[t])}function Wt(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ht(e){return typeof e!="number"?Wt(e):{top:e,right:e,bottom:e,left:e}}function Ce(e){const{x:t,y:o,width:n,height:r}=e;return{width:n,height:r,top:o,left:t,right:t+n,bottom:o+r,x:t,y:o}}function Ge(e,t,o){let{reference:n,floating:r}=e;const c=re(t),i=pt(t),s=gt(i),l=q(t),a=c==="y",d=n.x+n.width/2-r.width/2,g=n.y+n.height/2-r.height/2,p=n[s]/2-r[s]/2;let u;switch(l){case"top":u={x:d,y:n.y-r.height};break;case"bottom":u={x:d,y:n.y+n.height};break;case"right":u={x:n.x+n.width,y:g};break;case"left":u={x:n.x-r.width,y:g};break;default:u={x:n.x,y:n.y}}switch(z(t)){case"start":u[i]-=p*(o&&a?-1:1);break;case"end":u[i]+=p*(o&&a?-1:1);break}return u}const Vt=async(e,t,o)=>{const{placement:n="bottom",strategy:r="absolute",middleware:c=[],platform:i}=o,s=c.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let a=await i.getElementRects({reference:e,floating:t,strategy:r}),{x:d,y:g}=Ge(a,n,l),p=n,u={},v=0;for(let f=0;f<s.length;f++){const{name:w,fn:h}=s[f],{x:y,y:b,data:E,reset:P}=await h({x:d,y:g,initialPlacement:n,placement:p,strategy:r,middlewareData:u,rects:a,platform:i,elements:{reference:e,floating:t}});d=y??d,g=b??g,u={...u,[w]:{...u[w],...E}},P&&v<=50&&(v++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(a=P.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:r}):P.rects),{x:d,y:g}=Ge(a,p,l)),f=-1)}return{x:d,y:g,placement:p,strategy:r,middlewareData:u}};async function he(e,t){var o;t===void 0&&(t={});const{x:n,y:r,platform:c,rects:i,elements:s,strategy:l}=e,{boundary:a="clippingAncestors",rootBoundary:d="viewport",elementContext:g="floating",altBoundary:p=!1,padding:u=0}=ae(t,e),v=Ht(u),w=s[p?g==="floating"?"reference":"floating":g],h=Ce(await c.getClippingRect({element:(o=await(c.isElement==null?void 0:c.isElement(w)))==null||o?w:w.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(s.floating)),boundary:a,rootBoundary:d,strategy:l})),y=g==="floating"?{x:n,y:r,width:i.floating.width,height:i.floating.height}:i.reference,b=await(c.getOffsetParent==null?void 0:c.getOffsetParent(s.floating)),E=await(c.isElement==null?void 0:c.isElement(b))?await(c.getScale==null?void 0:c.getScale(b))||{x:1,y:1}:{x:1,y:1},P=Ce(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:b,strategy:l}):y);return{top:(h.top-P.top+v.top)/E.y,bottom:(P.bottom-h.bottom+v.bottom)/E.y,left:(h.left-P.left+v.left)/E.x,right:(P.right-h.right+v.right)/E.x}}function Kt(e,t,o){return(e?[...o.filter(r=>z(r)===e),...o.filter(r=>z(r)!==e)]:o.filter(r=>q(r)===r)).filter(r=>e?z(r)===e||(t?be(r)!==r:!1):!0)}const Yt=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var o,n,r;const{rects:c,middlewareData:i,placement:s,platform:l,elements:a}=t,{crossAxis:d=!1,alignment:g,allowedPlacements:p=ze,autoAlignment:u=!0,...v}=ae(e,t),f=g!==void 0||p===ze?Kt(g||null,u,p):p,w=await he(t,v),h=((o=i.autoPlacement)==null?void 0:o.index)||0,y=f[h];if(y==null)return{};const b=vt(y,c,await(l.isRTL==null?void 0:l.isRTL(a.floating)));if(s!==y)return{reset:{placement:f[0]}};const E=[w[q(y)],w[b[0]],w[b[1]]],P=[...((n=i.autoPlacement)==null?void 0:n.overflows)||[],{placement:y,overflows:E}],S=f[h+1];if(S)return{data:{index:h+1,overflows:P},reset:{placement:S}};const D=P.map(M=>{const F=z(M.placement);return[M.placement,F&&d?M.overflows.slice(0,2).reduce((N,I)=>N+I,0):M.overflows[0],M.overflows]}).sort((M,F)=>M[1]-F[1]),k=((r=D.filter(M=>M[2].slice(0,z(M[0])?2:3).every(F=>F<=0))[0])==null?void 0:r[0])||D[0][0];return k!==s?{data:{index:h+1,overflows:P},reset:{placement:k}}:{}}}},Xt=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var o,n;const{placement:r,middlewareData:c,rects:i,initialPlacement:s,platform:l,elements:a}=t,{mainAxis:d=!0,crossAxis:g=!0,fallbackPlacements:p,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:f=!0,...w}=ae(e,t);if((o=c.arrow)!=null&&o.alignmentOffset)return{};const h=q(r),y=re(s),b=q(s)===s,E=await(l.isRTL==null?void 0:l.isRTL(a.floating)),P=p||(b||!f?[Ee(s)]:$t(s)),S=v!=="none";!p&&S&&P.push(...Nt(s,f,v,E));const D=[s,...P],B=await he(t,w),k=[];let M=((n=c.flip)==null?void 0:n.overflows)||[];if(d&&k.push(B[h]),g){const $=vt(r,i,E);k.push(B[$[0]],B[$[1]])}if(M=[...M,{placement:r,overflows:k}],!k.every($=>$<=0)){var F,N;const $=(((F=c.flip)==null?void 0:F.index)||0)+1,T=D[$];if(T)return{data:{index:$,overflows:M},reset:{placement:T}};let O=(N=M.filter(C=>C.overflows[0]<=0).sort((C,x)=>C.overflows[1]-x.overflows[1])[0])==null?void 0:N.placement;if(!O)switch(u){case"bestFit":{var I;const C=(I=M.filter(x=>{if(S){const R=re(x.placement);return R===y||R==="y"}return!0}).map(x=>[x.placement,x.overflows.filter(R=>R>0).reduce((R,A)=>R+A,0)]).sort((x,R)=>x[1]-R[1])[0])==null?void 0:I[0];C&&(O=C);break}case"initialPlacement":O=s;break}if(r!==O)return{reset:{placement:O}}}return{}}}};async function jt(e,t){const{placement:o,platform:n,elements:r}=e,c=await(n.isRTL==null?void 0:n.isRTL(r.floating)),i=q(o),s=z(o),l=re(o)==="y",a=["left","top"].includes(i)?-1:1,d=c&&l?-1:1,g=ae(t,e);let{mainAxis:p,crossAxis:u,alignmentAxis:v}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return s&&typeof v=="number"&&(u=s==="end"?v*-1:v),l?{x:u*d,y:p*a}:{x:p*a,y:u*d}}const Ut=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var o,n;const{x:r,y:c,placement:i,middlewareData:s}=t,l=await jt(t,e);return i===((o=s.offset)==null?void 0:o.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:r+l.x,y:c+l.y,data:{...l,placement:i}}}}},zt=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:o,y:n,placement:r}=t,{mainAxis:c=!0,crossAxis:i=!1,limiter:s={fn:w=>{let{x:h,y}=w;return{x:h,y}}},...l}=ae(e,t),a={x:o,y:n},d=await he(t,l),g=re(q(r)),p=mt(g);let u=a[p],v=a[g];if(c){const w=p==="y"?"top":"left",h=p==="y"?"bottom":"right",y=u+d[w],b=u-d[h];u=qe(y,u,b)}if(i){const w=g==="y"?"top":"left",h=g==="y"?"bottom":"right",y=v+d[w],b=v-d[h];v=qe(y,v,b)}const f=s.fn({...t,[p]:u,[g]:v});return{...f,data:{x:f.x-o,y:f.y-n,enabled:{[p]:c,[g]:i}}}}}},qt=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var o,n;const{placement:r,rects:c,platform:i,elements:s}=t,{apply:l=()=>{},...a}=ae(e,t),d=await he(t,a),g=q(r),p=z(r),u=re(r)==="y",{width:v,height:f}=c.floating;let w,h;g==="top"||g==="bottom"?(w=g,h=p===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(h=g,w=p==="end"?"top":"bottom");const y=f-d.top-d.bottom,b=v-d.left-d.right,E=le(f-d[w],y),P=le(v-d[h],b),S=!t.middlewareData.shift;let D=E,B=P;if((o=t.middlewareData.shift)!=null&&o.enabled.x&&(B=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(D=y),S&&!p){const M=X(d.left,0),F=X(d.right,0),N=X(d.top,0),I=X(d.bottom,0);u?B=v-2*(M!==0||F!==0?M+F:X(d.left,d.right)):D=f-2*(N!==0||I!==0?N+I:X(d.top,d.bottom))}await l({...t,availableWidth:B,availableHeight:D});const k=await i.getDimensions(s.floating);return v!==k.width||f!==k.height?{reset:{rects:!0}}:{}}}};function ht(e){const t=U(e);let o=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const r=V(e),c=r?e.offsetWidth:o,i=r?e.offsetHeight:n,s=Re(o)!==c||Re(n)!==i;return s&&(o=c,n=i),{width:o,height:n,$:s}}function Ve(e){return _(e)?e:e.contextElement}function ce(e){const t=Ve(e);if(!V(t))return ne(1);const o=t.getBoundingClientRect(),{width:n,height:r,$:c}=ht(t);let i=(c?Re(o.width):o.width)/n,s=(c?Re(o.height):o.height)/r;return(!i||!Number.isFinite(i))&&(i=1),(!s||!Number.isFinite(s))&&(s=1),{x:i,y:s}}const Gt=ne(0);function wt(e){const t=K(e);return!Le()||!t.visualViewport?Gt:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Jt(e,t,o){return t===void 0&&(t=!1),!o||t&&o!==K(e)?!1:t}function ie(e,t,o,n){t===void 0&&(t=!1),o===void 0&&(o=!1);const r=e.getBoundingClientRect(),c=Ve(e);let i=ne(1);t&&(n?_(n)&&(i=ce(n)):i=ce(e));const s=Jt(c,o,n)?wt(c):ne(0);let l=(r.left+s.x)/i.x,a=(r.top+s.y)/i.y,d=r.width/i.x,g=r.height/i.y;if(c){const p=K(c),u=n&&_(n)?K(n):n;let v=p,f=Ne(v);for(;f&&n&&u!==v;){const w=ce(f),h=f.getBoundingClientRect(),y=U(f),b=h.left+(f.clientLeft+parseFloat(y.paddingLeft))*w.x,E=h.top+(f.clientTop+parseFloat(y.paddingTop))*w.y;l*=w.x,a*=w.y,d*=w.x,g*=w.y,l+=b,a+=E,v=K(f),f=Ne(v)}}return Ce({width:d,height:g,x:l,y:a})}function Qt(e){let{elements:t,rect:o,offsetParent:n,strategy:r}=e;const c=r==="fixed",i=G(n),s=t?Ae(t.floating):!1;if(n===i||s&&c)return o;let l={scrollLeft:0,scrollTop:0},a=ne(1);const d=ne(0),g=V(n);if((g||!g&&!c)&&((fe(n)!=="body"||ve(i))&&(l=Me(n)),V(n))){const p=ie(n);a=ce(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}return{width:o.width*a.x,height:o.height*a.y,x:o.x*a.x-l.scrollLeft*a.x+d.x,y:o.y*a.y-l.scrollTop*a.y+d.y}}function Zt(e){return Array.from(e.getClientRects())}function We(e,t){const o=Me(e).scrollLeft;return t?t.left+o:ie(G(e)).left+o}function en(e){const t=G(e),o=Me(e),n=e.ownerDocument.body,r=X(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),c=X(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-o.scrollLeft+We(e);const s=-o.scrollTop;return U(n).direction==="rtl"&&(i+=X(t.clientWidth,n.clientWidth)-r),{width:r,height:c,x:i,y:s}}function tn(e,t){const o=K(e),n=G(e),r=o.visualViewport;let c=n.clientWidth,i=n.clientHeight,s=0,l=0;if(r){c=r.width,i=r.height;const a=Le();(!a||a&&t==="fixed")&&(s=r.offsetLeft,l=r.offsetTop)}return{width:c,height:i,x:s,y:l}}function nn(e,t){const o=ie(e,!0,t==="fixed"),n=o.top+e.clientTop,r=o.left+e.clientLeft,c=V(e)?ce(e):ne(1),i=e.clientWidth*c.x,s=e.clientHeight*c.y,l=r*c.x,a=n*c.y;return{width:i,height:s,x:l,y:a}}function Je(e,t,o){let n;if(t==="viewport")n=tn(e,o);else if(t==="document")n=en(G(e));else if(_(t))n=nn(t,o);else{const r=wt(e);n={...t,x:t.x-r.x,y:t.y-r.y}}return Ce(n)}function yt(e,t){const o=ee(e);return o===t||!_(o)||Z(o)?!1:U(o).position==="fixed"||yt(o,t)}function on(e,t){const o=t.get(e);if(o)return o;let n=te(e,[],!1).filter(s=>_(s)&&fe(s)!=="body"),r=null;const c=U(e).position==="fixed";let i=c?ee(e):e;for(;_(i)&&!Z(i);){const s=U(i),l=He(i);!l&&s.position==="fixed"&&(r=null),(c?!l&&!r:!l&&s.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||ve(i)&&!l&&yt(e,i))?n=n.filter(d=>d!==i):r=s,i=ee(i)}return t.set(e,n),n}function rn(e){let{element:t,boundary:o,rootBoundary:n,strategy:r}=e;const i=[...o==="clippingAncestors"?Ae(t)?[]:on(t,this._c):[].concat(o),n],s=i[0],l=i.reduce((a,d)=>{const g=Je(t,d,r);return a.top=X(g.top,a.top),a.right=le(g.right,a.right),a.bottom=le(g.bottom,a.bottom),a.left=X(g.left,a.left),a},Je(t,s,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function sn(e){const{width:t,height:o}=ht(e);return{width:t,height:o}}function cn(e,t,o){const n=V(t),r=G(t),c=o==="fixed",i=ie(e,!0,c,t);let s={scrollLeft:0,scrollTop:0};const l=ne(0);if(n||!n&&!c)if((fe(t)!=="body"||ve(r))&&(s=Me(t)),n){const u=ie(t,!0,c,t);l.x=u.x+t.clientLeft,l.y=u.y+t.clientTop}else r&&(l.x=We(r));let a=0,d=0;if(r&&!n&&!c){const u=r.getBoundingClientRect();d=u.top+s.scrollTop,a=u.left+s.scrollLeft-We(r,u)}const g=i.left+s.scrollLeft-l.x-a,p=i.top+s.scrollTop-l.y-d;return{x:g,y:p,width:i.width,height:i.height}}function Oe(e){return U(e).position==="static"}function Qe(e,t){if(!V(e)||U(e).position==="fixed")return null;if(t)return t(e);let o=e.offsetParent;return G(e)===o&&(o=o.ownerDocument.body),o}function xt(e,t){const o=K(e);if(Ae(e))return o;if(!V(e)){let r=ee(e);for(;r&&!Z(r);){if(_(r)&&!Oe(r))return r;r=ee(r)}return o}let n=Qe(e,t);for(;n&&Dt(n)&&Oe(n);)n=Qe(n,t);return n&&Z(n)&&Oe(n)&&!He(n)?o:n||kt(e)||o}const ln=async function(e){const t=this.getOffsetParent||xt,o=this.getDimensions,n=await o(e.floating);return{reference:cn(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function un(e){return U(e).direction==="rtl"}const fn={convertOffsetParentRelativeRectToViewportRelativeRect:Qt,getDocumentElement:G,getClippingRect:rn,getOffsetParent:xt,getElementRects:ln,getClientRects:Zt,getDimensions:sn,getScale:ce,isElement:_,isRTL:un};function an(e,t){let o=null,n;const r=G(e);function c(){var s;clearTimeout(n),(s=o)==null||s.disconnect(),o=null}function i(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),c();const{left:a,top:d,width:g,height:p}=e.getBoundingClientRect();if(s||t(),!g||!p)return;const u=we(d),v=we(r.clientWidth-(a+g)),f=we(r.clientHeight-(d+p)),w=we(a),y={rootMargin:-u+"px "+-v+"px "+-f+"px "+-w+"px",threshold:X(0,le(1,l))||1};let b=!0;function E(P){const S=P[0].intersectionRatio;if(S!==l){if(!b)return i();S?i(!1,S):n=setTimeout(()=>{i(!1,1e-7)},1e3)}b=!1}try{o=new IntersectionObserver(E,{...y,root:r.ownerDocument})}catch{o=new IntersectionObserver(E,y)}o.observe(e)}return i(!0),c}function zn(e,t,o,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:c=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,a=Ve(e),d=r||c?[...a?te(a):[],...te(t)]:[];d.forEach(h=>{r&&h.addEventListener("scroll",o,{passive:!0}),c&&h.addEventListener("resize",o)});const g=a&&s?an(a,o):null;let p=-1,u=null;i&&(u=new ResizeObserver(h=>{let[y]=h;y&&y.target===a&&u&&(u.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=u)==null||b.observe(t)})),o()}),a&&!l&&u.observe(a),u.observe(t));let v,f=l?ie(e):null;l&&w();function w(){const h=ie(e);f&&(h.x!==f.x||h.y!==f.y||h.width!==f.width||h.height!==f.height)&&o(),f=h,v=requestAnimationFrame(w)}return o(),()=>{var h;d.forEach(y=>{r&&y.removeEventListener("scroll",o),c&&y.removeEventListener("resize",o)}),g==null||g(),(h=u)==null||h.disconnect(),u=null,l&&cancelAnimationFrame(v)}}const qn=he,dn=Ut,mn=Yt,gn=zt,pn=Xt,vn=qt,hn=(e,t,o)=>{const n=new Map,r={platform:fn,...o},c={...r.platform,_c:n};return Vt(e,t,{...r,platform:c})};var xe=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Te(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let o,n,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(o=e.length,o!==t.length)return!1;for(n=o;n--!==0;)if(!Te(e[n],t[n]))return!1;return!0}if(r=Object.keys(e),o=r.length,o!==Object.keys(t).length)return!1;for(n=o;n--!==0;)if(!{}.hasOwnProperty.call(t,r[n]))return!1;for(n=o;n--!==0;){const c=r[n];if(!(c==="_owner"&&e.$$typeof)&&!Te(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}function Rt(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ze(e,t){const o=Rt(e);return Math.round(t*o)/o}function Se(e){const t=m.useRef(e);return xe(()=>{t.current=e}),t}function wn(e){e===void 0&&(e={});const{placement:t="bottom",strategy:o="absolute",middleware:n=[],platform:r,elements:{reference:c,floating:i}={},transform:s=!0,whileElementsMounted:l,open:a}=e,[d,g]=m.useState({x:0,y:0,strategy:o,placement:t,middlewareData:{},isPositioned:!1}),[p,u]=m.useState(n);Te(p,n)||u(n);const[v,f]=m.useState(null),[w,h]=m.useState(null),y=m.useCallback(x=>{x!==S.current&&(S.current=x,f(x))},[]),b=m.useCallback(x=>{x!==D.current&&(D.current=x,h(x))},[]),E=c||v,P=i||w,S=m.useRef(null),D=m.useRef(null),B=m.useRef(d),k=l!=null,M=Se(l),F=Se(r),N=Se(a),I=m.useCallback(()=>{if(!S.current||!D.current)return;const x={placement:t,strategy:o,middleware:p};F.current&&(x.platform=F.current),hn(S.current,D.current,x).then(R=>{const A={...R,isPositioned:N.current!==!1};$.current&&!Te(B.current,A)&&(B.current=A,St.flushSync(()=>{g(A)}))})},[p,t,o,F,N]);xe(()=>{a===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,g(x=>({...x,isPositioned:!1})))},[a]);const $=m.useRef(!1);xe(()=>($.current=!0,()=>{$.current=!1}),[]),xe(()=>{if(E&&(S.current=E),P&&(D.current=P),E&&P){if(M.current)return M.current(E,P,I);I()}},[E,P,I,M,k]);const T=m.useMemo(()=>({reference:S,floating:D,setReference:y,setFloating:b}),[y,b]),O=m.useMemo(()=>({reference:E,floating:P}),[E,P]),C=m.useMemo(()=>{const x={position:o,left:0,top:0};if(!O.floating)return x;const R=Ze(O.floating,d.x),A=Ze(O.floating,d.y);return s?{...x,transform:"translate("+R+"px, "+A+"px)",...Rt(O.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:R,top:A}},[o,s,O.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:I,refs:T,elements:O,floatingStyles:C}),[d,I,T,O,C])}const Gn=(e,t)=>({...dn(e),options:[e,t]}),Jn=(e,t)=>({...gn(e),options:[e,t]}),Qn=(e,t)=>({...pn(e),options:[e,t]}),Zn=(e,t)=>({...vn(e),options:[e,t]}),eo=(e,t)=>({...mn(e),options:[e,t]});function yn(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function xn(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:o,version:n}=t;return o+"/"+n}).join(" "):navigator.userAgent}function Rn(){return/apple/i.test(navigator.vendor)}function bn(){return yn().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function En(){return xn().includes("jsdom/")}const et="data-floating-ui-focusable",Cn="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function tt(e){let t=e.activeElement;for(;((o=t)==null||(o=o.shadowRoot)==null?void 0:o.activeElement)!=null;){var o;t=t.shadowRoot.activeElement}return t}function ge(e,t){if(!e||!t)return!1;const o=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(o&&Be(o)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function se(e){return"composedPath"in e?e.composedPath()[0]:e.target}function De(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const o=e;return o.target!=null&&t.contains(o.target)}function Tn(e){return e.matches("html,body")}function oe(e){return(e==null?void 0:e.ownerDocument)||document}function bt(e){return V(e)&&e.matches(Cn)}function Pn(e){if(!e||En())return!0;try{return e.matches(":focus-visible")}catch{return!0}}function An(e){return e?e.hasAttribute(et)?e:e.querySelector("["+et+"]")||e:null}function ke(e,t,o){o===void 0&&(o=!0);let n=e.filter(c=>{var i;return c.parentId===t&&((i=c.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=o?e.filter(c=>{var i;return(i=r)==null?void 0:i.some(s=>{var l;return c.parentId===s.id&&((l=c.context)==null?void 0:l.open)})}):e,n=n.concat(r);return n}function Ln(e){return"nativeEvent"in e}function pe(e,t){const o=["mouse","pen"];return t||o.push("",void 0),o.includes(e)}var ue=typeof document<"u"?m.useLayoutEffect:m.useEffect;const Mn={...ft};function ye(e){const t=m.useRef(e);return ue(()=>{t.current=e}),t}const On=Mn.useInsertionEffect,Sn=On||(e=>e());function Q(e){const t=m.useRef(()=>{});return Sn(()=>{t.current=e}),m.useCallback(function(){for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return t.current==null?void 0:t.current(...n)},[])}function to(e){const t=m.useRef(void 0),o=m.useCallback(n=>{const r=e.map(c=>{if(c!=null){if(typeof c=="function"){const i=c,s=i(n);return typeof s=="function"?s:()=>{i(null)}}return c.current=n,()=>{c.current=null}}});return()=>{r.forEach(c=>c==null?void 0:c())}},e);return m.useMemo(()=>e.every(n=>n==null)?null:n=>{t.current&&(t.current(),t.current=void 0),n!=null&&(t.current=o(n))},e)}const Dn="data-floating-ui-focusable",nt="active",ot="selected",kn={...ft};let rt=!1,Fn=0;const it=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Fn++;function _n(){const[e,t]=m.useState(()=>rt?it():void 0);return ue(()=>{e==null&&t(it())},[]),m.useEffect(()=>{rt=!0},[]),e}const In=kn.useId,Et=In||_n;function $n(){const e=new Map;return{emit(t,o){var n;(n=e.get(t))==null||n.forEach(r=>r(o))},on(t,o){e.has(t)||e.set(t,new Set),e.get(t).add(o)},off(t,o){var n;(n=e.get(t))==null||n.delete(o)}}}const Bn=m.createContext(null),Nn=m.createContext(null),Ke=()=>{var e;return((e=m.useContext(Bn))==null?void 0:e.id)||null},Ye=()=>m.useContext(Nn);function Xe(e){return"data-floating-ui-"+e}function j(e){e.current!==-1&&(clearTimeout(e.current),e.current=-1)}const st=Xe("safe-polygon");function Fe(e,t,o){if(o&&!pe(o))return 0;if(typeof e=="number")return e;if(typeof e=="function"){const n=e();return typeof n=="number"?n:n==null?void 0:n[t]}return e==null?void 0:e[t]}function _e(e){return typeof e=="function"?e():e}function no(e,t){t===void 0&&(t={});const{open:o,onOpenChange:n,dataRef:r,events:c,elements:i}=e,{enabled:s=!0,delay:l=0,handleClose:a=null,mouseOnly:d=!1,restMs:g=0,move:p=!0}=t,u=Ye(),v=Ke(),f=ye(a),w=ye(l),h=ye(o),y=ye(g),b=m.useRef(),E=m.useRef(-1),P=m.useRef(),S=m.useRef(-1),D=m.useRef(!0),B=m.useRef(!1),k=m.useRef(()=>{}),M=m.useRef(!1),F=m.useCallback(()=>{var C;const x=(C=r.current.openEvent)==null?void 0:C.type;return(x==null?void 0:x.includes("mouse"))&&x!=="mousedown"},[r]);m.useEffect(()=>{if(!s)return;function C(x){let{open:R}=x;R||(j(E),j(S),D.current=!0,M.current=!1)}return c.on("openchange",C),()=>{c.off("openchange",C)}},[s,c]),m.useEffect(()=>{if(!s||!f.current||!o)return;function C(R){F()&&n(!1,R,"hover")}const x=oe(i.floating).documentElement;return x.addEventListener("mouseleave",C),()=>{x.removeEventListener("mouseleave",C)}},[i.floating,o,n,s,f,F]);const N=m.useCallback(function(C,x,R){x===void 0&&(x=!0),R===void 0&&(R="hover");const A=Fe(w.current,"close",b.current);A&&!P.current?(j(E),E.current=window.setTimeout(()=>n(!1,C,R),A)):x&&(j(E),n(!1,C,R))},[w,n]),I=Q(()=>{k.current(),P.current=void 0}),$=Q(()=>{if(B.current){const C=oe(i.floating).body;C.style.pointerEvents="",C.removeAttribute(st),B.current=!1}}),T=Q(()=>r.current.openEvent?["click","mousedown"].includes(r.current.openEvent.type):!1);m.useEffect(()=>{if(!s)return;function C(L){if(j(E),D.current=!1,d&&!pe(b.current)||_e(y.current)>0&&!Fe(w.current,"open"))return;const H=Fe(w.current,"open",b.current);H?E.current=window.setTimeout(()=>{h.current||n(!0,L,"hover")},H):o||n(!0,L,"hover")}function x(L){if(T()){$();return}k.current();const H=oe(i.floating);if(j(S),M.current=!1,f.current&&r.current.floatingContext){o||j(E),P.current=f.current({...r.current.floatingContext,tree:u,x:L.clientX,y:L.clientY,onClose(){$(),I(),T()||N(L,!0,"safe-polygon")}});const de=P.current;H.addEventListener("mousemove",de),k.current=()=>{H.removeEventListener("mousemove",de)};return}(b.current==="touch"?!ge(i.floating,L.relatedTarget):!0)&&N(L)}function R(L){T()||r.current.floatingContext&&(f.current==null||f.current({...r.current.floatingContext,tree:u,x:L.clientX,y:L.clientY,onClose(){$(),I(),T()||N(L)}})(L))}function A(){j(E)}function W(L){T()||N(L,!1)}if(_(i.domReference)){const L=i.domReference,H=i.floating;return o&&L.addEventListener("mouseleave",R),p&&L.addEventListener("mousemove",C,{once:!0}),L.addEventListener("mouseenter",C),L.addEventListener("mouseleave",x),H&&(H.addEventListener("mouseleave",R),H.addEventListener("mouseenter",A),H.addEventListener("mouseleave",W)),()=>{o&&L.removeEventListener("mouseleave",R),p&&L.removeEventListener("mousemove",C),L.removeEventListener("mouseenter",C),L.removeEventListener("mouseleave",x),H&&(H.removeEventListener("mouseleave",R),H.removeEventListener("mouseenter",A),H.removeEventListener("mouseleave",W))}}},[i,s,e,d,p,N,I,$,n,o,h,u,w,f,r,T,y]),ue(()=>{var C;if(s&&o&&(C=f.current)!=null&&C.__options.blockPointerEvents&&F()){B.current=!0;const R=i.floating;if(_(i.domReference)&&R){var x;const A=oe(i.floating).body;A.setAttribute(st,"");const W=i.domReference,L=u==null||(x=u.nodesRef.current.find(H=>H.id===v))==null||(x=x.context)==null?void 0:x.elements.floating;return L&&(L.style.pointerEvents=""),A.style.pointerEvents="none",W.style.pointerEvents="auto",R.style.pointerEvents="auto",()=>{A.style.pointerEvents="",W.style.pointerEvents="",R.style.pointerEvents=""}}}},[s,o,v,i,u,f,F]),ue(()=>{o||(b.current=void 0,M.current=!1,I(),$())},[o,I,$]),m.useEffect(()=>()=>{I(),j(E),j(S),$()},[s,i.domReference,I,$]);const O=m.useMemo(()=>{function C(x){b.current=x.pointerType}return{onPointerDown:C,onPointerEnter:C,onMouseMove(x){const{nativeEvent:R}=x;function A(){!D.current&&!h.current&&n(!0,R,"hover")}d&&!pe(b.current)||o||_e(y.current)===0||M.current&&x.movementX**2+x.movementY**2<2||(j(S),b.current==="touch"?A():(M.current=!0,S.current=window.setTimeout(A,_e(y.current))))}}},[d,n,o,h,y]);return m.useMemo(()=>s?{reference:O}:{},[s,O])}function ct(e){return V(e.target)&&e.target.tagName==="BUTTON"}function Wn(e){return V(e.target)&&e.target.tagName==="A"}function lt(e){return bt(e)}function oo(e,t){t===void 0&&(t={});const{open:o,onOpenChange:n,dataRef:r,elements:{domReference:c}}=e,{enabled:i=!0,event:s="click",toggle:l=!0,ignoreMouse:a=!1,keyboardHandlers:d=!0,stickIfOpen:g=!0}=t,p=m.useRef(),u=m.useRef(!1),v=m.useMemo(()=>({onPointerDown(f){p.current=f.pointerType},onMouseDown(f){const w=p.current;f.button===0&&s!=="click"&&(pe(w,!0)&&a||(o&&l&&(!(r.current.openEvent&&g)||r.current.openEvent.type==="mousedown")?n(!1,f.nativeEvent,"click"):(f.preventDefault(),n(!0,f.nativeEvent,"click"))))},onClick(f){const w=p.current;if(s==="mousedown"&&p.current){p.current=void 0;return}pe(w,!0)&&a||(o&&l&&(!(r.current.openEvent&&g)||r.current.openEvent.type==="click")?n(!1,f.nativeEvent,"click"):n(!0,f.nativeEvent,"click"))},onKeyDown(f){p.current=void 0,!(f.defaultPrevented||!d||ct(f))&&(f.key===" "&&!lt(c)&&(f.preventDefault(),u.current=!0),!Wn(f)&&f.key==="Enter"&&n(!(o&&l),f.nativeEvent,"click"))},onKeyUp(f){f.defaultPrevented||!d||ct(f)||lt(c)||f.key===" "&&u.current&&(u.current=!1,n(!(o&&l),f.nativeEvent,"click"))}}),[r,c,s,a,d,n,o,g,l]);return m.useMemo(()=>i?{reference:v}:{},[i,v])}const Hn={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Vn={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},ut=e=>{var t,o;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(o=e==null?void 0:e.outsidePress)!=null?o:!0}};function ro(e,t){t===void 0&&(t={});const{open:o,onOpenChange:n,elements:r,dataRef:c}=e,{enabled:i=!0,escapeKey:s=!0,outsidePress:l=!0,outsidePressEvent:a="pointerdown",referencePress:d=!1,referencePressEvent:g="pointerdown",ancestorScroll:p=!1,bubbles:u,capture:v}=t,f=Ye(),w=Q(typeof l=="function"?l:()=>!1),h=typeof l=="function"?w:l,y=m.useRef(!1),b=m.useRef(!1),{escapeKey:E,outsidePress:P}=ut(u),{escapeKey:S,outsidePress:D}=ut(v),B=m.useRef(!1),k=Q(T=>{var O;if(!o||!i||!s||T.key!=="Escape"||B.current)return;const C=(O=c.current.floatingContext)==null?void 0:O.nodeId,x=f?ke(f.nodesRef.current,C):[];if(!E&&(T.stopPropagation(),x.length>0)){let R=!0;if(x.forEach(A=>{var W;if((W=A.context)!=null&&W.open&&!A.context.dataRef.current.__escapeKeyBubbles){R=!1;return}}),!R)return}n(!1,Ln(T)?T.nativeEvent:T,"escape-key")}),M=Q(T=>{var O;const C=()=>{var x;k(T),(x=se(T))==null||x.removeEventListener("keydown",C)};(O=se(T))==null||O.addEventListener("keydown",C)}),F=Q(T=>{var O;const C=y.current;y.current=!1;const x=b.current;if(b.current=!1,a==="click"&&x||C||typeof h=="function"&&!h(T))return;const R=se(T),A="["+Xe("inert")+"]",W=oe(r.floating).querySelectorAll(A);let L=_(R)?R:null;for(;L&&!Z(L);){const Y=ee(L);if(Z(Y)||!_(Y))break;L=Y}if(W.length&&_(R)&&!Tn(R)&&!ge(R,r.floating)&&Array.from(W).every(Y=>!ge(L,Y)))return;if(V(R)&&$){const Y=Z(R),J=U(R),me=/auto|scroll/,Ct=Y||me.test(J.overflowX),Tt=Y||me.test(J.overflowY),Pt=Ct&&R.clientWidth>0&&R.scrollWidth>R.clientWidth,At=Tt&&R.clientHeight>0&&R.scrollHeight>R.clientHeight,Lt=J.direction==="rtl",Mt=At&&(Lt?T.offsetX<=R.offsetWidth-R.clientWidth:T.offsetX>R.clientWidth),Ot=Pt&&T.offsetY>R.clientHeight;if(Mt||Ot)return}const H=(O=c.current.floatingContext)==null?void 0:O.nodeId,je=f&&ke(f.nodesRef.current,H).some(Y=>{var J;return De(T,(J=Y.context)==null?void 0:J.elements.floating)});if(De(T,r.floating)||De(T,r.domReference)||je)return;const de=f?ke(f.nodesRef.current,H):[];if(de.length>0){let Y=!0;if(de.forEach(J=>{var me;if((me=J.context)!=null&&me.open&&!J.context.dataRef.current.__outsidePressBubbles){Y=!1;return}}),!Y)return}n(!1,T,"outside-press")}),N=Q(T=>{var O;const C=()=>{var x;F(T),(x=se(T))==null||x.removeEventListener(a,C)};(O=se(T))==null||O.addEventListener(a,C)});m.useEffect(()=>{if(!o||!i)return;c.current.__escapeKeyBubbles=E,c.current.__outsidePressBubbles=P;let T=-1;function O(W){n(!1,W,"ancestor-scroll")}function C(){window.clearTimeout(T),B.current=!0}function x(){T=window.setTimeout(()=>{B.current=!1},Le()?5:0)}const R=oe(r.floating);s&&(R.addEventListener("keydown",S?M:k,S),R.addEventListener("compositionstart",C),R.addEventListener("compositionend",x)),h&&R.addEventListener(a,D?N:F,D);let A=[];return p&&(_(r.domReference)&&(A=te(r.domReference)),_(r.floating)&&(A=A.concat(te(r.floating))),!_(r.reference)&&r.reference&&r.reference.contextElement&&(A=A.concat(te(r.reference.contextElement)))),A=A.filter(W=>{var L;return W!==((L=R.defaultView)==null?void 0:L.visualViewport)}),A.forEach(W=>{W.addEventListener("scroll",O,{passive:!0})}),()=>{s&&(R.removeEventListener("keydown",S?M:k,S),R.removeEventListener("compositionstart",C),R.removeEventListener("compositionend",x)),h&&R.removeEventListener(a,D?N:F,D),A.forEach(W=>{W.removeEventListener("scroll",O)}),window.clearTimeout(T)}},[c,r,s,h,a,o,n,p,i,E,P,k,S,M,F,D,N]),m.useEffect(()=>{y.current=!1},[h,a]);const I=m.useMemo(()=>({onKeyDown:k,...d&&{[Hn[g]]:T=>{n(!1,T.nativeEvent,"reference-press")},...g!=="click"&&{onClick(T){n(!1,T.nativeEvent,"reference-press")}}}}),[k,n,d,g]),$=m.useMemo(()=>({onKeyDown:k,onMouseDown(){b.current=!0},onMouseUp(){b.current=!0},[Vn[a]]:()=>{y.current=!0}}),[k,a]);return m.useMemo(()=>i?{reference:I,floating:$}:{},[i,I,$])}function Kn(e){const{open:t=!1,onOpenChange:o,elements:n}=e,r=Et(),c=m.useRef({}),[i]=m.useState(()=>$n()),s=Ke()!=null,[l,a]=m.useState(n.reference),d=Q((u,v,f)=>{c.current.openEvent=u?v:void 0,i.emit("openchange",{open:u,event:v,reason:f,nested:s}),o==null||o(u,v,f)}),g=m.useMemo(()=>({setPositionReference:a}),[]),p=m.useMemo(()=>({reference:l||n.reference||null,floating:n.floating||null,domReference:n.reference}),[l,n.reference,n.floating]);return m.useMemo(()=>({dataRef:c,open:t,onOpenChange:d,elements:p,events:i,floatingId:r,refs:g}),[t,d,p,i,r,g])}function io(e){e===void 0&&(e={});const{nodeId:t}=e,o=Kn({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||o,r=n.elements,[c,i]=m.useState(null),[s,l]=m.useState(null),d=(r==null?void 0:r.domReference)||c,g=m.useRef(null),p=Ye();ue(()=>{d&&(g.current=d)},[d]);const u=wn({...e,elements:{...r,...s&&{reference:s}}}),v=m.useCallback(b=>{const E=_(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),getClientRects:()=>b.getClientRects(),contextElement:b}:b;l(E),u.refs.setReference(E)},[u.refs]),f=m.useCallback(b=>{(_(b)||b===null)&&(g.current=b,i(b)),(_(u.refs.reference.current)||u.refs.reference.current===null||b!==null&&!_(b))&&u.refs.setReference(b)},[u.refs]),w=m.useMemo(()=>({...u.refs,setReference:f,setPositionReference:v,domReference:g}),[u.refs,f,v]),h=m.useMemo(()=>({...u.elements,domReference:d}),[u.elements,d]),y=m.useMemo(()=>({...u,...n,refs:w,elements:h,nodeId:t}),[u,w,h,t,n]);return ue(()=>{n.dataRef.current.floatingContext=y;const b=p==null?void 0:p.nodesRef.current.find(E=>E.id===t);b&&(b.context=y)}),m.useMemo(()=>({...u,context:y,refs:w,elements:h}),[u,w,h,y])}function Ie(){return bn()&&Rn()}function so(e,t){t===void 0&&(t={});const{open:o,onOpenChange:n,events:r,dataRef:c,elements:i}=e,{enabled:s=!0,visibleOnly:l=!0}=t,a=m.useRef(!1),d=m.useRef(-1),g=m.useRef(!0);m.useEffect(()=>{if(!s)return;const u=K(i.domReference);function v(){!o&&V(i.domReference)&&i.domReference===tt(oe(i.domReference))&&(a.current=!0)}function f(){g.current=!0}function w(){g.current=!1}return u.addEventListener("blur",v),Ie()&&(u.addEventListener("keydown",f,!0),u.addEventListener("pointerdown",w,!0)),()=>{u.removeEventListener("blur",v),Ie()&&(u.removeEventListener("keydown",f,!0),u.removeEventListener("pointerdown",w,!0))}},[i.domReference,o,s]),m.useEffect(()=>{if(!s)return;function u(v){let{reason:f}=v;(f==="reference-press"||f==="escape-key")&&(a.current=!0)}return r.on("openchange",u),()=>{r.off("openchange",u)}},[r,s]),m.useEffect(()=>()=>{j(d)},[]);const p=m.useMemo(()=>({onMouseLeave(){a.current=!1},onFocus(u){if(a.current)return;const v=se(u.nativeEvent);if(l&&_(v)){if(Ie()&&!u.relatedTarget){if(!g.current&&!bt(v))return}else if(!Pn(v))return}n(!0,u.nativeEvent,"focus")},onBlur(u){a.current=!1;const v=u.relatedTarget,f=u.nativeEvent,w=_(v)&&v.hasAttribute(Xe("focus-guard"))&&v.getAttribute("data-type")==="outside";d.current=window.setTimeout(()=>{var h;const y=tt(i.domReference?i.domReference.ownerDocument:document);!v&&y===i.domReference||ge((h=c.current.floatingContext)==null?void 0:h.refs.floating.current,y)||ge(i.domReference,y)||w||n(!1,f,"focus")})}}),[c,i.domReference,n,l]);return m.useMemo(()=>s?{reference:p}:{},[s,p])}function $e(e,t,o){const n=new Map,r=o==="item";let c=e;if(r&&e){const{[nt]:i,[ot]:s,...l}=e;c=l}return{...o==="floating"&&{tabIndex:-1,[Dn]:""},...c,...t.map(i=>{const s=i?i[o]:null;return typeof s=="function"?e?s(e):null:s}).concat(e).reduce((i,s)=>(s&&Object.entries(s).forEach(l=>{let[a,d]=l;if(!(r&&[nt,ot].includes(a)))if(a.indexOf("on")===0){if(n.has(a)||n.set(a,[]),typeof d=="function"){var g;(g=n.get(a))==null||g.push(d),i[a]=function(){for(var p,u=arguments.length,v=new Array(u),f=0;f<u;f++)v[f]=arguments[f];return(p=n.get(a))==null?void 0:p.map(w=>w(...v)).find(w=>w!==void 0)}}}else i[a]=d}),i),{})}}function co(e){e===void 0&&(e=[]);const t=e.map(s=>s==null?void 0:s.reference),o=e.map(s=>s==null?void 0:s.floating),n=e.map(s=>s==null?void 0:s.item),r=m.useCallback(s=>$e(s,e,"reference"),t),c=m.useCallback(s=>$e(s,e,"floating"),o),i=m.useCallback(s=>$e(s,e,"item"),n);return m.useMemo(()=>({getReferenceProps:r,getFloatingProps:c,getItemProps:i}),[r,c,i])}const Yn=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function lo(e,t){var o,n;t===void 0&&(t={});const{open:r,elements:c,floatingId:i}=e,{enabled:s=!0,role:l="dialog"}=t,a=Et(),d=((o=c.domReference)==null?void 0:o.id)||a,g=m.useMemo(()=>{var y;return((y=An(c.floating))==null?void 0:y.id)||i},[c.floating,i]),p=(n=Yn.get(l))!=null?n:l,v=Ke()!=null,f=m.useMemo(()=>p==="tooltip"||l==="label"?{["aria-"+(l==="label"?"labelledby":"describedby")]:r?g:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":p==="alertdialog"?"dialog":p,"aria-controls":r?g:void 0,...p==="listbox"&&{role:"combobox"},...p==="menu"&&{id:d},...p==="menu"&&v&&{role:"menuitem"},...l==="select"&&{"aria-autocomplete":"none"},...l==="combobox"&&{"aria-autocomplete":"list"}},[p,g,v,r,d,l]),w=m.useMemo(()=>{const y={id:g,...p&&{role:p}};return p==="tooltip"||l==="label"?y:{...y,...p==="menu"&&{"aria-labelledby":d}}},[p,g,d,l]),h=m.useCallback(y=>{let{active:b,selected:E}=y;const P={role:"option",...b&&{id:g+"-fui-option"}};switch(l){case"select":return{...P,"aria-selected":b&&E};case"combobox":return{...P,"aria-selected":E}}return{}},[g,l]);return m.useMemo(()=>s?{reference:f,floating:w,item:h}:{},[s,f,w,h])}export{co as a,oo as b,ro as c,eo as d,Jn as e,zn as f,no as g,so as h,lo as i,Qn as j,to as k,wn as l,_ as m,ae as n,Gn as o,qn as p,X as q,Re as r,Zn as s,le as t,io as u};
