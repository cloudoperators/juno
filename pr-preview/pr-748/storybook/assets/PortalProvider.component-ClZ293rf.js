import{j as i}from"./jsx-runtime-D6fbYt3N.js";import{r}from"./index-DysCNOs_.js";import{P as l}from"./index-BHU3UH5b.js";import{r as p}from"./index-DxCGxluL.js";const m="juno-portal-root",u=r.createContext(),P={position:"absolute",top:"0",left:"0",zIndex:"9999"},f={position:"relative",zIndex:"1"},c=({children:t})=>{const e=r.useContext(u),[a,n]=r.useState(!1);if(r.useEffect(()=>{e!=null&&e.current&&n(!0)},[e]),!a)return null;const o=i.jsx("div",{className:"juno-portal",style:f,children:t});return p.createPortal(o,e.current||document.body)};c.propTypes={children:l.node};function g(){const t=r.useContext(u),e=r.useRef(null),[a,n]=r.useState(!1);return r.useEffect(()=>{if(!t||!(t!=null&&t.current)){console.warn("usePortalRef must be called inside a PortalProvider. You are probably using a component that renders a portal, e.g. Modal or Select. Make sure your app is wrapped in an AppShellProvider. Alternatively, a PortalProvider can be included manually.");return}const o=document.createElement("div");return o.style.position="relative",o.style.zIndex="1",o.classList.add("juno-portal"),t.current.append(o),e.current=o,n(!0),()=>{e.current&&(t!=null&&t.current)&&(t.current.removeChild(e.current),e.current=null)}},[t]),e!=null&&e.current&&a?e.current:null}const s=({children:t,className:e="",id:a=m})=>{const n=r.useRef(),[o,d]=r.useState(!1);return r.useEffect(()=>{n.current&&d(!0)},[]),i.jsxs(u.Provider,{value:n,children:[o&&t,i.jsx("div",{className:`juno-portal-root ${e}`,id:a,ref:n,style:P})]})};s.Portal=c;c.displayName="PortalProvider.Portal";s.propTypes={className:l.string,id:l.string,children:l.node};s.Portal.propTypes={children:l.node};s.__docgenInfo={description:"A PortalProvider component that helps using and managing portals.\nIt renders a portal root container, creates a context to expose a ref the container, a `PortalProvider.Portal` component to render content into a portal, and a `usePortalRef` hook to render content into a portal.\nNormally, there is no need to include `PortalProvider` manually, when using `AppShell` `PortalProvider` is already included in the app.",methods:[{name:"Portal",docblock:null,modifiers:["static"],params:[{name:"{ children }",optional:!1,type:null}],returns:null}],displayName:"PortalProvider",props:{className:{defaultValue:{value:'""',computed:!1},description:"Pass a custom className to the portal root container in which portals will be mounted",type:{name:"string"},required:!1},id:{defaultValue:{value:'"juno-portal-root"',computed:!1},description:"Pass a custom id to the portal root container in which portals will be mounted",type:{name:"string"},required:!1},children:{description:"The children of the PortalProvider. Typically, this will be the whole app.",type:{name:"node"},required:!1}}};export{s as P,g as u};
