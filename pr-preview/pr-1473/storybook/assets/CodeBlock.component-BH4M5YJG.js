import{r as n,j as t}from"./iframe-C18dJaKw.js";import{J as f}from"./JsonViewer.component-C9MKBow7.js";import{I as y}from"./Icon.component-COcNEv4I.js";const x=`
  jn:bg-theme-code-block
  jn:rounded
`,v=e=>`
    jn:p-6
    ${e?"jn:break-words jn:break-all jn:whitespace-pre-wrap":"jn:overflow-x-auto"}
  `,k=e=>{switch(e){case"small":return`
        juno-codeblock-pre-small
        jn:max-h-64
        jn:overflow-y-auto
      `;case"medium":return`
        juno-codeblock-pre-medium
        jn:max-h-[32rem]
        jn:overflow-y-auto
      `;case"large":return`
        juno-codeblock-pre-large
        jn:max-h-[56rem]
        jn:overflow-y-auto
      `;default:return""}},w=`
  jn:bg-theme-code-block
  jn:text-sm
`,C=`
  jn:text-sm
  jn:border-b-[1px]
  jn:border-theme-codeblock-bar 
  jn:h-[3.4375rem]
  jn:flex
`,S=`
  jn:flex
  jn:font-bold
  jn:px-[1.5625rem]
  jn:items-center
`,N=`
  jn:flex 
  jn:justify-end 
  jn:px-3
  jn:py-2 
  jn:border-t-[1px]
  jn:border-theme-codeblock-bar
`,$=`
  jn:font-bold 
  jn:text-sm 
  jn:mr-4 
  jn:mt-1
`,V={fontFamily:"IBM Plex Mono",fontSize:"0.875rem",padding:"1.5rem"},B={base00:"var(--color-syntax-highlight-base00)",base01:"var(--color-syntax-highlight-base01)",base02:"var(--color-syntax-highlight-base02)",base03:"var(--color-syntax-highlight-base03)",base04:"var(--color-syntax-highlight-base04)",base05:"var(--color-syntax-highlight-base05)",base06:"var(--color-syntax-highlight-base06)",base07:"var(--color-syntax-highlight-base07)",base08:"var(--color-syntax-highlight-base08)",base09:"var(--color-syntax-highlight-base09)",base0A:"var(--color-syntax-highlight-base0A)",base0B:"var(--color-syntax-highlight-base0B)",base0C:"var(--color-syntax-highlight-base0C)",base0D:"var(--color-syntax-highlight-base0D)",base0E:"var(--color-syntax-highlight-base0E)",base0F:"var(--color-syntax-highlight-base0F)"},u=({content:e="",children:r,wrap:h=!0,size:m="auto",copy:p=!0,lang:a="",className:b="",...l})=>{const[g,i]=n.useState(!1),o=n.useRef(null),{heading:s}=l;n.useEffect(()=>()=>{o.current&&clearTimeout(o.current)},[]);const c=n.useRef(null),j=n.useCallback(()=>{const d=a==="json"?JSON.stringify(e||r):c.current?.textContent;d&&navigator.clipboard.writeText(d).catch(()=>{console.warn("Cannot copy text to clipboard")}),i(!0),o.current&&clearTimeout(o.current),o.current=window.setTimeout(()=>i(!1),1e3)},[e,r,a]);return t.jsxs("div",{className:`juno-code-block ${x} ${a?`juno-code-block-lang-${a}`:""} ${b}`,"data-lang":a||null,...l,children:[s&&s.length?t.jsx("div",{className:`juno-codeblock-heading ${C}`,children:t.jsx("span",{className:`${S}`,children:s})}):"",a==="json"?t.jsx(f,{data:e,expanded:3,theme:B,style:V}):t.jsx("pre",{className:`juno-code-block-pre ${v(h)} ${k(m)}`,children:t.jsx("code",{className:`${w}`,ref:c,children:r??(typeof e=="string"?e:null)})}),p?t.jsxs("div",{className:`juno-codeblock-bottombar ${N}`,children:[t.jsx("span",{className:`${$}`,children:g?"Copied!":""}),t.jsx(y,{icon:"contentCopy",onClick:j})]}):""]})};try{u.displayName="CodeBlock",u.__docgenInfo={description:"The `CodeBlock` component renders a block of preformatted code or content. It offers features such\nas optional wrapping, copying to clipboard, and syntax highlighting for JSON content via a custom viewer.",displayName:"CodeBlock",props:{content:{defaultValue:{value:""},description:'The content to render. Used when `lang` is "json". Overrides children if not specified.\nDefaults to an empty string or object.',name:"content",required:!1,type:{name:"string | object"}},children:{defaultValue:null,description:'Elements or text to render inside the code block. Used when `lang` is not "json", overriding `content`.',name:"children",required:!1,type:{name:"ReactNode"}},heading:{defaultValue:null,description:"Optional caption or title to render, styled like a tab.",name:"heading",required:!1,type:{name:"string"}},wrap:{defaultValue:{value:"true"},description:"Determines whether the code should wrap.",name:"wrap",required:!1,type:{name:"boolean"}},size:{defaultValue:{value:"auto"},description:"Specifies the size of the CodeBlock.",name:"size",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"large"'},{value:'"small"'},{value:'"medium"'}]}},copy:{defaultValue:{value:"true"},description:"Enables or disables the copy-to-clipboard option.",name:"copy",required:!1,type:{name:"boolean"}},lang:{defaultValue:{value:""},description:'Language for the content. "json" will render a structured JsonView. Adds a data-lang attribute.',name:"lang",required:!1,type:{name:"string"}},className:{defaultValue:{value:""},description:"Additional CSS classes for customizing the CodeBlock styling.",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{u as C};
