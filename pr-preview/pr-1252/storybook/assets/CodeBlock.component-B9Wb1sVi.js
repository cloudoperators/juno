import{r as s,e as u,j as a}from"./iframe-DoiDq9pO.js";import{J as f}from"./JsonViewer.component-u98rC2yo.js";import{I as x}from"./Icon.component-Dsf69EFR.js";const v=`
  jn:bg-theme-code-block
  jn:rounded
`,k=e=>`
    jn:p-6
    ${e?"jn:break-words jn:break-all jn:whitespace-pre-wrap":"jn:overflow-x-auto"}
  `,w=e=>{switch(e){case"small":return`
        juno-codeblock-pre-small
        jn:max-h-64
        jn:overflow-y-auto
      `;case"medium":return`
        juno-codeblock-pre-medium
        jn:max-h-[32rem]
        jn:overflow-y-auto
      `;case"large":return`
        juno-codeblock-pre-large
        jn:max-h-[56rem]
        jn:overflow-y-auto
      `;default:return""}},C=`
  jn:bg-theme-code-block
  jn:text-sm
`,N=`
  jn:text-sm
  jn:border-b-[1px]
  jn:border-theme-codeblock-bar 
  jn:h-[3.4375rem]
  jn:flex
`,S=`
  jn:flex
  jn:font-bold
  jn:px-[1.5625rem]
  jn:items-center
`,$=`
  jn:flex 
  jn:justify-end 
  jn:px-3
  jn:py-2 
  jn:border-t-[1px]
  jn:border-theme-codeblock-bar
`,V=`
  jn:font-bold 
  jn:text-sm 
  jn:mr-4 
  jn:mt-1
`,B={fontFamily:"IBM Plex Mono",fontSize:"0.875rem",padding:"1.5rem"},T={base00:"var(--color-syntax-highlight-base00)",base01:"var(--color-syntax-highlight-base01)",base02:"var(--color-syntax-highlight-base02)",base03:"var(--color-syntax-highlight-base03)",base04:"var(--color-syntax-highlight-base04)",base05:"var(--color-syntax-highlight-base05)",base06:"var(--color-syntax-highlight-base06)",base07:"var(--color-syntax-highlight-base07)",base08:"var(--color-syntax-highlight-base08)",base09:"var(--color-syntax-highlight-base09)",base0A:"var(--color-syntax-highlight-base0A)",base0B:"var(--color-syntax-highlight-base0B)",base0C:"var(--color-syntax-highlight-base0C)",base0D:"var(--color-syntax-highlight-base0D)",base0E:"var(--color-syntax-highlight-base0E)",base0F:"var(--color-syntax-highlight-base0F)"},h=({content:e="",children:n,wrap:p=!0,size:m="auto",copy:b=!0,lang:t="",className:j="",...l})=>{const[g,i]=s.useState(!1),o=u.useRef(null),{heading:r}=l;u.useEffect(()=>()=>{o.current&&clearTimeout(o.current)},[]);const c=s.useRef(null),y=s.useCallback(()=>{const d=t==="json"?JSON.stringify(e||n):c.current?.textContent;d&&navigator.clipboard.writeText(d).catch(()=>{console.warn("Cannot copy text to clipboard")}),i(!0),o.current&&clearTimeout(o.current),o.current=window.setTimeout(()=>i(!1),1e3)},[e,n,t]);return a.jsxs("div",{className:`juno-code-block ${v} ${t?`juno-code-block-lang-${t}`:""} ${j}`,"data-lang":t||null,...l,children:[r&&r.length?a.jsx("div",{className:`juno-codeblock-heading ${N}`,children:a.jsx("span",{className:`${S}`,children:r})}):"",t==="json"?a.jsx(f,{data:e,expanded:3,theme:T,style:B}):a.jsx("pre",{className:`juno-code-block-pre ${k(p)} ${w(m)}`,children:a.jsx("code",{className:`${C}`,ref:c,children:n??(typeof e=="string"?e:null)})}),b?a.jsxs("div",{className:`juno-codeblock-bottombar ${$}`,children:[a.jsx("span",{className:`${V}`,children:g?"Copied!":""}),a.jsx(x,{icon:"contentCopy",onClick:y})]}):""]})};try{h.displayName="CodeBlock",h.__docgenInfo={description:"A basic CodeBlock component. Accepts a content prop or children. Will render a pre-wrapped code element.",displayName:"CodeBlock",props:{content:{defaultValue:{value:""},description:'The content to render. Used when `lang` is "json". Otherwise, if children are not provided.',name:"content",required:!1,type:{name:"string | object"}},children:{defaultValue:null,description:'The children to render. Used when `lang` is NOT "json", overriding `content`.',name:"children",required:!1,type:{name:"ReactNode"}},heading:{defaultValue:null,description:"Pass at title to render. Will look like a single tab.",name:"heading",required:!1,type:{name:"string"}},wrap:{defaultValue:{value:"true"},description:"Set whether the code should wrap or not. Default is true.",name:"wrap",required:!1,type:{name:"boolean"}},size:{defaultValue:{value:"auto"},description:'Set the size of the CodeBlock. Default is "auto"',name:"size",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"small"'},{value:'"medium"'},{value:'"large"'}]}},copy:{defaultValue:{value:"true"},description:"Render a button to copy the code to the clipboard. Defaults to true",name:"copy",required:!1,type:{name:"boolean"}},lang:{defaultValue:{value:""},description:'Pass a lang prop. Passing "json" will render a fully-featured JsonView. Will also add a data-lang attribute to the codeblock',name:"lang",required:!1,type:{name:"string"}},className:{defaultValue:{value:""},description:"Add a custom className to the wrapper of the CodeBlock",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{h as C};
