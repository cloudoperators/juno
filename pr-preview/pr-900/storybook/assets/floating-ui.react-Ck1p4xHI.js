import{r as m,R as St}from"./index-DysCNOs_.js";import"./jsx-runtime-BP6H2k8O.js";import{r as Dt}from"./index-DxJeRO9x.js";function Te(){return typeof window<"u"}function fe(e){return ft(e)?(e.nodeName||"").toLowerCase():"#document"}function K(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function G(e){var t;return(t=(ft(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function ft(e){return Te()?e instanceof Node||e instanceof K(e).Node:!1}function _(e){return Te()?e instanceof Element||e instanceof K(e).Element:!1}function V(e){return Te()?e instanceof HTMLElement||e instanceof K(e).HTMLElement:!1}function Be(e){return!Te()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof K(e).ShadowRoot}function ve(e){const{overflow:t,overflowX:o,overflowY:n,display:r}=z(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+o)&&!["inline","contents"].includes(r)}function kt(e){return["table","td","th"].includes(fe(e))}function Ae(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ve(e){const t=Le(),o=_(e)?z(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>o[n]?o[n]!=="none":!1)||(o.containerType?o.containerType!=="normal":!1)||!t&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!t&&(o.filter?o.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(o.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(o.contain||"").includes(n))}function Ft(e){let t=ee(e);for(;V(t)&&!Z(t);){if(Ve(t))return t;if(Ae(t))return null;t=ee(t)}return null}function Le(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Z(e){return["html","body","#document"].includes(fe(e))}function z(e){return K(e).getComputedStyle(e)}function Me(e){return _(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ee(e){if(fe(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Be(e)&&e.host||G(e);return Be(t)?t.host:t}function at(e){const t=ee(e);return Z(t)?e.ownerDocument?e.ownerDocument.body:e.body:V(t)&&ve(t)?t:at(t)}function te(e,t,o){var n;t===void 0&&(t=[]),o===void 0&&(o=!0);const r=at(e),c=r===((n=e.ownerDocument)==null?void 0:n.body),i=K(r);if(c){const s=We(i);return t.concat(i,i.visualViewport||[],ve(r)?r:[],s&&o?te(s):[])}return t.concat(r,te(r,[],o))}function We(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const _t=["top","right","bottom","left"],Ue=["start","end"],qe=_t.reduce((e,t)=>e.concat(t,t+"-"+Ue[0],t+"-"+Ue[1]),[]),le=Math.min,X=Math.max,Re=Math.round,we=Math.floor,ne=e=>({x:e,y:e}),It={left:"right",right:"left",bottom:"top",top:"bottom"},$t={start:"end",end:"start"};function Ge(e,t,o){return X(e,le(t,o))}function ae(e,t){return typeof e=="function"?e(t):e}function q(e){return e.split("-")[0]}function U(e){return e.split("-")[1]}function dt(e){return e==="x"?"y":"x"}function mt(e){return e==="y"?"height":"width"}function re(e){return["top","bottom"].includes(q(e))?"y":"x"}function gt(e){return dt(re(e))}function pt(e,t,o){o===void 0&&(o=!1);const n=U(e),r=gt(e),c=mt(r);let i=r==="x"?n===(o?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[c]>t.floating[c]&&(i=Ee(i)),[i,Ee(i)]}function Bt(e){const t=Ee(e);return[be(e),t,be(t)]}function be(e){return e.replace(/start|end/g,t=>$t[t])}function Wt(e,t,o){const n=["left","right"],r=["right","left"],c=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return o?t?r:n:t?n:r;case"left":case"right":return t?c:i;default:return[]}}function Nt(e,t,o,n){const r=U(e);let c=Wt(q(e),o==="start",n);return r&&(c=c.map(i=>i+"-"+r),t&&(c=c.concat(c.map(be)))),c}function Ee(e){return e.replace(/left|right|bottom|top/g,t=>It[t])}function Ht(e){return{top:0,right:0,bottom:0,left:0,...e}}function Vt(e){return typeof e!="number"?Ht(e):{top:e,right:e,bottom:e,left:e}}function Ce(e){const{x:t,y:o,width:n,height:r}=e;return{width:n,height:r,top:o,left:t,right:t+n,bottom:o+r,x:t,y:o}}function Je(e,t,o){let{reference:n,floating:r}=e;const c=re(t),i=gt(t),s=mt(i),u=q(t),a=c==="y",d=n.x+n.width/2-r.width/2,g=n.y+n.height/2-r.height/2,p=n[s]/2-r[s]/2;let l;switch(u){case"top":l={x:d,y:n.y-r.height};break;case"bottom":l={x:d,y:n.y+n.height};break;case"right":l={x:n.x+n.width,y:g};break;case"left":l={x:n.x-r.width,y:g};break;default:l={x:n.x,y:n.y}}switch(U(t)){case"start":l[i]-=p*(o&&a?-1:1);break;case"end":l[i]+=p*(o&&a?-1:1);break}return l}const Kt=async(e,t,o)=>{const{placement:n="bottom",strategy:r="absolute",middleware:c=[],platform:i}=o,s=c.filter(Boolean),u=await(i.isRTL==null?void 0:i.isRTL(t));let a=await i.getElementRects({reference:e,floating:t,strategy:r}),{x:d,y:g}=Je(a,n,u),p=n,l={},v=0;for(let f=0;f<s.length;f++){const{name:w,fn:h}=s[f],{x:y,y:b,data:E,reset:T}=await h({x:d,y:g,initialPlacement:n,placement:p,strategy:r,middlewareData:l,rects:a,platform:i,elements:{reference:e,floating:t}});d=y??d,g=b??g,l={...l,[w]:{...l[w],...E}},T&&v<=50&&(v++,typeof T=="object"&&(T.placement&&(p=T.placement),T.rects&&(a=T.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:r}):T.rects),{x:d,y:g}=Je(a,p,u)),f=-1)}return{x:d,y:g,placement:p,strategy:r,middlewareData:l}};async function he(e,t){var o;t===void 0&&(t={});const{x:n,y:r,platform:c,rects:i,elements:s,strategy:u}=e,{boundary:a="clippingAncestors",rootBoundary:d="viewport",elementContext:g="floating",altBoundary:p=!1,padding:l=0}=ae(t,e),v=Vt(l),w=s[p?g==="floating"?"reference":"floating":g],h=Ce(await c.getClippingRect({element:(o=await(c.isElement==null?void 0:c.isElement(w)))==null||o?w:w.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(s.floating)),boundary:a,rootBoundary:d,strategy:u})),y=g==="floating"?{x:n,y:r,width:i.floating.width,height:i.floating.height}:i.reference,b=await(c.getOffsetParent==null?void 0:c.getOffsetParent(s.floating)),E=await(c.isElement==null?void 0:c.isElement(b))?await(c.getScale==null?void 0:c.getScale(b))||{x:1,y:1}:{x:1,y:1},T=Ce(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:b,strategy:u}):y);return{top:(h.top-T.top+v.top)/E.y,bottom:(T.bottom-h.bottom+v.bottom)/E.y,left:(h.left-T.left+v.left)/E.x,right:(T.right-h.right+v.right)/E.x}}function Yt(e,t,o){return(e?[...o.filter(r=>U(r)===e),...o.filter(r=>U(r)!==e)]:o.filter(r=>q(r)===r)).filter(r=>e?U(r)===e||(t?be(r)!==r:!1):!0)}const Xt=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var o,n,r;const{rects:c,middlewareData:i,placement:s,platform:u,elements:a}=t,{crossAxis:d=!1,alignment:g,allowedPlacements:p=qe,autoAlignment:l=!0,...v}=ae(e,t),f=g!==void 0||p===qe?Yt(g||null,l,p):p,w=await he(t,v),h=((o=i.autoPlacement)==null?void 0:o.index)||0,y=f[h];if(y==null)return{};const b=pt(y,c,await(u.isRTL==null?void 0:u.isRTL(a.floating)));if(s!==y)return{reset:{placement:f[0]}};const E=[w[q(y)],w[b[0]],w[b[1]]],T=[...((n=i.autoPlacement)==null?void 0:n.overflows)||[],{placement:y,overflows:E}],S=f[h+1];if(S)return{data:{index:h+1,overflows:T},reset:{placement:S}};const D=T.map(M=>{const F=U(M.placement);return[M.placement,F&&d?M.overflows.slice(0,2).reduce((W,I)=>W+I,0):M.overflows[0],M.overflows]}).sort((M,F)=>M[1]-F[1]),k=((r=D.filter(M=>M[2].slice(0,U(M[0])?2:3).every(F=>F<=0))[0])==null?void 0:r[0])||D[0][0];return k!==s?{data:{index:h+1,overflows:T},reset:{placement:k}}:{}}}},jt=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var o,n;const{placement:r,middlewareData:c,rects:i,initialPlacement:s,platform:u,elements:a}=t,{mainAxis:d=!0,crossAxis:g=!0,fallbackPlacements:p,fallbackStrategy:l="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:f=!0,...w}=ae(e,t);if((o=c.arrow)!=null&&o.alignmentOffset)return{};const h=q(r),y=re(s),b=q(s)===s,E=await(u.isRTL==null?void 0:u.isRTL(a.floating)),T=p||(b||!f?[Ee(s)]:Bt(s)),S=v!=="none";!p&&S&&T.push(...Nt(s,f,v,E));const D=[s,...T],B=await he(t,w),k=[];let M=((n=c.flip)==null?void 0:n.overflows)||[];if(d&&k.push(B[h]),g){const $=pt(r,i,E);k.push(B[$[0]],B[$[1]])}if(M=[...M,{placement:r,overflows:k}],!k.every($=>$<=0)){var F,W;const $=(((F=c.flip)==null?void 0:F.index)||0)+1,P=D[$];if(P)return{data:{index:$,overflows:M},reset:{placement:P}};let O=(W=M.filter(C=>C.overflows[0]<=0).sort((C,x)=>C.overflows[1]-x.overflows[1])[0])==null?void 0:W.placement;if(!O)switch(l){case"bestFit":{var I;const C=(I=M.filter(x=>{if(S){const R=re(x.placement);return R===y||R==="y"}return!0}).map(x=>[x.placement,x.overflows.filter(R=>R>0).reduce((R,A)=>R+A,0)]).sort((x,R)=>x[1]-R[1])[0])==null?void 0:I[0];C&&(O=C);break}case"initialPlacement":O=s;break}if(r!==O)return{reset:{placement:O}}}return{}}}};async function zt(e,t){const{placement:o,platform:n,elements:r}=e,c=await(n.isRTL==null?void 0:n.isRTL(r.floating)),i=q(o),s=U(o),u=re(o)==="y",a=["left","top"].includes(i)?-1:1,d=c&&u?-1:1,g=ae(t,e);let{mainAxis:p,crossAxis:l,alignmentAxis:v}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return s&&typeof v=="number"&&(l=s==="end"?v*-1:v),u?{x:l*d,y:p*a}:{x:p*a,y:l*d}}const Ut=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var o,n;const{x:r,y:c,placement:i,middlewareData:s}=t,u=await zt(t,e);return i===((o=s.offset)==null?void 0:o.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:r+u.x,y:c+u.y,data:{...u,placement:i}}}}},qt=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:o,y:n,placement:r}=t,{mainAxis:c=!0,crossAxis:i=!1,limiter:s={fn:w=>{let{x:h,y}=w;return{x:h,y}}},...u}=ae(e,t),a={x:o,y:n},d=await he(t,u),g=re(q(r)),p=dt(g);let l=a[p],v=a[g];if(c){const w=p==="y"?"top":"left",h=p==="y"?"bottom":"right",y=l+d[w],b=l-d[h];l=Ge(y,l,b)}if(i){const w=g==="y"?"top":"left",h=g==="y"?"bottom":"right",y=v+d[w],b=v-d[h];v=Ge(y,v,b)}const f=s.fn({...t,[p]:l,[g]:v});return{...f,data:{x:f.x-o,y:f.y-n,enabled:{[p]:c,[g]:i}}}}}},Gt=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var o,n;const{placement:r,rects:c,platform:i,elements:s}=t,{apply:u=()=>{},...a}=ae(e,t),d=await he(t,a),g=q(r),p=U(r),l=re(r)==="y",{width:v,height:f}=c.floating;let w,h;g==="top"||g==="bottom"?(w=g,h=p===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(h=g,w=p==="end"?"top":"bottom");const y=f-d.top-d.bottom,b=v-d.left-d.right,E=le(f-d[w],y),T=le(v-d[h],b),S=!t.middlewareData.shift;let D=E,B=T;if((o=t.middlewareData.shift)!=null&&o.enabled.x&&(B=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(D=y),S&&!p){const M=X(d.left,0),F=X(d.right,0),W=X(d.top,0),I=X(d.bottom,0);l?B=v-2*(M!==0||F!==0?M+F:X(d.left,d.right)):D=f-2*(W!==0||I!==0?W+I:X(d.top,d.bottom))}await u({...t,availableWidth:B,availableHeight:D});const k=await i.getDimensions(s.floating);return v!==k.width||f!==k.height?{reset:{rects:!0}}:{}}}};function vt(e){const t=z(e);let o=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const r=V(e),c=r?e.offsetWidth:o,i=r?e.offsetHeight:n,s=Re(o)!==c||Re(n)!==i;return s&&(o=c,n=i),{width:o,height:n,$:s}}function Ke(e){return _(e)?e:e.contextElement}function ce(e){const t=Ke(e);if(!V(t))return ne(1);const o=t.getBoundingClientRect(),{width:n,height:r,$:c}=vt(t);let i=(c?Re(o.width):o.width)/n,s=(c?Re(o.height):o.height)/r;return(!i||!Number.isFinite(i))&&(i=1),(!s||!Number.isFinite(s))&&(s=1),{x:i,y:s}}const Jt=ne(0);function ht(e){const t=K(e);return!Le()||!t.visualViewport?Jt:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Qt(e,t,o){return t===void 0&&(t=!1),!o||t&&o!==K(e)?!1:t}function ie(e,t,o,n){t===void 0&&(t=!1),o===void 0&&(o=!1);const r=e.getBoundingClientRect(),c=Ke(e);let i=ne(1);t&&(n?_(n)&&(i=ce(n)):i=ce(e));const s=Qt(c,o,n)?ht(c):ne(0);let u=(r.left+s.x)/i.x,a=(r.top+s.y)/i.y,d=r.width/i.x,g=r.height/i.y;if(c){const p=K(c),l=n&&_(n)?K(n):n;let v=p,f=We(v);for(;f&&n&&l!==v;){const w=ce(f),h=f.getBoundingClientRect(),y=z(f),b=h.left+(f.clientLeft+parseFloat(y.paddingLeft))*w.x,E=h.top+(f.clientTop+parseFloat(y.paddingTop))*w.y;u*=w.x,a*=w.y,d*=w.x,g*=w.y,u+=b,a+=E,v=K(f),f=We(v)}}return Ce({width:d,height:g,x:u,y:a})}function Zt(e){let{elements:t,rect:o,offsetParent:n,strategy:r}=e;const c=r==="fixed",i=G(n),s=t?Ae(t.floating):!1;if(n===i||s&&c)return o;let u={scrollLeft:0,scrollTop:0},a=ne(1);const d=ne(0),g=V(n);if((g||!g&&!c)&&((fe(n)!=="body"||ve(i))&&(u=Me(n)),V(n))){const p=ie(n);a=ce(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}return{width:o.width*a.x,height:o.height*a.y,x:o.x*a.x-u.scrollLeft*a.x+d.x,y:o.y*a.y-u.scrollTop*a.y+d.y}}function en(e){return Array.from(e.getClientRects())}function Ne(e,t){const o=Me(e).scrollLeft;return t?t.left+o:ie(G(e)).left+o}function tn(e){const t=G(e),o=Me(e),n=e.ownerDocument.body,r=X(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),c=X(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-o.scrollLeft+Ne(e);const s=-o.scrollTop;return z(n).direction==="rtl"&&(i+=X(t.clientWidth,n.clientWidth)-r),{width:r,height:c,x:i,y:s}}function nn(e,t){const o=K(e),n=G(e),r=o.visualViewport;let c=n.clientWidth,i=n.clientHeight,s=0,u=0;if(r){c=r.width,i=r.height;const a=Le();(!a||a&&t==="fixed")&&(s=r.offsetLeft,u=r.offsetTop)}return{width:c,height:i,x:s,y:u}}function on(e,t){const o=ie(e,!0,t==="fixed"),n=o.top+e.clientTop,r=o.left+e.clientLeft,c=V(e)?ce(e):ne(1),i=e.clientWidth*c.x,s=e.clientHeight*c.y,u=r*c.x,a=n*c.y;return{width:i,height:s,x:u,y:a}}function Qe(e,t,o){let n;if(t==="viewport")n=nn(e,o);else if(t==="document")n=tn(G(e));else if(_(t))n=on(t,o);else{const r=ht(e);n={...t,x:t.x-r.x,y:t.y-r.y}}return Ce(n)}function wt(e,t){const o=ee(e);return o===t||!_(o)||Z(o)?!1:z(o).position==="fixed"||wt(o,t)}function rn(e,t){const o=t.get(e);if(o)return o;let n=te(e,[],!1).filter(s=>_(s)&&fe(s)!=="body"),r=null;const c=z(e).position==="fixed";let i=c?ee(e):e;for(;_(i)&&!Z(i);){const s=z(i),u=Ve(i);!u&&s.position==="fixed"&&(r=null),(c?!u&&!r:!u&&s.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||ve(i)&&!u&&wt(e,i))?n=n.filter(d=>d!==i):r=s,i=ee(i)}return t.set(e,n),n}function sn(e){let{element:t,boundary:o,rootBoundary:n,strategy:r}=e;const i=[...o==="clippingAncestors"?Ae(t)?[]:rn(t,this._c):[].concat(o),n],s=i[0],u=i.reduce((a,d)=>{const g=Qe(t,d,r);return a.top=X(g.top,a.top),a.right=le(g.right,a.right),a.bottom=le(g.bottom,a.bottom),a.left=X(g.left,a.left),a},Qe(t,s,r));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function cn(e){const{width:t,height:o}=vt(e);return{width:t,height:o}}function ln(e,t,o){const n=V(t),r=G(t),c=o==="fixed",i=ie(e,!0,c,t);let s={scrollLeft:0,scrollTop:0};const u=ne(0);if(n||!n&&!c)if((fe(t)!=="body"||ve(r))&&(s=Me(t)),n){const l=ie(t,!0,c,t);u.x=l.x+t.clientLeft,u.y=l.y+t.clientTop}else r&&(u.x=Ne(r));let a=0,d=0;if(r&&!n&&!c){const l=r.getBoundingClientRect();d=l.top+s.scrollTop,a=l.left+s.scrollLeft-Ne(r,l)}const g=i.left+s.scrollLeft-u.x-a,p=i.top+s.scrollTop-u.y-d;return{x:g,y:p,width:i.width,height:i.height}}function Oe(e){return z(e).position==="static"}function Ze(e,t){if(!V(e)||z(e).position==="fixed")return null;if(t)return t(e);let o=e.offsetParent;return G(e)===o&&(o=o.ownerDocument.body),o}function yt(e,t){const o=K(e);if(Ae(e))return o;if(!V(e)){let r=ee(e);for(;r&&!Z(r);){if(_(r)&&!Oe(r))return r;r=ee(r)}return o}let n=Ze(e,t);for(;n&&kt(n)&&Oe(n);)n=Ze(n,t);return n&&Z(n)&&Oe(n)&&!Ve(n)?o:n||Ft(e)||o}const un=async function(e){const t=this.getOffsetParent||yt,o=this.getDimensions,n=await o(e.floating);return{reference:ln(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function fn(e){return z(e).direction==="rtl"}const an={convertOffsetParentRelativeRectToViewportRelativeRect:Zt,getDocumentElement:G,getClippingRect:sn,getOffsetParent:yt,getElementRects:un,getClientRects:en,getDimensions:cn,getScale:ce,isElement:_,isRTL:fn};function dn(e,t){let o=null,n;const r=G(e);function c(){var s;clearTimeout(n),(s=o)==null||s.disconnect(),o=null}function i(s,u){s===void 0&&(s=!1),u===void 0&&(u=1),c();const{left:a,top:d,width:g,height:p}=e.getBoundingClientRect();if(s||t(),!g||!p)return;const l=we(d),v=we(r.clientWidth-(a+g)),f=we(r.clientHeight-(d+p)),w=we(a),y={rootMargin:-l+"px "+-v+"px "+-f+"px "+-w+"px",threshold:X(0,le(1,u))||1};let b=!0;function E(T){const S=T[0].intersectionRatio;if(S!==u){if(!b)return i();S?i(!1,S):n=setTimeout(()=>{i(!1,1e-7)},1e3)}b=!1}try{o=new IntersectionObserver(E,{...y,root:r.ownerDocument})}catch{o=new IntersectionObserver(E,y)}o.observe(e)}return i(!0),c}function jn(e,t,o,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:c=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,a=Ke(e),d=r||c?[...a?te(a):[],...te(t)]:[];d.forEach(h=>{r&&h.addEventListener("scroll",o,{passive:!0}),c&&h.addEventListener("resize",o)});const g=a&&s?dn(a,o):null;let p=-1,l=null;i&&(l=new ResizeObserver(h=>{let[y]=h;y&&y.target===a&&l&&(l.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=l)==null||b.observe(t)})),o()}),a&&!u&&l.observe(a),l.observe(t));let v,f=u?ie(e):null;u&&w();function w(){const h=ie(e);f&&(h.x!==f.x||h.y!==f.y||h.width!==f.width||h.height!==f.height)&&o(),f=h,v=requestAnimationFrame(w)}return o(),()=>{var h;d.forEach(y=>{r&&y.removeEventListener("scroll",o),c&&y.removeEventListener("resize",o)}),g==null||g(),(h=l)==null||h.disconnect(),l=null,u&&cancelAnimationFrame(v)}}const zn=he,mn=Ut,gn=Xt,pn=qt,vn=jt,hn=Gt,wn=(e,t,o)=>{const n=new Map,r={platform:an,...o},c={...r.platform,_c:n};return Kt(e,t,{...r,platform:c})};var xe=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Pe(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let o,n,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(o=e.length,o!==t.length)return!1;for(n=o;n--!==0;)if(!Pe(e[n],t[n]))return!1;return!0}if(r=Object.keys(e),o=r.length,o!==Object.keys(t).length)return!1;for(n=o;n--!==0;)if(!{}.hasOwnProperty.call(t,r[n]))return!1;for(n=o;n--!==0;){const c=r[n];if(!(c==="_owner"&&e.$$typeof)&&!Pe(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}function xt(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function et(e,t){const o=xt(e);return Math.round(t*o)/o}function Se(e){const t=m.useRef(e);return xe(()=>{t.current=e}),t}function yn(e){e===void 0&&(e={});const{placement:t="bottom",strategy:o="absolute",middleware:n=[],platform:r,elements:{reference:c,floating:i}={},transform:s=!0,whileElementsMounted:u,open:a}=e,[d,g]=m.useState({x:0,y:0,strategy:o,placement:t,middlewareData:{},isPositioned:!1}),[p,l]=m.useState(n);Pe(p,n)||l(n);const[v,f]=m.useState(null),[w,h]=m.useState(null),y=m.useCallback(x=>{x!==S.current&&(S.current=x,f(x))},[]),b=m.useCallback(x=>{x!==D.current&&(D.current=x,h(x))},[]),E=c||v,T=i||w,S=m.useRef(null),D=m.useRef(null),B=m.useRef(d),k=u!=null,M=Se(u),F=Se(r),W=Se(a),I=m.useCallback(()=>{if(!S.current||!D.current)return;const x={placement:t,strategy:o,middleware:p};F.current&&(x.platform=F.current),wn(S.current,D.current,x).then(R=>{const A={...R,isPositioned:W.current!==!1};$.current&&!Pe(B.current,A)&&(B.current=A,Dt.flushSync(()=>{g(A)}))})},[p,t,o,F,W]);xe(()=>{a===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,g(x=>({...x,isPositioned:!1})))},[a]);const $=m.useRef(!1);xe(()=>($.current=!0,()=>{$.current=!1}),[]),xe(()=>{if(E&&(S.current=E),T&&(D.current=T),E&&T){if(M.current)return M.current(E,T,I);I()}},[E,T,I,M,k]);const P=m.useMemo(()=>({reference:S,floating:D,setReference:y,setFloating:b}),[y,b]),O=m.useMemo(()=>({reference:E,floating:T}),[E,T]),C=m.useMemo(()=>{const x={position:o,left:0,top:0};if(!O.floating)return x;const R=et(O.floating,d.x),A=et(O.floating,d.y);return s?{...x,transform:"translate("+R+"px, "+A+"px)",...xt(O.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:R,top:A}},[o,s,O.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:I,refs:P,elements:O,floatingStyles:C}),[d,I,P,O,C])}const Un=(e,t)=>({...mn(e),options:[e,t]}),qn=(e,t)=>({...pn(e),options:[e,t]}),Gn=(e,t)=>({...vn(e),options:[e,t]}),Jn=(e,t)=>({...hn(e),options:[e,t]}),Qn=(e,t)=>({...gn(e),options:[e,t]});function tt(e){let t=e.activeElement;for(;((o=t)==null||(o=o.shadowRoot)==null?void 0:o.activeElement)!=null;){var o;t=t.shadowRoot.activeElement}return t}function ge(e,t){if(!e||!t)return!1;const o=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(o&&Be(o)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function xn(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function Rn(){return/apple/i.test(navigator.vendor)}function bn(){return xn().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function pe(e,t){const o=["mouse","pen"];return t||o.push("",void 0),o.includes(e)}function En(e){return"nativeEvent"in e}function Cn(e){return e.matches("html,body")}function oe(e){return(e==null?void 0:e.ownerDocument)||document}function De(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const o=e;return o.target!=null&&t.contains(o.target)}function se(e){return"composedPath"in e?e.composedPath()[0]:e.target}const Pn="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Rt(e){return V(e)&&e.matches(Pn)}function Zn(e){const t=m.useRef(void 0),o=m.useCallback(n=>{const r=e.map(c=>{if(c!=null){if(typeof c=="function"){const i=c,s=i(n);return typeof s=="function"?s:()=>{i(null)}}return c.current=n,()=>{c.current=null}}});return()=>{r.forEach(c=>c==null?void 0:c())}},e);return m.useMemo(()=>e.every(n=>n==null)?null:n=>{t.current&&(t.current(),t.current=void 0),n!=null&&(t.current=o(n))},e)}const bt={...St},Tn=bt.useInsertionEffect,An=Tn||(e=>e());function Q(e){const t=m.useRef(()=>{});return An(()=>{t.current=e}),m.useCallback(function(){for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return t.current==null?void 0:t.current(...n)},[])}var ue=typeof document<"u"?m.useLayoutEffect:m.useEffect;let nt=!1,Ln=0;const ot=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Ln++;function Mn(){const[e,t]=m.useState(()=>nt?ot():void 0);return ue(()=>{e==null&&t(ot())},[]),m.useEffect(()=>{nt=!0},[]),e}const On=bt.useId,Et=On||Mn;function Sn(){const e=new Map;return{emit(t,o){var n;(n=e.get(t))==null||n.forEach(r=>r(o))},on(t,o){e.has(t)||e.set(t,new Set),e.get(t).add(o)},off(t,o){var n;(n=e.get(t))==null||n.delete(o)}}}const Dn=m.createContext(null),kn=m.createContext(null),Ye=()=>{var e;return((e=m.useContext(Dn))==null?void 0:e.id)||null},Xe=()=>m.useContext(kn);function je(e){return"data-floating-ui-"+e}function j(e){e.current!==-1&&(clearTimeout(e.current),e.current=-1)}function ye(e){const t=m.useRef(e);return ue(()=>{t.current=e}),t}const rt=je("safe-polygon");function ke(e,t,o){if(o&&!pe(o))return 0;if(typeof e=="number")return e;if(typeof e=="function"){const n=e();return typeof n=="number"?n:n==null?void 0:n[t]}return e==null?void 0:e[t]}function Fe(e){return typeof e=="function"?e():e}function eo(e,t){t===void 0&&(t={});const{open:o,onOpenChange:n,dataRef:r,events:c,elements:i}=e,{enabled:s=!0,delay:u=0,handleClose:a=null,mouseOnly:d=!1,restMs:g=0,move:p=!0}=t,l=Xe(),v=Ye(),f=ye(a),w=ye(u),h=ye(o),y=ye(g),b=m.useRef(),E=m.useRef(-1),T=m.useRef(),S=m.useRef(-1),D=m.useRef(!0),B=m.useRef(!1),k=m.useRef(()=>{}),M=m.useRef(!1),F=m.useCallback(()=>{var C;const x=(C=r.current.openEvent)==null?void 0:C.type;return(x==null?void 0:x.includes("mouse"))&&x!=="mousedown"},[r]);m.useEffect(()=>{if(!s)return;function C(x){let{open:R}=x;R||(j(E),j(S),D.current=!0,M.current=!1)}return c.on("openchange",C),()=>{c.off("openchange",C)}},[s,c]),m.useEffect(()=>{if(!s||!f.current||!o)return;function C(R){F()&&n(!1,R,"hover")}const x=oe(i.floating).documentElement;return x.addEventListener("mouseleave",C),()=>{x.removeEventListener("mouseleave",C)}},[i.floating,o,n,s,f,F]);const W=m.useCallback(function(C,x,R){x===void 0&&(x=!0),R===void 0&&(R="hover");const A=ke(w.current,"close",b.current);A&&!T.current?(j(E),E.current=window.setTimeout(()=>n(!1,C,R),A)):x&&(j(E),n(!1,C,R))},[w,n]),I=Q(()=>{k.current(),T.current=void 0}),$=Q(()=>{if(B.current){const C=oe(i.floating).body;C.style.pointerEvents="",C.removeAttribute(rt),B.current=!1}}),P=Q(()=>r.current.openEvent?["click","mousedown"].includes(r.current.openEvent.type):!1);m.useEffect(()=>{if(!s)return;function C(L){if(j(E),D.current=!1,d&&!pe(b.current)||Fe(y.current)>0&&!ke(w.current,"open"))return;const H=ke(w.current,"open",b.current);H?E.current=window.setTimeout(()=>{h.current||n(!0,L,"hover")},H):o||n(!0,L,"hover")}function x(L){if(P()){$();return}k.current();const H=oe(i.floating);if(j(S),M.current=!1,f.current&&r.current.floatingContext){o||j(E),T.current=f.current({...r.current.floatingContext,tree:l,x:L.clientX,y:L.clientY,onClose(){$(),I(),P()||W(L,!0,"safe-polygon")}});const de=T.current;H.addEventListener("mousemove",de),k.current=()=>{H.removeEventListener("mousemove",de)};return}(b.current==="touch"?!ge(i.floating,L.relatedTarget):!0)&&W(L)}function R(L){P()||r.current.floatingContext&&(f.current==null||f.current({...r.current.floatingContext,tree:l,x:L.clientX,y:L.clientY,onClose(){$(),I(),P()||W(L)}})(L))}function A(){j(E)}function N(L){P()||W(L,!1)}if(_(i.domReference)){const L=i.domReference,H=i.floating;return o&&L.addEventListener("mouseleave",R),p&&L.addEventListener("mousemove",C,{once:!0}),L.addEventListener("mouseenter",C),L.addEventListener("mouseleave",x),H&&(H.addEventListener("mouseleave",R),H.addEventListener("mouseenter",A),H.addEventListener("mouseleave",N)),()=>{o&&L.removeEventListener("mouseleave",R),p&&L.removeEventListener("mousemove",C),L.removeEventListener("mouseenter",C),L.removeEventListener("mouseleave",x),H&&(H.removeEventListener("mouseleave",R),H.removeEventListener("mouseenter",A),H.removeEventListener("mouseleave",N))}}},[i,s,e,d,p,W,I,$,n,o,h,l,w,f,r,P,y]),ue(()=>{var C;if(s&&o&&(C=f.current)!=null&&C.__options.blockPointerEvents&&F()){B.current=!0;const R=i.floating;if(_(i.domReference)&&R){var x;const A=oe(i.floating).body;A.setAttribute(rt,"");const N=i.domReference,L=l==null||(x=l.nodesRef.current.find(H=>H.id===v))==null||(x=x.context)==null?void 0:x.elements.floating;return L&&(L.style.pointerEvents=""),A.style.pointerEvents="none",N.style.pointerEvents="auto",R.style.pointerEvents="auto",()=>{A.style.pointerEvents="",N.style.pointerEvents="",R.style.pointerEvents=""}}}},[s,o,v,i,l,f,F]),ue(()=>{o||(b.current=void 0,M.current=!1,I(),$())},[o,I,$]),m.useEffect(()=>()=>{I(),j(E),j(S),$()},[s,i.domReference,I,$]);const O=m.useMemo(()=>{function C(x){b.current=x.pointerType}return{onPointerDown:C,onPointerEnter:C,onMouseMove(x){const{nativeEvent:R}=x;function A(){!D.current&&!h.current&&n(!0,R,"hover")}d&&!pe(b.current)||o||Fe(y.current)===0||M.current&&x.movementX**2+x.movementY**2<2||(j(S),b.current==="touch"?A():(M.current=!0,S.current=window.setTimeout(A,Fe(y.current))))}}},[d,n,o,h,y]);return m.useMemo(()=>s?{reference:O}:{},[s,O])}function _e(e,t){let o=e.filter(r=>{var c;return r.parentId===t&&((c=r.context)==null?void 0:c.open)}),n=o;for(;n.length;)n=e.filter(r=>{var c;return(c=n)==null?void 0:c.some(i=>{var s;return r.parentId===i.id&&((s=r.context)==null?void 0:s.open)})}),o=o.concat(n);return o}const He="data-floating-ui-focusable";function Fn(e){return e?e.hasAttribute(He)?e:e.querySelector("["+He+"]")||e:null}function it(e){return V(e.target)&&e.target.tagName==="BUTTON"}function _n(e){return V(e.target)&&e.target.tagName==="A"}function st(e){return Rt(e)}function to(e,t){t===void 0&&(t={});const{open:o,onOpenChange:n,dataRef:r,elements:{domReference:c}}=e,{enabled:i=!0,event:s="click",toggle:u=!0,ignoreMouse:a=!1,keyboardHandlers:d=!0,stickIfOpen:g=!0}=t,p=m.useRef(),l=m.useRef(!1),v=m.useMemo(()=>({onPointerDown(f){p.current=f.pointerType},onMouseDown(f){const w=p.current;f.button===0&&s!=="click"&&(pe(w,!0)&&a||(o&&u&&(!(r.current.openEvent&&g)||r.current.openEvent.type==="mousedown")?n(!1,f.nativeEvent,"click"):(f.preventDefault(),n(!0,f.nativeEvent,"click"))))},onClick(f){const w=p.current;if(s==="mousedown"&&p.current){p.current=void 0;return}pe(w,!0)&&a||(o&&u&&(!(r.current.openEvent&&g)||r.current.openEvent.type==="click")?n(!1,f.nativeEvent,"click"):n(!0,f.nativeEvent,"click"))},onKeyDown(f){p.current=void 0,!(f.defaultPrevented||!d||it(f))&&(f.key===" "&&!st(c)&&(f.preventDefault(),l.current=!0),!_n(f)&&f.key==="Enter"&&n(!(o&&u),f.nativeEvent,"click"))},onKeyUp(f){f.defaultPrevented||!d||it(f)||st(c)||f.key===" "&&l.current&&(l.current=!1,n(!(o&&u),f.nativeEvent,"click"))}}),[r,c,s,a,d,n,o,g,u]);return m.useMemo(()=>i?{reference:v}:{},[i,v])}const In={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},$n={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},ct=e=>{var t,o;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(o=e==null?void 0:e.outsidePress)!=null?o:!0}};function no(e,t){t===void 0&&(t={});const{open:o,onOpenChange:n,elements:r,dataRef:c}=e,{enabled:i=!0,escapeKey:s=!0,outsidePress:u=!0,outsidePressEvent:a="pointerdown",referencePress:d=!1,referencePressEvent:g="pointerdown",ancestorScroll:p=!1,bubbles:l,capture:v}=t,f=Xe(),w=Q(typeof u=="function"?u:()=>!1),h=typeof u=="function"?w:u,y=m.useRef(!1),b=m.useRef(!1),{escapeKey:E,outsidePress:T}=ct(l),{escapeKey:S,outsidePress:D}=ct(v),B=m.useRef(!1),k=Q(P=>{var O;if(!o||!i||!s||P.key!=="Escape"||B.current)return;const C=(O=c.current.floatingContext)==null?void 0:O.nodeId,x=f?_e(f.nodesRef.current,C):[];if(!E&&(P.stopPropagation(),x.length>0)){let R=!0;if(x.forEach(A=>{var N;if((N=A.context)!=null&&N.open&&!A.context.dataRef.current.__escapeKeyBubbles){R=!1;return}}),!R)return}n(!1,En(P)?P.nativeEvent:P,"escape-key")}),M=Q(P=>{var O;const C=()=>{var x;k(P),(x=se(P))==null||x.removeEventListener("keydown",C)};(O=se(P))==null||O.addEventListener("keydown",C)}),F=Q(P=>{var O;const C=y.current;y.current=!1;const x=b.current;if(b.current=!1,a==="click"&&x||C||typeof h=="function"&&!h(P))return;const R=se(P),A="["+je("inert")+"]",N=oe(r.floating).querySelectorAll(A);let L=_(R)?R:null;for(;L&&!Z(L);){const Y=ee(L);if(Z(Y)||!_(Y))break;L=Y}if(N.length&&_(R)&&!Cn(R)&&!ge(R,r.floating)&&Array.from(N).every(Y=>!ge(L,Y)))return;if(V(R)&&$){const Y=Z(R),J=z(R),me=/auto|scroll/,Ct=Y||me.test(J.overflowX),Pt=Y||me.test(J.overflowY),Tt=Ct&&R.clientWidth>0&&R.scrollWidth>R.clientWidth,At=Pt&&R.clientHeight>0&&R.scrollHeight>R.clientHeight,Lt=J.direction==="rtl",Mt=At&&(Lt?P.offsetX<=R.offsetWidth-R.clientWidth:P.offsetX>R.clientWidth),Ot=Tt&&P.offsetY>R.clientHeight;if(Mt||Ot)return}const H=(O=c.current.floatingContext)==null?void 0:O.nodeId,ze=f&&_e(f.nodesRef.current,H).some(Y=>{var J;return De(P,(J=Y.context)==null?void 0:J.elements.floating)});if(De(P,r.floating)||De(P,r.domReference)||ze)return;const de=f?_e(f.nodesRef.current,H):[];if(de.length>0){let Y=!0;if(de.forEach(J=>{var me;if((me=J.context)!=null&&me.open&&!J.context.dataRef.current.__outsidePressBubbles){Y=!1;return}}),!Y)return}n(!1,P,"outside-press")}),W=Q(P=>{var O;const C=()=>{var x;F(P),(x=se(P))==null||x.removeEventListener(a,C)};(O=se(P))==null||O.addEventListener(a,C)});m.useEffect(()=>{if(!o||!i)return;c.current.__escapeKeyBubbles=E,c.current.__outsidePressBubbles=T;let P=-1;function O(N){n(!1,N,"ancestor-scroll")}function C(){window.clearTimeout(P),B.current=!0}function x(){P=window.setTimeout(()=>{B.current=!1},Le()?5:0)}const R=oe(r.floating);s&&(R.addEventListener("keydown",S?M:k,S),R.addEventListener("compositionstart",C),R.addEventListener("compositionend",x)),h&&R.addEventListener(a,D?W:F,D);let A=[];return p&&(_(r.domReference)&&(A=te(r.domReference)),_(r.floating)&&(A=A.concat(te(r.floating))),!_(r.reference)&&r.reference&&r.reference.contextElement&&(A=A.concat(te(r.reference.contextElement)))),A=A.filter(N=>{var L;return N!==((L=R.defaultView)==null?void 0:L.visualViewport)}),A.forEach(N=>{N.addEventListener("scroll",O,{passive:!0})}),()=>{s&&(R.removeEventListener("keydown",S?M:k,S),R.removeEventListener("compositionstart",C),R.removeEventListener("compositionend",x)),h&&R.removeEventListener(a,D?W:F,D),A.forEach(N=>{N.removeEventListener("scroll",O)}),window.clearTimeout(P)}},[c,r,s,h,a,o,n,p,i,E,T,k,S,M,F,D,W]),m.useEffect(()=>{y.current=!1},[h,a]);const I=m.useMemo(()=>({onKeyDown:k,...d&&{[In[g]]:P=>{n(!1,P.nativeEvent,"reference-press")},...g!=="click"&&{onClick(P){n(!1,P.nativeEvent,"reference-press")}}}}),[k,n,d,g]),$=m.useMemo(()=>({onKeyDown:k,onMouseDown(){b.current=!0},onMouseUp(){b.current=!0},[$n[a]]:()=>{y.current=!0}}),[k,a]);return m.useMemo(()=>i?{reference:I,floating:$}:{},[i,I,$])}function Bn(e){const{open:t=!1,onOpenChange:o,elements:n}=e,r=Et(),c=m.useRef({}),[i]=m.useState(()=>Sn()),s=Ye()!=null,[u,a]=m.useState(n.reference),d=Q((l,v,f)=>{c.current.openEvent=l?v:void 0,i.emit("openchange",{open:l,event:v,reason:f,nested:s}),o==null||o(l,v,f)}),g=m.useMemo(()=>({setPositionReference:a}),[]),p=m.useMemo(()=>({reference:u||n.reference||null,floating:n.floating||null,domReference:n.reference}),[u,n.reference,n.floating]);return m.useMemo(()=>({dataRef:c,open:t,onOpenChange:d,elements:p,events:i,floatingId:r,refs:g}),[t,d,p,i,r,g])}function oo(e){e===void 0&&(e={});const{nodeId:t}=e,o=Bn({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||o,r=n.elements,[c,i]=m.useState(null),[s,u]=m.useState(null),d=(r==null?void 0:r.domReference)||c,g=m.useRef(null),p=Xe();ue(()=>{d&&(g.current=d)},[d]);const l=yn({...e,elements:{...r,...s&&{reference:s}}}),v=m.useCallback(b=>{const E=_(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),getClientRects:()=>b.getClientRects(),contextElement:b}:b;u(E),l.refs.setReference(E)},[l.refs]),f=m.useCallback(b=>{(_(b)||b===null)&&(g.current=b,i(b)),(_(l.refs.reference.current)||l.refs.reference.current===null||b!==null&&!_(b))&&l.refs.setReference(b)},[l.refs]),w=m.useMemo(()=>({...l.refs,setReference:f,setPositionReference:v,domReference:g}),[l.refs,f,v]),h=m.useMemo(()=>({...l.elements,domReference:d}),[l.elements,d]),y=m.useMemo(()=>({...l,...n,refs:w,elements:h,nodeId:t}),[l,w,h,t,n]);return ue(()=>{n.dataRef.current.floatingContext=y;const b=p==null?void 0:p.nodesRef.current.find(E=>E.id===t);b&&(b.context=y)}),m.useMemo(()=>({...l,context:y,refs:w,elements:h}),[l,w,h,y])}function Wn(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:o,version:n}=t;return o+"/"+n}).join(" "):navigator.userAgent}function Nn(){return Wn().includes("jsdom/")}function Hn(e){if(!e||Nn())return!0;try{return e.matches(":focus-visible")}catch{return!0}}function Ie(){return bn()&&Rn()}function ro(e,t){t===void 0&&(t={});const{open:o,onOpenChange:n,events:r,dataRef:c,elements:i}=e,{enabled:s=!0,visibleOnly:u=!0}=t,a=m.useRef(!1),d=m.useRef(-1),g=m.useRef(!0);m.useEffect(()=>{if(!s)return;const l=K(i.domReference);function v(){!o&&V(i.domReference)&&i.domReference===tt(oe(i.domReference))&&(a.current=!0)}function f(){g.current=!0}function w(){g.current=!1}return l.addEventListener("blur",v),Ie()&&(l.addEventListener("keydown",f,!0),l.addEventListener("pointerdown",w,!0)),()=>{l.removeEventListener("blur",v),Ie()&&(l.removeEventListener("keydown",f,!0),l.removeEventListener("pointerdown",w,!0))}},[i.domReference,o,s]),m.useEffect(()=>{if(!s)return;function l(v){let{reason:f}=v;(f==="reference-press"||f==="escape-key")&&(a.current=!0)}return r.on("openchange",l),()=>{r.off("openchange",l)}},[r,s]),m.useEffect(()=>()=>{j(d)},[]);const p=m.useMemo(()=>({onMouseLeave(){a.current=!1},onFocus(l){if(a.current)return;const v=se(l.nativeEvent);if(u&&_(v)){if(Ie()&&!l.relatedTarget){if(!g.current&&!Rt(v))return}else if(!Hn(v))return}n(!0,l.nativeEvent,"focus")},onBlur(l){a.current=!1;const v=l.relatedTarget,f=l.nativeEvent,w=_(v)&&v.hasAttribute(je("focus-guard"))&&v.getAttribute("data-type")==="outside";d.current=window.setTimeout(()=>{var h;const y=tt(i.domReference?i.domReference.ownerDocument:document);!v&&y===i.domReference||ge((h=c.current.floatingContext)==null?void 0:h.refs.floating.current,y)||ge(i.domReference,y)||w||n(!1,f,"focus")})}}),[c,i.domReference,n,u]);return m.useMemo(()=>s?{reference:p}:{},[s,p])}const lt="active",ut="selected";function $e(e,t,o){const n=new Map,r=o==="item";let c=e;if(r&&e){const{[lt]:i,[ut]:s,...u}=e;c=u}return{...o==="floating"&&{tabIndex:-1,[He]:""},...c,...t.map(i=>{const s=i?i[o]:null;return typeof s=="function"?e?s(e):null:s}).concat(e).reduce((i,s)=>(s&&Object.entries(s).forEach(u=>{let[a,d]=u;if(!(r&&[lt,ut].includes(a)))if(a.indexOf("on")===0){if(n.has(a)||n.set(a,[]),typeof d=="function"){var g;(g=n.get(a))==null||g.push(d),i[a]=function(){for(var p,l=arguments.length,v=new Array(l),f=0;f<l;f++)v[f]=arguments[f];return(p=n.get(a))==null?void 0:p.map(w=>w(...v)).find(w=>w!==void 0)}}}else i[a]=d}),i),{})}}function io(e){e===void 0&&(e=[]);const t=e.map(s=>s==null?void 0:s.reference),o=e.map(s=>s==null?void 0:s.floating),n=e.map(s=>s==null?void 0:s.item),r=m.useCallback(s=>$e(s,e,"reference"),t),c=m.useCallback(s=>$e(s,e,"floating"),o),i=m.useCallback(s=>$e(s,e,"item"),n);return m.useMemo(()=>({getReferenceProps:r,getFloatingProps:c,getItemProps:i}),[r,c,i])}const Vn=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function so(e,t){var o,n;t===void 0&&(t={});const{open:r,elements:c,floatingId:i}=e,{enabled:s=!0,role:u="dialog"}=t,a=Et(),d=((o=c.domReference)==null?void 0:o.id)||a,g=m.useMemo(()=>{var y;return((y=Fn(c.floating))==null?void 0:y.id)||i},[c.floating,i]),p=(n=Vn.get(u))!=null?n:u,v=Ye()!=null,f=m.useMemo(()=>p==="tooltip"||u==="label"?{["aria-"+(u==="label"?"labelledby":"describedby")]:r?g:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":p==="alertdialog"?"dialog":p,"aria-controls":r?g:void 0,...p==="listbox"&&{role:"combobox"},...p==="menu"&&{id:d},...p==="menu"&&v&&{role:"menuitem"},...u==="select"&&{"aria-autocomplete":"none"},...u==="combobox"&&{"aria-autocomplete":"list"}},[p,g,v,r,d,u]),w=m.useMemo(()=>{const y={id:g,...p&&{role:p}};return p==="tooltip"||u==="label"?y:{...y,...p==="menu"&&{"aria-labelledby":d}}},[p,g,d,u]),h=m.useCallback(y=>{let{active:b,selected:E}=y;const T={role:"option",...b&&{id:g+"-fui-option"}};switch(u){case"select":return{...T,"aria-selected":b&&E};case"combobox":return{...T,"aria-selected":E}}return{}},[g,u]);return m.useMemo(()=>s?{reference:f,floating:w,item:h}:{},[s,f,w,h])}export{io as a,to as b,no as c,Qn as d,qn as e,jn as f,Gn as g,eo as h,ro as i,so as j,Zn as k,yn as l,_ as m,ae as n,Un as o,zn as p,X as q,Re as r,Jn as s,le as t,oo as u};
