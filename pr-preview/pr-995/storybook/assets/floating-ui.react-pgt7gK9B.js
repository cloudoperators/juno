import{r as m,b as kt,R as ft}from"./iframe-B7VDxPWK.js";function Pe(){return typeof window<"u"}function fe(e){return at(e)?(e.nodeName||"").toLowerCase():"#document"}function K(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function J(e){var t;return(t=(at(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function at(e){return Pe()?e instanceof Node||e instanceof K(e).Node:!1}function _(e){return Pe()?e instanceof Element||e instanceof K(e).Element:!1}function V(e){return Pe()?e instanceof HTMLElement||e instanceof K(e).HTMLElement:!1}function Be(e){return!Pe()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof K(e).ShadowRoot}function ve(e){const{overflow:t,overflowX:o,overflowY:n,display:r}=X(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+o)&&!["inline","contents"].includes(r)}function Ft(e){return["table","td","th"].includes(fe(e))}function Ae(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function We(e){const t=Le(),o=_(e)?X(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>o[n]?o[n]!=="none":!1)||(o.containerType?o.containerType!=="normal":!1)||!t&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!t&&(o.filter?o.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(o.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(o.contain||"").includes(n))}function _t(e){let t=te(e);for(;V(t)&&!ee(t);){if(We(t))return t;if(Ae(t))return null;t=te(t)}return null}function Le(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ee(e){return["html","body","#document"].includes(fe(e))}function X(e){return K(e).getComputedStyle(e)}function Me(e){return _(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function te(e){if(fe(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Be(e)&&e.host||J(e);return Be(t)?t.host:t}function dt(e){const t=te(e);return ee(t)?e.ownerDocument?e.ownerDocument.body:e.body:V(t)&&ve(t)?t:dt(t)}function ne(e,t,o){var n;t===void 0&&(t=[]),o===void 0&&(o=!0);const r=dt(e),c=r===((n=e.ownerDocument)==null?void 0:n.body),i=K(r);if(c){const s=Ne(i);return t.concat(i,i.visualViewport||[],ve(r)?r:[],s&&o?ne(s):[])}return t.concat(r,ne(r,[],o))}function Ne(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const It=["top","right","bottom","left"],Xe=["start","end"],ze=It.reduce((e,t)=>e.concat(t,t+"-"+Xe[0],t+"-"+Xe[1]),[]),le=Math.min,j=Math.max,Re=Math.round,we=Math.floor,z=e=>({x:e,y:e}),$t={left:"right",right:"left",bottom:"top",top:"bottom"},Bt={start:"end",end:"start"};function qe(e,t,o){return j(e,le(t,o))}function ae(e,t){return typeof e=="function"?e(t):e}function G(e){return e.split("-")[0]}function q(e){return e.split("-")[1]}function mt(e){return e==="x"?"y":"x"}function gt(e){return e==="y"?"height":"width"}function oe(e){return["top","bottom"].includes(G(e))?"y":"x"}function pt(e){return mt(oe(e))}function vt(e,t,o){o===void 0&&(o=!1);const n=q(e),r=pt(e),c=gt(r);let i=r==="x"?n===(o?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[c]>t.floating[c]&&(i=Ee(i)),[i,Ee(i)]}function Nt(e){const t=Ee(e);return[be(e),t,be(t)]}function be(e){return e.replace(/start|end/g,t=>Bt[t])}function Wt(e,t,o){const n=["left","right"],r=["right","left"],c=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return o?t?r:n:t?n:r;case"left":case"right":return t?c:i;default:return[]}}function Ht(e,t,o,n){const r=q(e);let c=Wt(G(e),o==="start",n);return r&&(c=c.map(i=>i+"-"+r),t&&(c=c.concat(c.map(be)))),c}function Ee(e){return e.replace(/left|right|bottom|top/g,t=>$t[t])}function Vt(e){return{top:0,right:0,bottom:0,left:0,...e}}function Kt(e){return typeof e!="number"?Vt(e):{top:e,right:e,bottom:e,left:e}}function Ce(e){const{x:t,y:o,width:n,height:r}=e;return{width:n,height:r,top:o,left:t,right:t+n,bottom:o+r,x:t,y:o}}function Ge(e,t,o){let{reference:n,floating:r}=e;const c=oe(t),i=pt(t),s=gt(i),l=G(t),f=c==="y",d=n.x+n.width/2-r.width/2,g=n.y+n.height/2-r.height/2,p=n[s]/2-r[s]/2;let u;switch(l){case"top":u={x:d,y:n.y-r.height};break;case"bottom":u={x:d,y:n.y+n.height};break;case"right":u={x:n.x+n.width,y:g};break;case"left":u={x:n.x-r.width,y:g};break;default:u={x:n.x,y:n.y}}switch(q(t)){case"start":u[i]-=p*(o&&f?-1:1);break;case"end":u[i]+=p*(o&&f?-1:1);break}return u}const Yt=async(e,t,o)=>{const{placement:n="bottom",strategy:r="absolute",middleware:c=[],platform:i}=o,s=c.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let f=await i.getElementRects({reference:e,floating:t,strategy:r}),{x:d,y:g}=Ge(f,n,l),p=n,u={},v=0;for(let a=0;a<s.length;a++){const{name:w,fn:x}=s[a],{x:R,y:b,data:C,reset:P}=await x({x:d,y:g,initialPlacement:n,placement:p,strategy:r,middlewareData:u,rects:f,platform:i,elements:{reference:e,floating:t}});d=R??d,g=b??g,u={...u,[w]:{...u[w],...C}},P&&v<=50&&(v++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(f=P.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:r}):P.rects),{x:d,y:g}=Ge(f,p,l)),a=-1)}return{x:d,y:g,placement:p,strategy:r,middlewareData:u}};async function he(e,t){var o;t===void 0&&(t={});const{x:n,y:r,platform:c,rects:i,elements:s,strategy:l}=e,{boundary:f="clippingAncestors",rootBoundary:d="viewport",elementContext:g="floating",altBoundary:p=!1,padding:u=0}=ae(t,e),v=Kt(u),w=s[p?g==="floating"?"reference":"floating":g],x=Ce(await c.getClippingRect({element:(o=await(c.isElement==null?void 0:c.isElement(w)))==null||o?w:w.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(s.floating)),boundary:f,rootBoundary:d,strategy:l})),R=g==="floating"?{x:n,y:r,width:i.floating.width,height:i.floating.height}:i.reference,b=await(c.getOffsetParent==null?void 0:c.getOffsetParent(s.floating)),C=await(c.isElement==null?void 0:c.isElement(b))?await(c.getScale==null?void 0:c.getScale(b))||{x:1,y:1}:{x:1,y:1},P=Ce(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:R,offsetParent:b,strategy:l}):R);return{top:(x.top-P.top+v.top)/C.y,bottom:(P.bottom-x.bottom+v.bottom)/C.y,left:(x.left-P.left+v.left)/C.x,right:(P.right-x.right+v.right)/C.x}}function jt(e,t,o){return(e?[...o.filter(r=>q(r)===e),...o.filter(r=>q(r)!==e)]:o.filter(r=>G(r)===r)).filter(r=>e?q(r)===e||(t?be(r)!==r:!1):!0)}const Ut=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var o,n,r;const{rects:c,middlewareData:i,placement:s,platform:l,elements:f}=t,{crossAxis:d=!1,alignment:g,allowedPlacements:p=ze,autoAlignment:u=!0,...v}=ae(e,t),a=g!==void 0||p===ze?jt(g||null,u,p):p,w=await he(t,v),x=((o=i.autoPlacement)==null?void 0:o.index)||0,R=a[x];if(R==null)return{};const b=vt(R,c,await(l.isRTL==null?void 0:l.isRTL(f.floating)));if(s!==R)return{reset:{placement:a[0]}};const C=[w[G(R)],w[b[0]],w[b[1]]],P=[...((n=i.autoPlacement)==null?void 0:n.overflows)||[],{placement:R,overflows:C}],S=a[x+1];if(S)return{data:{index:x+1,overflows:P},reset:{placement:S}};const O=P.map(M=>{const F=q(M.placement);return[M.placement,F&&d?M.overflows.slice(0,2).reduce((N,I)=>N+I,0):M.overflows[0],M.overflows]}).sort((M,F)=>M[1]-F[1]),k=((r=O.filter(M=>M[2].slice(0,q(M[0])?2:3).every(F=>F<=0))[0])==null?void 0:r[0])||O[0][0];return k!==s?{data:{index:x+1,overflows:P},reset:{placement:k}}:{}}}},Xt=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var o,n;const{placement:r,middlewareData:c,rects:i,initialPlacement:s,platform:l,elements:f}=t,{mainAxis:d=!0,crossAxis:g=!0,fallbackPlacements:p,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:a=!0,...w}=ae(e,t);if((o=c.arrow)!=null&&o.alignmentOffset)return{};const x=G(r),R=oe(s),b=G(s)===s,C=await(l.isRTL==null?void 0:l.isRTL(f.floating)),P=p||(b||!a?[Ee(s)]:Nt(s)),S=v!=="none";!p&&S&&P.push(...Ht(s,a,v,C));const O=[s,...P],$=await he(t,w),k=[];let M=((n=c.flip)==null?void 0:n.overflows)||[];if(d&&k.push($[x]),g){const E=vt(r,i,C);k.push($[E[0]],$[E[1]])}if(M=[...M,{placement:r,overflows:k}],!k.every(E=>E<=0)){var F,N;const E=(((F=c.flip)==null?void 0:F.index)||0)+1,D=O[E];if(D){var I;const y=g==="alignment"?R!==oe(D):!1,h=((I=M[0])==null?void 0:I.overflows[0])>0;if(!y||h)return{data:{index:E,overflows:M},reset:{placement:D}}}let T=(N=M.filter(y=>y.overflows[0]<=0).sort((y,h)=>y.overflows[1]-h.overflows[1])[0])==null?void 0:N.placement;if(!T)switch(u){case"bestFit":{var W;const y=(W=M.filter(h=>{if(S){const A=oe(h.placement);return A===R||A==="y"}return!0}).map(h=>[h.placement,h.overflows.filter(A=>A>0).reduce((A,B)=>A+B,0)]).sort((h,A)=>h[1]-A[1])[0])==null?void 0:W[0];y&&(T=y);break}case"initialPlacement":T=s;break}if(r!==T)return{reset:{placement:T}}}return{}}}};async function zt(e,t){const{placement:o,platform:n,elements:r}=e,c=await(n.isRTL==null?void 0:n.isRTL(r.floating)),i=G(o),s=q(o),l=oe(o)==="y",f=["left","top"].includes(i)?-1:1,d=c&&l?-1:1,g=ae(t,e);let{mainAxis:p,crossAxis:u,alignmentAxis:v}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return s&&typeof v=="number"&&(u=s==="end"?v*-1:v),l?{x:u*d,y:p*f}:{x:p*f,y:u*d}}const qt=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var o,n;const{x:r,y:c,placement:i,middlewareData:s}=t,l=await zt(t,e);return i===((o=s.offset)==null?void 0:o.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:r+l.x,y:c+l.y,data:{...l,placement:i}}}}},Gt=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:o,y:n,placement:r}=t,{mainAxis:c=!0,crossAxis:i=!1,limiter:s={fn:w=>{let{x,y:R}=w;return{x,y:R}}},...l}=ae(e,t),f={x:o,y:n},d=await he(t,l),g=oe(G(r)),p=mt(g);let u=f[p],v=f[g];if(c){const w=p==="y"?"top":"left",x=p==="y"?"bottom":"right",R=u+d[w],b=u-d[x];u=qe(R,u,b)}if(i){const w=g==="y"?"top":"left",x=g==="y"?"bottom":"right",R=v+d[w],b=v-d[x];v=qe(R,v,b)}const a=s.fn({...t,[p]:u,[g]:v});return{...a,data:{x:a.x-o,y:a.y-n,enabled:{[p]:c,[g]:i}}}}}},Jt=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var o,n;const{placement:r,rects:c,platform:i,elements:s}=t,{apply:l=()=>{},...f}=ae(e,t),d=await he(t,f),g=G(r),p=q(r),u=oe(r)==="y",{width:v,height:a}=c.floating;let w,x;g==="top"||g==="bottom"?(w=g,x=p===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(x=g,w=p==="end"?"top":"bottom");const R=a-d.top-d.bottom,b=v-d.left-d.right,C=le(a-d[w],R),P=le(v-d[x],b),S=!t.middlewareData.shift;let O=C,$=P;if((o=t.middlewareData.shift)!=null&&o.enabled.x&&($=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(O=R),S&&!p){const M=j(d.left,0),F=j(d.right,0),N=j(d.top,0),I=j(d.bottom,0);u?$=v-2*(M!==0||F!==0?M+F:j(d.left,d.right)):O=a-2*(N!==0||I!==0?N+I:j(d.top,d.bottom))}await l({...t,availableWidth:$,availableHeight:O});const k=await i.getDimensions(s.floating);return v!==k.width||a!==k.height?{reset:{rects:!0}}:{}}}};function ht(e){const t=X(e);let o=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const r=V(e),c=r?e.offsetWidth:o,i=r?e.offsetHeight:n,s=Re(o)!==c||Re(n)!==i;return s&&(o=c,n=i),{width:o,height:n,$:s}}function He(e){return _(e)?e:e.contextElement}function ce(e){const t=He(e);if(!V(t))return z(1);const o=t.getBoundingClientRect(),{width:n,height:r,$:c}=ht(t);let i=(c?Re(o.width):o.width)/n,s=(c?Re(o.height):o.height)/r;return(!i||!Number.isFinite(i))&&(i=1),(!s||!Number.isFinite(s))&&(s=1),{x:i,y:s}}const Qt=z(0);function wt(e){const t=K(e);return!Le()||!t.visualViewport?Qt:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Zt(e,t,o){return t===void 0&&(t=!1),!o||t&&o!==K(e)?!1:t}function ie(e,t,o,n){t===void 0&&(t=!1),o===void 0&&(o=!1);const r=e.getBoundingClientRect(),c=He(e);let i=z(1);t&&(n?_(n)&&(i=ce(n)):i=ce(e));const s=Zt(c,o,n)?wt(c):z(0);let l=(r.left+s.x)/i.x,f=(r.top+s.y)/i.y,d=r.width/i.x,g=r.height/i.y;if(c){const p=K(c),u=n&&_(n)?K(n):n;let v=p,a=Ne(v);for(;a&&n&&u!==v;){const w=ce(a),x=a.getBoundingClientRect(),R=X(a),b=x.left+(a.clientLeft+parseFloat(R.paddingLeft))*w.x,C=x.top+(a.clientTop+parseFloat(R.paddingTop))*w.y;l*=w.x,f*=w.y,d*=w.x,g*=w.y,l+=b,f+=C,v=K(a),a=Ne(v)}}return Ce({width:d,height:g,x:l,y:f})}function Ve(e,t){const o=Me(e).scrollLeft;return t?t.left+o:ie(J(e)).left+o}function yt(e,t,o){o===void 0&&(o=!1);const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-(o?0:Ve(e,n)),c=n.top+t.scrollTop;return{x:r,y:c}}function en(e){let{elements:t,rect:o,offsetParent:n,strategy:r}=e;const c=r==="fixed",i=J(n),s=t?Ae(t.floating):!1;if(n===i||s&&c)return o;let l={scrollLeft:0,scrollTop:0},f=z(1);const d=z(0),g=V(n);if((g||!g&&!c)&&((fe(n)!=="body"||ve(i))&&(l=Me(n)),V(n))){const u=ie(n);f=ce(n),d.x=u.x+n.clientLeft,d.y=u.y+n.clientTop}const p=i&&!g&&!c?yt(i,l,!0):z(0);return{width:o.width*f.x,height:o.height*f.y,x:o.x*f.x-l.scrollLeft*f.x+d.x+p.x,y:o.y*f.y-l.scrollTop*f.y+d.y+p.y}}function tn(e){return Array.from(e.getClientRects())}function nn(e){const t=J(e),o=Me(e),n=e.ownerDocument.body,r=j(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),c=j(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-o.scrollLeft+Ve(e);const s=-o.scrollTop;return X(n).direction==="rtl"&&(i+=j(t.clientWidth,n.clientWidth)-r),{width:r,height:c,x:i,y:s}}function on(e,t){const o=K(e),n=J(e),r=o.visualViewport;let c=n.clientWidth,i=n.clientHeight,s=0,l=0;if(r){c=r.width,i=r.height;const f=Le();(!f||f&&t==="fixed")&&(s=r.offsetLeft,l=r.offsetTop)}return{width:c,height:i,x:s,y:l}}function rn(e,t){const o=ie(e,!0,t==="fixed"),n=o.top+e.clientTop,r=o.left+e.clientLeft,c=V(e)?ce(e):z(1),i=e.clientWidth*c.x,s=e.clientHeight*c.y,l=r*c.x,f=n*c.y;return{width:i,height:s,x:l,y:f}}function Je(e,t,o){let n;if(t==="viewport")n=on(e,o);else if(t==="document")n=nn(J(e));else if(_(t))n=rn(t,o);else{const r=wt(e);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Ce(n)}function xt(e,t){const o=te(e);return o===t||!_(o)||ee(o)?!1:X(o).position==="fixed"||xt(o,t)}function sn(e,t){const o=t.get(e);if(o)return o;let n=ne(e,[],!1).filter(s=>_(s)&&fe(s)!=="body"),r=null;const c=X(e).position==="fixed";let i=c?te(e):e;for(;_(i)&&!ee(i);){const s=X(i),l=We(i);!l&&s.position==="fixed"&&(r=null),(c?!l&&!r:!l&&s.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||ve(i)&&!l&&xt(e,i))?n=n.filter(d=>d!==i):r=s,i=te(i)}return t.set(e,n),n}function cn(e){let{element:t,boundary:o,rootBoundary:n,strategy:r}=e;const i=[...o==="clippingAncestors"?Ae(t)?[]:sn(t,this._c):[].concat(o),n],s=i[0],l=i.reduce((f,d)=>{const g=Je(t,d,r);return f.top=j(g.top,f.top),f.right=le(g.right,f.right),f.bottom=le(g.bottom,f.bottom),f.left=j(g.left,f.left),f},Je(t,s,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function ln(e){const{width:t,height:o}=ht(e);return{width:t,height:o}}function un(e,t,o){const n=V(t),r=J(t),c=o==="fixed",i=ie(e,!0,c,t);let s={scrollLeft:0,scrollTop:0};const l=z(0);function f(){l.x=Ve(r)}if(n||!n&&!c)if((fe(t)!=="body"||ve(r))&&(s=Me(t)),n){const u=ie(t,!0,c,t);l.x=u.x+t.clientLeft,l.y=u.y+t.clientTop}else r&&f();c&&!n&&r&&f();const d=r&&!n&&!c?yt(r,s):z(0),g=i.left+s.scrollLeft-l.x-d.x,p=i.top+s.scrollTop-l.y-d.y;return{x:g,y:p,width:i.width,height:i.height}}function Oe(e){return X(e).position==="static"}function Qe(e,t){if(!V(e)||X(e).position==="fixed")return null;if(t)return t(e);let o=e.offsetParent;return J(e)===o&&(o=o.ownerDocument.body),o}function Rt(e,t){const o=K(e);if(Ae(e))return o;if(!V(e)){let r=te(e);for(;r&&!ee(r);){if(_(r)&&!Oe(r))return r;r=te(r)}return o}let n=Qe(e,t);for(;n&&Ft(n)&&Oe(n);)n=Qe(n,t);return n&&ee(n)&&Oe(n)&&!We(n)?o:n||_t(e)||o}const fn=async function(e){const t=this.getOffsetParent||Rt,o=this.getDimensions,n=await o(e.floating);return{reference:un(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function an(e){return X(e).direction==="rtl"}const dn={convertOffsetParentRelativeRectToViewportRelativeRect:en,getDocumentElement:J,getClippingRect:cn,getOffsetParent:Rt,getElementRects:fn,getClientRects:tn,getDimensions:ln,getScale:ce,isElement:_,isRTL:an};function bt(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function mn(e,t){let o=null,n;const r=J(e);function c(){var s;clearTimeout(n),(s=o)==null||s.disconnect(),o=null}function i(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),c();const f=e.getBoundingClientRect(),{left:d,top:g,width:p,height:u}=f;if(s||t(),!p||!u)return;const v=we(g),a=we(r.clientWidth-(d+p)),w=we(r.clientHeight-(g+u)),x=we(d),b={rootMargin:-v+"px "+-a+"px "+-w+"px "+-x+"px",threshold:j(0,le(1,l))||1};let C=!0;function P(S){const O=S[0].intersectionRatio;if(O!==l){if(!C)return i();O?i(!1,O):n=setTimeout(()=>{i(!1,1e-7)},1e3)}O===1&&!bt(f,e.getBoundingClientRect())&&i(),C=!1}try{o=new IntersectionObserver(P,{...b,root:r.ownerDocument})}catch{o=new IntersectionObserver(P,b)}o.observe(e)}return i(!0),c}function zn(e,t,o,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:c=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,f=He(e),d=r||c?[...f?ne(f):[],...ne(t)]:[];d.forEach(x=>{r&&x.addEventListener("scroll",o,{passive:!0}),c&&x.addEventListener("resize",o)});const g=f&&s?mn(f,o):null;let p=-1,u=null;i&&(u=new ResizeObserver(x=>{let[R]=x;R&&R.target===f&&u&&(u.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=u)==null||b.observe(t)})),o()}),f&&!l&&u.observe(f),u.observe(t));let v,a=l?ie(e):null;l&&w();function w(){const x=ie(e);a&&!bt(a,x)&&o(),a=x,v=requestAnimationFrame(w)}return o(),()=>{var x;d.forEach(R=>{r&&R.removeEventListener("scroll",o),c&&R.removeEventListener("resize",o)}),g==null||g(),(x=u)==null||x.disconnect(),u=null,l&&cancelAnimationFrame(v)}}const qn=he,gn=qt,pn=Ut,vn=Gt,hn=Xt,wn=Jt,yn=(e,t,o)=>{const n=new Map,r={platform:dn,...o},c={...r.platform,_c:n};return Yt(e,t,{...r,platform:c})};var xe=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Te(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let o,n,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(o=e.length,o!==t.length)return!1;for(n=o;n--!==0;)if(!Te(e[n],t[n]))return!1;return!0}if(r=Object.keys(e),o=r.length,o!==Object.keys(t).length)return!1;for(n=o;n--!==0;)if(!{}.hasOwnProperty.call(t,r[n]))return!1;for(n=o;n--!==0;){const c=r[n];if(!(c==="_owner"&&e.$$typeof)&&!Te(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}function Et(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ze(e,t){const o=Et(e);return Math.round(t*o)/o}function Se(e){const t=m.useRef(e);return xe(()=>{t.current=e}),t}function xn(e){e===void 0&&(e={});const{placement:t="bottom",strategy:o="absolute",middleware:n=[],platform:r,elements:{reference:c,floating:i}={},transform:s=!0,whileElementsMounted:l,open:f}=e,[d,g]=m.useState({x:0,y:0,strategy:o,placement:t,middlewareData:{},isPositioned:!1}),[p,u]=m.useState(n);Te(p,n)||u(n);const[v,a]=m.useState(null),[w,x]=m.useState(null),R=m.useCallback(y=>{y!==S.current&&(S.current=y,a(y))},[]),b=m.useCallback(y=>{y!==O.current&&(O.current=y,x(y))},[]),C=c||v,P=i||w,S=m.useRef(null),O=m.useRef(null),$=m.useRef(d),k=l!=null,M=Se(l),F=Se(r),N=Se(f),I=m.useCallback(()=>{if(!S.current||!O.current)return;const y={placement:t,strategy:o,middleware:p};F.current&&(y.platform=F.current),yn(S.current,O.current,y).then(h=>{const A={...h,isPositioned:N.current!==!1};W.current&&!Te($.current,A)&&($.current=A,kt.flushSync(()=>{g(A)}))})},[p,t,o,F,N]);xe(()=>{f===!1&&$.current.isPositioned&&($.current.isPositioned=!1,g(y=>({...y,isPositioned:!1})))},[f]);const W=m.useRef(!1);xe(()=>(W.current=!0,()=>{W.current=!1}),[]),xe(()=>{if(C&&(S.current=C),P&&(O.current=P),C&&P){if(M.current)return M.current(C,P,I);I()}},[C,P,I,M,k]);const E=m.useMemo(()=>({reference:S,floating:O,setReference:R,setFloating:b}),[R,b]),D=m.useMemo(()=>({reference:C,floating:P}),[C,P]),T=m.useMemo(()=>{const y={position:o,left:0,top:0};if(!D.floating)return y;const h=Ze(D.floating,d.x),A=Ze(D.floating,d.y);return s?{...y,transform:"translate("+h+"px, "+A+"px)",...Et(D.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:h,top:A}},[o,s,D.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:I,refs:E,elements:D,floatingStyles:T}),[d,I,E,D,T])}const Gn=(e,t)=>({...gn(e),options:[e,t]}),Jn=(e,t)=>({...vn(e),options:[e,t]}),Qn=(e,t)=>({...hn(e),options:[e,t]}),Zn=(e,t)=>({...wn(e),options:[e,t]}),eo=(e,t)=>({...pn(e),options:[e,t]});function Rn(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function bn(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:o,version:n}=t;return o+"/"+n}).join(" "):navigator.userAgent}function En(){return/apple/i.test(navigator.vendor)}function Cn(){return Rn().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function Tn(){return bn().includes("jsdom/")}const et="data-floating-ui-focusable",Pn="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function tt(e){let t=e.activeElement;for(;((o=t)==null||(o=o.shadowRoot)==null?void 0:o.activeElement)!=null;){var o;t=t.shadowRoot.activeElement}return t}function ge(e,t){if(!e||!t)return!1;const o=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(o&&Be(o)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function se(e){return"composedPath"in e?e.composedPath()[0]:e.target}function De(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const o=e;return o.target!=null&&t.contains(o.target)}function An(e){return e.matches("html,body")}function re(e){return(e==null?void 0:e.ownerDocument)||document}function Ct(e){return V(e)&&e.matches(Pn)}function Ln(e){if(!e||Tn())return!0;try{return e.matches(":focus-visible")}catch{return!0}}function Mn(e){return e?e.hasAttribute(et)?e:e.querySelector("["+et+"]")||e:null}function ke(e,t,o){o===void 0&&(o=!0);let n=e.filter(c=>{var i;return c.parentId===t&&((i=c.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=o?e.filter(c=>{var i;return(i=r)==null?void 0:i.some(s=>{var l;return c.parentId===s.id&&((l=c.context)==null?void 0:l.open)})}):e,n=n.concat(r);return n}function On(e){return"nativeEvent"in e}function pe(e,t){const o=["mouse","pen"];return t||o.push("",void 0),o.includes(e)}var ue=typeof document<"u"?m.useLayoutEffect:m.useEffect;const Sn={...ft};function ye(e){const t=m.useRef(e);return ue(()=>{t.current=e}),t}const Dn=Sn.useInsertionEffect,kn=Dn||(e=>e());function Z(e){const t=m.useRef(()=>{});return kn(()=>{t.current=e}),m.useCallback(function(){for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return t.current==null?void 0:t.current(...n)},[])}function to(e){const t=m.useRef(void 0),o=m.useCallback(n=>{const r=e.map(c=>{if(c!=null){if(typeof c=="function"){const i=c,s=i(n);return typeof s=="function"?s:()=>{i(null)}}return c.current=n,()=>{c.current=null}}});return()=>{r.forEach(c=>c==null?void 0:c())}},e);return m.useMemo(()=>e.every(n=>n==null)?null:n=>{t.current&&(t.current(),t.current=void 0),n!=null&&(t.current=o(n))},e)}const Fn="data-floating-ui-focusable",nt="active",ot="selected",_n={...ft};let rt=!1,In=0;const it=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+In++;function $n(){const[e,t]=m.useState(()=>rt?it():void 0);return ue(()=>{e==null&&t(it())},[]),m.useEffect(()=>{rt=!0},[]),e}const Bn=_n.useId,Tt=Bn||$n;function Nn(){const e=new Map;return{emit(t,o){var n;(n=e.get(t))==null||n.forEach(r=>r(o))},on(t,o){e.has(t)||e.set(t,new Set),e.get(t).add(o)},off(t,o){var n;(n=e.get(t))==null||n.delete(o)}}}const Wn=m.createContext(null),Hn=m.createContext(null),Ke=()=>{var e;return((e=m.useContext(Wn))==null?void 0:e.id)||null},Ye=()=>m.useContext(Hn);function je(e){return"data-floating-ui-"+e}function U(e){e.current!==-1&&(clearTimeout(e.current),e.current=-1)}const st=je("safe-polygon");function Fe(e,t,o){if(o&&!pe(o))return 0;if(typeof e=="number")return e;if(typeof e=="function"){const n=e();return typeof n=="number"?n:n==null?void 0:n[t]}return e==null?void 0:e[t]}function _e(e){return typeof e=="function"?e():e}function no(e,t){t===void 0&&(t={});const{open:o,onOpenChange:n,dataRef:r,events:c,elements:i}=e,{enabled:s=!0,delay:l=0,handleClose:f=null,mouseOnly:d=!1,restMs:g=0,move:p=!0}=t,u=Ye(),v=Ke(),a=ye(f),w=ye(l),x=ye(o),R=ye(g),b=m.useRef(),C=m.useRef(-1),P=m.useRef(),S=m.useRef(-1),O=m.useRef(!0),$=m.useRef(!1),k=m.useRef(()=>{}),M=m.useRef(!1),F=m.useCallback(()=>{var T;const y=(T=r.current.openEvent)==null?void 0:T.type;return(y==null?void 0:y.includes("mouse"))&&y!=="mousedown"},[r]);m.useEffect(()=>{if(!s)return;function T(y){let{open:h}=y;h||(U(C),U(S),O.current=!0,M.current=!1)}return c.on("openchange",T),()=>{c.off("openchange",T)}},[s,c]),m.useEffect(()=>{if(!s||!a.current||!o)return;function T(h){F()&&n(!1,h,"hover")}const y=re(i.floating).documentElement;return y.addEventListener("mouseleave",T),()=>{y.removeEventListener("mouseleave",T)}},[i.floating,o,n,s,a,F]);const N=m.useCallback(function(T,y,h){y===void 0&&(y=!0),h===void 0&&(h="hover");const A=Fe(w.current,"close",b.current);A&&!P.current?(U(C),C.current=window.setTimeout(()=>n(!1,T,h),A)):y&&(U(C),n(!1,T,h))},[w,n]),I=Z(()=>{k.current(),P.current=void 0}),W=Z(()=>{if($.current){const T=re(i.floating).body;T.style.pointerEvents="",T.removeAttribute(st),$.current=!1}}),E=Z(()=>r.current.openEvent?["click","mousedown"].includes(r.current.openEvent.type):!1);m.useEffect(()=>{if(!s)return;function T(L){if(U(C),O.current=!1,d&&!pe(b.current)||_e(R.current)>0&&!Fe(w.current,"open"))return;const H=Fe(w.current,"open",b.current);H?C.current=window.setTimeout(()=>{x.current||n(!0,L,"hover")},H):o||n(!0,L,"hover")}function y(L){if(E()){W();return}k.current();const H=re(i.floating);if(U(S),M.current=!1,a.current&&r.current.floatingContext){o||U(C),P.current=a.current({...r.current.floatingContext,tree:u,x:L.clientX,y:L.clientY,onClose(){W(),I(),E()||N(L,!0,"safe-polygon")}});const de=P.current;H.addEventListener("mousemove",de),k.current=()=>{H.removeEventListener("mousemove",de)};return}(b.current==="touch"?!ge(i.floating,L.relatedTarget):!0)&&N(L)}function h(L){E()||r.current.floatingContext&&(a.current==null||a.current({...r.current.floatingContext,tree:u,x:L.clientX,y:L.clientY,onClose(){W(),I(),E()||N(L)}})(L))}function A(){U(C)}function B(L){E()||N(L,!1)}if(_(i.domReference)){const L=i.domReference,H=i.floating;return o&&L.addEventListener("mouseleave",h),p&&L.addEventListener("mousemove",T,{once:!0}),L.addEventListener("mouseenter",T),L.addEventListener("mouseleave",y),H&&(H.addEventListener("mouseleave",h),H.addEventListener("mouseenter",A),H.addEventListener("mouseleave",B)),()=>{o&&L.removeEventListener("mouseleave",h),p&&L.removeEventListener("mousemove",T),L.removeEventListener("mouseenter",T),L.removeEventListener("mouseleave",y),H&&(H.removeEventListener("mouseleave",h),H.removeEventListener("mouseenter",A),H.removeEventListener("mouseleave",B))}}},[i,s,e,d,p,N,I,W,n,o,x,u,w,a,r,E,R]),ue(()=>{var T;if(s&&o&&(T=a.current)!=null&&T.__options.blockPointerEvents&&F()){$.current=!0;const h=i.floating;if(_(i.domReference)&&h){var y;const A=re(i.floating).body;A.setAttribute(st,"");const B=i.domReference,L=u==null||(y=u.nodesRef.current.find(H=>H.id===v))==null||(y=y.context)==null?void 0:y.elements.floating;return L&&(L.style.pointerEvents=""),A.style.pointerEvents="none",B.style.pointerEvents="auto",h.style.pointerEvents="auto",()=>{A.style.pointerEvents="",B.style.pointerEvents="",h.style.pointerEvents=""}}}},[s,o,v,i,u,a,F]),ue(()=>{o||(b.current=void 0,M.current=!1,I(),W())},[o,I,W]),m.useEffect(()=>()=>{I(),U(C),U(S),W()},[s,i.domReference,I,W]);const D=m.useMemo(()=>{function T(y){b.current=y.pointerType}return{onPointerDown:T,onPointerEnter:T,onMouseMove(y){const{nativeEvent:h}=y;function A(){!O.current&&!x.current&&n(!0,h,"hover")}d&&!pe(b.current)||o||_e(R.current)===0||M.current&&y.movementX**2+y.movementY**2<2||(U(S),b.current==="touch"?A():(M.current=!0,S.current=window.setTimeout(A,_e(R.current))))}}},[d,n,o,x,R]);return m.useMemo(()=>s?{reference:D}:{},[s,D])}function ct(e){return V(e.target)&&e.target.tagName==="BUTTON"}function Vn(e){return V(e.target)&&e.target.tagName==="A"}function lt(e){return Ct(e)}function oo(e,t){t===void 0&&(t={});const{open:o,onOpenChange:n,dataRef:r,elements:{domReference:c}}=e,{enabled:i=!0,event:s="click",toggle:l=!0,ignoreMouse:f=!1,keyboardHandlers:d=!0,stickIfOpen:g=!0}=t,p=m.useRef(),u=m.useRef(!1),v=m.useMemo(()=>({onPointerDown(a){p.current=a.pointerType},onMouseDown(a){const w=p.current;a.button===0&&s!=="click"&&(pe(w,!0)&&f||(o&&l&&(!(r.current.openEvent&&g)||r.current.openEvent.type==="mousedown")?n(!1,a.nativeEvent,"click"):(a.preventDefault(),n(!0,a.nativeEvent,"click"))))},onClick(a){const w=p.current;if(s==="mousedown"&&p.current){p.current=void 0;return}pe(w,!0)&&f||(o&&l&&(!(r.current.openEvent&&g)||r.current.openEvent.type==="click")?n(!1,a.nativeEvent,"click"):n(!0,a.nativeEvent,"click"))},onKeyDown(a){p.current=void 0,!(a.defaultPrevented||!d||ct(a))&&(a.key===" "&&!lt(c)&&(a.preventDefault(),u.current=!0),!Vn(a)&&a.key==="Enter"&&n(!(o&&l),a.nativeEvent,"click"))},onKeyUp(a){a.defaultPrevented||!d||ct(a)||lt(c)||a.key===" "&&u.current&&(u.current=!1,n(!(o&&l),a.nativeEvent,"click"))}}),[r,c,s,f,d,n,o,g,l]);return m.useMemo(()=>i?{reference:v}:{},[i,v])}const Kn={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Yn={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},ut=e=>{var t,o;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(o=e==null?void 0:e.outsidePress)!=null?o:!0}};function ro(e,t){t===void 0&&(t={});const{open:o,onOpenChange:n,elements:r,dataRef:c}=e,{enabled:i=!0,escapeKey:s=!0,outsidePress:l=!0,outsidePressEvent:f="pointerdown",referencePress:d=!1,referencePressEvent:g="pointerdown",ancestorScroll:p=!1,bubbles:u,capture:v}=t,a=Ye(),w=Z(typeof l=="function"?l:()=>!1),x=typeof l=="function"?w:l,R=m.useRef(!1),b=m.useRef(!1),{escapeKey:C,outsidePress:P}=ut(u),{escapeKey:S,outsidePress:O}=ut(v),$=m.useRef(!1),k=Z(E=>{var D;if(!o||!i||!s||E.key!=="Escape"||$.current)return;const T=(D=c.current.floatingContext)==null?void 0:D.nodeId,y=a?ke(a.nodesRef.current,T):[];if(!C&&(E.stopPropagation(),y.length>0)){let h=!0;if(y.forEach(A=>{var B;if((B=A.context)!=null&&B.open&&!A.context.dataRef.current.__escapeKeyBubbles){h=!1;return}}),!h)return}n(!1,On(E)?E.nativeEvent:E,"escape-key")}),M=Z(E=>{var D;const T=()=>{var y;k(E),(y=se(E))==null||y.removeEventListener("keydown",T)};(D=se(E))==null||D.addEventListener("keydown",T)}),F=Z(E=>{var D;const T=R.current;R.current=!1;const y=b.current;if(b.current=!1,f==="click"&&y||T||typeof x=="function"&&!x(E))return;const h=se(E),A="["+je("inert")+"]",B=re(r.floating).querySelectorAll(A);let L=_(h)?h:null;for(;L&&!ee(L);){const Y=te(L);if(ee(Y)||!_(Y))break;L=Y}if(B.length&&_(h)&&!An(h)&&!ge(h,r.floating)&&Array.from(B).every(Y=>!ge(L,Y)))return;if(V(h)&&W){const Y=ee(h),Q=X(h),me=/auto|scroll/,Pt=Y||me.test(Q.overflowX),At=Y||me.test(Q.overflowY),Lt=Pt&&h.clientWidth>0&&h.scrollWidth>h.clientWidth,Mt=At&&h.clientHeight>0&&h.scrollHeight>h.clientHeight,Ot=Q.direction==="rtl",St=Mt&&(Ot?E.offsetX<=h.offsetWidth-h.clientWidth:E.offsetX>h.clientWidth),Dt=Lt&&E.offsetY>h.clientHeight;if(St||Dt)return}const H=(D=c.current.floatingContext)==null?void 0:D.nodeId,Ue=a&&ke(a.nodesRef.current,H).some(Y=>{var Q;return De(E,(Q=Y.context)==null?void 0:Q.elements.floating)});if(De(E,r.floating)||De(E,r.domReference)||Ue)return;const de=a?ke(a.nodesRef.current,H):[];if(de.length>0){let Y=!0;if(de.forEach(Q=>{var me;if((me=Q.context)!=null&&me.open&&!Q.context.dataRef.current.__outsidePressBubbles){Y=!1;return}}),!Y)return}n(!1,E,"outside-press")}),N=Z(E=>{var D;const T=()=>{var y;F(E),(y=se(E))==null||y.removeEventListener(f,T)};(D=se(E))==null||D.addEventListener(f,T)});m.useEffect(()=>{if(!o||!i)return;c.current.__escapeKeyBubbles=C,c.current.__outsidePressBubbles=P;let E=-1;function D(B){n(!1,B,"ancestor-scroll")}function T(){window.clearTimeout(E),$.current=!0}function y(){E=window.setTimeout(()=>{$.current=!1},Le()?5:0)}const h=re(r.floating);s&&(h.addEventListener("keydown",S?M:k,S),h.addEventListener("compositionstart",T),h.addEventListener("compositionend",y)),x&&h.addEventListener(f,O?N:F,O);let A=[];return p&&(_(r.domReference)&&(A=ne(r.domReference)),_(r.floating)&&(A=A.concat(ne(r.floating))),!_(r.reference)&&r.reference&&r.reference.contextElement&&(A=A.concat(ne(r.reference.contextElement)))),A=A.filter(B=>{var L;return B!==((L=h.defaultView)==null?void 0:L.visualViewport)}),A.forEach(B=>{B.addEventListener("scroll",D,{passive:!0})}),()=>{s&&(h.removeEventListener("keydown",S?M:k,S),h.removeEventListener("compositionstart",T),h.removeEventListener("compositionend",y)),x&&h.removeEventListener(f,O?N:F,O),A.forEach(B=>{B.removeEventListener("scroll",D)}),window.clearTimeout(E)}},[c,r,s,x,f,o,n,p,i,C,P,k,S,M,F,O,N]),m.useEffect(()=>{R.current=!1},[x,f]);const I=m.useMemo(()=>({onKeyDown:k,...d&&{[Kn[g]]:E=>{n(!1,E.nativeEvent,"reference-press")},...g!=="click"&&{onClick(E){n(!1,E.nativeEvent,"reference-press")}}}}),[k,n,d,g]),W=m.useMemo(()=>({onKeyDown:k,onMouseDown(){b.current=!0},onMouseUp(){b.current=!0},[Yn[f]]:()=>{R.current=!0}}),[k,f]);return m.useMemo(()=>i?{reference:I,floating:W}:{},[i,I,W])}function jn(e){const{open:t=!1,onOpenChange:o,elements:n}=e,r=Tt(),c=m.useRef({}),[i]=m.useState(()=>Nn()),s=Ke()!=null,[l,f]=m.useState(n.reference),d=Z((u,v,a)=>{c.current.openEvent=u?v:void 0,i.emit("openchange",{open:u,event:v,reason:a,nested:s}),o==null||o(u,v,a)}),g=m.useMemo(()=>({setPositionReference:f}),[]),p=m.useMemo(()=>({reference:l||n.reference||null,floating:n.floating||null,domReference:n.reference}),[l,n.reference,n.floating]);return m.useMemo(()=>({dataRef:c,open:t,onOpenChange:d,elements:p,events:i,floatingId:r,refs:g}),[t,d,p,i,r,g])}function io(e){e===void 0&&(e={});const{nodeId:t}=e,o=jn({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||o,r=n.elements,[c,i]=m.useState(null),[s,l]=m.useState(null),d=(r==null?void 0:r.domReference)||c,g=m.useRef(null),p=Ye();ue(()=>{d&&(g.current=d)},[d]);const u=xn({...e,elements:{...r,...s&&{reference:s}}}),v=m.useCallback(b=>{const C=_(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),getClientRects:()=>b.getClientRects(),contextElement:b}:b;l(C),u.refs.setReference(C)},[u.refs]),a=m.useCallback(b=>{(_(b)||b===null)&&(g.current=b,i(b)),(_(u.refs.reference.current)||u.refs.reference.current===null||b!==null&&!_(b))&&u.refs.setReference(b)},[u.refs]),w=m.useMemo(()=>({...u.refs,setReference:a,setPositionReference:v,domReference:g}),[u.refs,a,v]),x=m.useMemo(()=>({...u.elements,domReference:d}),[u.elements,d]),R=m.useMemo(()=>({...u,...n,refs:w,elements:x,nodeId:t}),[u,w,x,t,n]);return ue(()=>{n.dataRef.current.floatingContext=R;const b=p==null?void 0:p.nodesRef.current.find(C=>C.id===t);b&&(b.context=R)}),m.useMemo(()=>({...u,context:R,refs:w,elements:x}),[u,w,x,R])}function Ie(){return Cn()&&En()}function so(e,t){t===void 0&&(t={});const{open:o,onOpenChange:n,events:r,dataRef:c,elements:i}=e,{enabled:s=!0,visibleOnly:l=!0}=t,f=m.useRef(!1),d=m.useRef(-1),g=m.useRef(!0);m.useEffect(()=>{if(!s)return;const u=K(i.domReference);function v(){!o&&V(i.domReference)&&i.domReference===tt(re(i.domReference))&&(f.current=!0)}function a(){g.current=!0}function w(){g.current=!1}return u.addEventListener("blur",v),Ie()&&(u.addEventListener("keydown",a,!0),u.addEventListener("pointerdown",w,!0)),()=>{u.removeEventListener("blur",v),Ie()&&(u.removeEventListener("keydown",a,!0),u.removeEventListener("pointerdown",w,!0))}},[i.domReference,o,s]),m.useEffect(()=>{if(!s)return;function u(v){let{reason:a}=v;(a==="reference-press"||a==="escape-key")&&(f.current=!0)}return r.on("openchange",u),()=>{r.off("openchange",u)}},[r,s]),m.useEffect(()=>()=>{U(d)},[]);const p=m.useMemo(()=>({onMouseLeave(){f.current=!1},onFocus(u){if(f.current)return;const v=se(u.nativeEvent);if(l&&_(v)){if(Ie()&&!u.relatedTarget){if(!g.current&&!Ct(v))return}else if(!Ln(v))return}n(!0,u.nativeEvent,"focus")},onBlur(u){f.current=!1;const v=u.relatedTarget,a=u.nativeEvent,w=_(v)&&v.hasAttribute(je("focus-guard"))&&v.getAttribute("data-type")==="outside";d.current=window.setTimeout(()=>{var x;const R=tt(i.domReference?i.domReference.ownerDocument:document);!v&&R===i.domReference||ge((x=c.current.floatingContext)==null?void 0:x.refs.floating.current,R)||ge(i.domReference,R)||w||n(!1,a,"focus")})}}),[c,i.domReference,n,l]);return m.useMemo(()=>s?{reference:p}:{},[s,p])}function $e(e,t,o){const n=new Map,r=o==="item";let c=e;if(r&&e){const{[nt]:i,[ot]:s,...l}=e;c=l}return{...o==="floating"&&{tabIndex:-1,[Fn]:""},...c,...t.map(i=>{const s=i?i[o]:null;return typeof s=="function"?e?s(e):null:s}).concat(e).reduce((i,s)=>(s&&Object.entries(s).forEach(l=>{let[f,d]=l;if(!(r&&[nt,ot].includes(f)))if(f.indexOf("on")===0){if(n.has(f)||n.set(f,[]),typeof d=="function"){var g;(g=n.get(f))==null||g.push(d),i[f]=function(){for(var p,u=arguments.length,v=new Array(u),a=0;a<u;a++)v[a]=arguments[a];return(p=n.get(f))==null?void 0:p.map(w=>w(...v)).find(w=>w!==void 0)}}}else i[f]=d}),i),{})}}function co(e){e===void 0&&(e=[]);const t=e.map(s=>s==null?void 0:s.reference),o=e.map(s=>s==null?void 0:s.floating),n=e.map(s=>s==null?void 0:s.item),r=m.useCallback(s=>$e(s,e,"reference"),t),c=m.useCallback(s=>$e(s,e,"floating"),o),i=m.useCallback(s=>$e(s,e,"item"),n);return m.useMemo(()=>({getReferenceProps:r,getFloatingProps:c,getItemProps:i}),[r,c,i])}const Un=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function lo(e,t){var o,n;t===void 0&&(t={});const{open:r,elements:c,floatingId:i}=e,{enabled:s=!0,role:l="dialog"}=t,f=Tt(),d=((o=c.domReference)==null?void 0:o.id)||f,g=m.useMemo(()=>{var R;return((R=Mn(c.floating))==null?void 0:R.id)||i},[c.floating,i]),p=(n=Un.get(l))!=null?n:l,v=Ke()!=null,a=m.useMemo(()=>p==="tooltip"||l==="label"?{["aria-"+(l==="label"?"labelledby":"describedby")]:r?g:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":p==="alertdialog"?"dialog":p,"aria-controls":r?g:void 0,...p==="listbox"&&{role:"combobox"},...p==="menu"&&{id:d},...p==="menu"&&v&&{role:"menuitem"},...l==="select"&&{"aria-autocomplete":"none"},...l==="combobox"&&{"aria-autocomplete":"list"}},[p,g,v,r,d,l]),w=m.useMemo(()=>{const R={id:g,...p&&{role:p}};return p==="tooltip"||l==="label"?R:{...R,...p==="menu"&&{"aria-labelledby":d}}},[p,g,d,l]),x=m.useCallback(R=>{let{active:b,selected:C}=R;const P={role:"option",...b&&{id:g+"-fui-option"}};switch(l){case"select":return{...P,"aria-selected":b&&C};case"combobox":return{...P,"aria-selected":C}}return{}},[g,l]);return m.useMemo(()=>s?{reference:a,floating:w,item:x}:{},[s,a,w,x])}export{oo as a,no as b,so as c,ro as d,lo as e,co as f,Qn as g,zn as h,to as i,eo as j,Zn as k,xn as l,_ as m,ae as n,Gn as o,qn as p,j as q,Re as r,Jn as s,le as t,io as u};
