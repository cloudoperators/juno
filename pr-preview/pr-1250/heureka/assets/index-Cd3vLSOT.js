import{A as x,j as l,K as u,T as b,B as p,C as j,D as h,E as F,X as v,r as V,F as k}from"./App-DBKior3s.js";import{a as n}from"./index-DaSNsbVB.js";const y=({filters:c,onChange:a})=>{const[e,d]=n.useState(""),[o,t]=n.useState(""),r=c.find(s=>s.filterName===e)?.values?.filter(s=>s),m=n.useCallback(s=>{t(s),!x(e)&&!x(s)&&a({name:e,value:s}),setTimeout(()=>{t("")},0)},[e,t,a]);return l.jsx(u,{alignment:"center",gap:"8",children:l.jsxs(b,{children:[l.jsx(p,{className:"filter-label-select w-64 mb-0",name:"filter","data-testid":"select-filterValue",label:"Filter",value:e,onChange:s=>{d(String(s))},children:c?.map(({displayName:s,filterName:i})=>l.jsx(j,{value:i,label:s,"data-testid":i},i))}),l.jsx(h,{className:"filter-value-select w-64 bg-theme-background-lvl-0",name:"filterValue","data-testid":"combobox-filterValue",value:o,disabled:!e,onChange:m,children:r?.map(s=>l.jsx(F,{value:s,label:s,"data-testid":s},s))})]})})},C=({selectedFilters:c,onDelete:a})=>l.jsx(u,{gap:"2",wrap:!0,children:c?.map(e=>l.jsx(v,{closeable:!0,pillKey:e.name,pillValue:e.value,onClose:()=>a(e)},`${e.name}:${e.value}`))}),B=({filters:c,filterSettings:a,onFilterChange:e,searchInputPlaceholder:d})=>{const o=n.useCallback(t=>{e({...a,selectedFilters:a.selectedFilters?.filter(r=>!(r.name===t.name&&r.value===t.value))})},[a,e]);return l.jsxs(u,{direction:"vertical",gap:"4",className:"bg-theme-background-lvl-1 py-2 px-4 ",children:[l.jsxs(u,{alignment:"center",gap:"4",children:[l.jsx(b,{children:l.jsx(y,{filters:c,onChange:t=>{a.selectedFilters?.some(m=>m.name===t.name&&m.value===t.value)||e({...a,selectedFilters:[...a.selectedFilters||[],t]})}})}),l.jsx(V,{label:"Clear all",className:"ml-4",onClick:()=>e({...a,selectedFilters:[]}),variant:"subdued"}),l.jsx(k,{placeholder:d||"search term for",className:"w-96 ml-auto","data-testid":"searchbar",value:a.searchTerm,onSearch:t=>{e({...a,searchTerm:t})},onClear:()=>e({...a,searchTerm:""})})]}),a.selectedFilters&&a.selectedFilters.length>0&&l.jsx(C,{selectedFilters:a.selectedFilters,onDelete:o})]})};export{B as F};
