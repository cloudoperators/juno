"use strict";(self.webpackChunk_cloudoperators_juno_ui_components=self.webpackChunk_cloudoperators_juno_ui_components||[]).push([[15],{"./src/components/PortalProvider/PortalProvider.component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{GD:()=>PortalProvider,TE:()=>usePortalRef});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),react_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react-dom/index.js");const DEFAULT_PORTAL_ROOT_ID="juno-portal-root",PortalContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(),portalRootStyles={position:"absolute",top:"0",left:"0"},portalStyles={position:"relative",zIndex:"1"},Portal=_ref=>{let{children=null}=_ref;const rootRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(PortalContext),[isMounted,setIsMounted]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);if((0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{rootRef?.current&&setIsMounted(!0)}),[rootRef]),!isMounted)return null;const wrappedChildren=react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"juno-portal",style:portalStyles},children);return(0,react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal)(wrappedChildren,rootRef.current||document.body)};function usePortalRef(){const rootRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(PortalContext),containerRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),[isReady,setIsReady]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(!rootRef||!rootRef?.current)return void console.warn("usePortalRef must be called inside a PortalProvider. You are probably using a component that renders a portal, e.g. Modal or Select. Make sure your app is wrapped in an AppShellProvider. Alternatively, a PortalProvider can be included manually.");const containerElement=document.createElement("div");return containerElement.style.position="relative",containerElement.style.zIndex="1",containerElement.classList.add("juno-portal"),rootRef.current.append(containerElement),containerRef.current=containerElement,setIsReady(!0),()=>{containerRef.current&&rootRef?.current&&(rootRef.current.removeChild(containerRef.current),containerRef.current=null)}}),[rootRef]),containerRef?.current&&isReady?containerRef.current:null}Portal.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().node};const PortalProvider=_ref2=>{let{children=null,className="",id=DEFAULT_PORTAL_ROOT_ID}=_ref2;const portalRootRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),[isMounted,setIsMounted]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{portalRootRef.current&&setIsMounted(!0)}),[]),react__WEBPACK_IMPORTED_MODULE_0__.createElement(PortalContext.Provider,{value:portalRootRef},isMounted&&children,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:`juno-portal-root ${className}`,id,ref:portalRootRef,style:portalRootStyles}))};PortalProvider.Portal=Portal,Portal.displayName="PortalProvider.Portal",PortalProvider.propTypes={className:prop_types__WEBPACK_IMPORTED_MODULE_2___default().string,id:prop_types__WEBPACK_IMPORTED_MODULE_2___default().string,children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().node},PortalProvider.Portal.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().node},PortalProvider.__docgenInfo={description:"A PortalProvider component that helps using and managing portals.\nIt renders a portal root container, creates a context to expose a ref the container, a `PortalProvider.Portal` component to render content into a portal, and a `usePortalRef` hook to render content into a portal.\nNormally, there is no need to include `PortalProvider` manually, when using `AppShell` `PortalProvider` is already included in the app.",methods:[{name:"Portal",docblock:null,modifiers:["static"],params:[{name:"{ children = null }",optional:!1,type:null}],returns:null}],displayName:"PortalProvider",props:{children:{defaultValue:{value:"null",computed:!1},description:"The children of the PortalProvider. Typically, this will be the whole app.",type:{name:"node"},required:!1},className:{defaultValue:{value:'""',computed:!1},description:"Pass a custom className to the portal root container in which portals will be mounted",type:{name:"string"},required:!1},id:{defaultValue:{value:'"juno-portal-root"',computed:!1},description:"Pass a custom id to the portal root container in which portals will be mounted",type:{name:"string"},required:!1}}}},"./src/components/PortalProvider/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{GD:()=>_PortalProvider_component__WEBPACK_IMPORTED_MODULE_0__.GD,TE:()=>_PortalProvider_component__WEBPACK_IMPORTED_MODULE_0__.TE});var _PortalProvider_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/PortalProvider/PortalProvider.component.js")},"./src/components/PortalProvider/PortalProvider.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MultiplePortals:()=>MultiplePortals,WithHook:()=>WithHook,WithPortalComponent:()=>WithPortalComponent,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react-dom/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__),_Message___WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Message/index.ts"),___WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/PortalProvider/index.js");const __WEBPACK_DEFAULT_EXPORT__={title:"WiP/PortalProvider",component:___WEBPACK_IMPORTED_MODULE_3__.GD,subcomponents:{"PortalProvider.Portal":___WEBPACK_IMPORTED_MODULE_3__.GD.Portal},tags:["autodocs"],argTypes:{children:{control:!1}}},PortalMessage=()=>{const portalRef=(0,___WEBPACK_IMPORTED_MODULE_3__.TE)();if(!portalRef)return null;const content=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Message___WEBPACK_IMPORTED_MODULE_2__.Q,{text:"I'm inside a portal using the usePortalref hook in a custom component."});return(0,react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal)(content,portalRef)},Template=_ref=>{let{children,...args}=_ref;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_3__.GD,args,children)};Template.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_4___default().node};const WithPortalComponent={render:Template,args:{children:react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_3__.GD.Portal,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Message___WEBPACK_IMPORTED_MODULE_2__.Q,{text:"I'm inside a portal using the Portal component as provided by PortalProvider."}))}},WithHook={render:Template,args:{children:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null," Some non-portalled content"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(PortalMessage,null))}},MultiplePortals={render:Template,args:{children:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,"Some non-portaled content."),react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_3__.GD.Portal,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Message___WEBPACK_IMPORTED_MODULE_2__.Q,{text:"I'm inside a portal using the Portal component as provided by PortalProvider."})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(PortalMessage,null))}},__namedExportsOrder=["WithPortalComponent","WithHook","MultiplePortals"];WithPortalComponent.parameters={...WithPortalComponent.parameters,docs:{...WithPortalComponent.parameters?.docs,source:{originalSource:'{\n  render: Template,\n  args: {\n    children: <PortalProvider.Portal>\n        <Message text="I\'m inside a portal using the Portal component as provided by PortalProvider." />\n      </PortalProvider.Portal>\n  }\n}',...WithPortalComponent.parameters?.docs?.source}}},WithHook.parameters={...WithHook.parameters,docs:{...WithHook.parameters?.docs,source:{originalSource:"{\n  render: Template,\n  args: {\n    children: <>\n        <span> Some non-portalled content</span>\n        <PortalMessage />\n      </>\n  }\n}",...WithHook.parameters?.docs?.source}}},MultiplePortals.parameters={...MultiplePortals.parameters,docs:{...MultiplePortals.parameters?.docs,source:{originalSource:'{\n  render: Template,\n  args: {\n    children: <>\n        <div>Some non-portaled content.</div>\n        <PortalProvider.Portal>\n          <Message text="I\'m inside a portal using the Portal component as provided by PortalProvider." />\n        </PortalProvider.Portal>\n        <PortalMessage />\n      </>\n  }\n}',...MultiplePortals.parameters?.docs?.source}}}}}]);