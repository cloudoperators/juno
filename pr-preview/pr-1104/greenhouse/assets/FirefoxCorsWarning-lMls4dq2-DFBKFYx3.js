import{j as p,aI as hs,aJ as Dr,aK as Mr,w as Re,aF as Ae,az as st,s as ds,a as ms,e as fs,c as ys,E as gs,F as ps,D as Er,G as Cr,K as Ir,k as Vr,J as Fr,M as Ye,N as jr,O as $r,f as Lr,r as Wr,at as ws,aw as je,aG as Nt,aH as Zr,au as xt,av as Y,ax as Ie,ay as Rr,aA as Dt,aB as Ar,aC as qr,aD as zr,aE as Mt}from"./App-BTCqfNjI-BuUVofVj.js";import{j as D}from"./_extensionId._-D01HXx6S.js";var Ur=class extends ws{constructor(t,e){super(),this.options=e,this.#s=t,this.#i=null,this.#o=xt(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#s;#e=void 0;#r=void 0;#t=void 0;#n;#a;#o;#i;#y;#d;#m;#l;#c;#u;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),Et(this.#e,this.options)?this.#h():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return rt(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return rt(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#k(),this.#v(),this.#e.removeObserver(this)}setOptions(t,e){const s=this.options,r=this.#e;if(this.options=this.#s.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Y(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#e.setOptions(this.options),s._defaulted&&!je(this.options,s)&&this.#s.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&Ct(this.#e,r,this.options,s)&&this.#h(),this.updateResult(e),n&&(this.#e!==r||Y(this.options.enabled,this.#e)!==Y(s.enabled,this.#e)||Ie(this.options.staleTime,this.#e)!==Ie(s.staleTime,this.#e))&&this.#g();const i=this.#p();n&&(this.#e!==r||Y(this.options.enabled,this.#e)!==Y(s.enabled,this.#e)||i!==this.#u)&&this.#w(i)}getOptimisticResult(t){const e=this.#s.getQueryCache().build(this.#s,t),s=this.createResult(e,t);return Hr(this,s)&&(this.#t=s,this.#a=this.options,this.#n=this.#e.state),s}getCurrentResult(){return this.#t}trackResult(t,e){const s={};return Object.keys(t).forEach(r=>{Object.defineProperty(s,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),e?.(r),t[r])})}),s}trackProp(t){this.#f.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#s.defaultQueryOptions(t),s=this.#s.getQueryCache().build(this.#s,e);return s.fetch().then(()=>this.createResult(s,e))}fetch(t){return this.#h({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#t))}#h(t){this.#S();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Rr)),e}#g(){this.#k();const t=Ie(this.options.staleTime,this.#e);if(st||this.#t.isStale||!Dt(t))return;const e=Ar(this.#t.dataUpdatedAt,t)+1;this.#l=setTimeout(()=>{this.#t.isStale||this.updateResult()},e)}#p(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#w(t){this.#v(),this.#u=t,!(st||Y(this.options.enabled,this.#e)===!1||!Dt(this.#u)||this.#u===0)&&(this.#c=setInterval(()=>{(this.options.refetchIntervalInBackground||qr.isFocused())&&this.#h()},this.#u))}#b(){this.#g(),this.#w(this.#p())}#k(){this.#l&&(clearTimeout(this.#l),this.#l=void 0)}#v(){this.#c&&(clearInterval(this.#c),this.#c=void 0)}createResult(t,e){const s=this.#e,r=this.options,n=this.#t,i=this.#n,a=this.#a,o=t!==s?t.state:this.#r,{state:u}=t;let l={...u},h=!1,d;if(e._optimisticResults){const T=this.hasListeners(),L=!T&&Et(t,e),H=T&&Ct(t,s,e,r);(L||H)&&(l={...l,...zr(u.data,t.options)}),e._optimisticResults==="isRestoring"&&(l.fetchStatus="idle")}let{error:w,errorUpdatedAt:m,status:k}=l;if(e.select&&l.data!==void 0)if(n&&l.data===i?.data&&e.select===this.#y)d=this.#d;else try{this.#y=e.select,d=e.select(l.data),d=Mt(n?.data,d,e),this.#d=d,this.#i=null}catch(T){this.#i=T}else d=l.data;if(e.placeholderData!==void 0&&d===void 0&&k==="pending"){let T;if(n?.isPlaceholderData&&e.placeholderData===a?.placeholderData)T=n.data;else if(T=typeof e.placeholderData=="function"?e.placeholderData(this.#m?.state.data,this.#m):e.placeholderData,e.select&&T!==void 0)try{T=e.select(T),this.#i=null}catch(L){this.#i=L}T!==void 0&&(k="success",d=Mt(n?.data,T,e),h=!0)}this.#i&&(w=this.#i,d=this.#d,m=Date.now(),k="error");const I=l.fetchStatus==="fetching",j=k==="pending",P=k==="error",$=j&&I,g=d!==void 0,O={status:k,fetchStatus:l.fetchStatus,isPending:j,isSuccess:k==="success",isError:P,isInitialLoading:$,isLoading:$,data:d,dataUpdatedAt:l.dataUpdatedAt,error:w,errorUpdatedAt:m,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>o.dataUpdateCount||l.errorUpdateCount>o.errorUpdateCount,isFetching:I,isRefetching:I&&!j,isLoadingError:P&&!g,isPaused:l.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:P&&g,isStale:gt(t,e),refetch:this.refetch,promise:this.#o};if(this.options.experimental_prefetchInRender){const T=re=>{O.status==="error"?re.reject(O.error):O.data!==void 0&&re.resolve(O.data)},L=()=>{const re=this.#o=O.promise=xt();T(re)},H=this.#o;switch(H.status){case"pending":t.queryHash===s.queryHash&&T(H);break;case"fulfilled":(O.status==="error"||O.data!==H.value)&&L();break;case"rejected":(O.status!=="error"||O.error!==H.reason)&&L();break}}return O}updateResult(t){const e=this.#t,s=this.createResult(this.#e,this.options);if(this.#n=this.#e.state,this.#a=this.options,this.#n.data!==void 0&&(this.#m=this.#e),je(s,e))return;this.#t=s;const r={},n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!this.#f.size)return!0;const o=new Set(a??this.#f);return this.options.throwOnError&&o.add("error"),Object.keys(this.#t).some(u=>{const l=u;return this.#t[l]!==e[l]&&o.has(l)})};t?.listeners!==!1&&n()&&(r.listeners=!0),this.#O({...r,...t})}#S(){const t=this.#s.getQueryCache().build(this.#s,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#O(t){Ae.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#t)}),this.#s.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Pr(t,e){return Y(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Et(t,e){return Pr(t,e)||t.state.data!==void 0&&rt(t,e,e.refetchOnMount)}function rt(t,e,s){if(Y(e.enabled,t)!==!1){const r=typeof s=="function"?s(t):s;return r==="always"||r!==!1&&gt(t,e)}return!1}function Ct(t,e,s,r){return(t!==e||Y(r.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&gt(t,s)}function gt(t,e){return Y(e.enabled,t)!==!1&&t.isStaleByTime(Ie(e.staleTime,t))}function Hr(t,e){return!je(t.getCurrentResult(),e)}var Yr=class extends ws{#s;#e=void 0;#r;#t;constructor(t,e){super(),this.#s=t,this.setOptions(e),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const e=this.options;this.options=this.#s.defaultMutationOptions(t),je(this.options,e)||this.#s.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),e?.mutationKey&&this.options.mutationKey&&Nt(e.mutationKey)!==Nt(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#n(),this.#a(t)}getCurrentResult(){return this.#e}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#a()}mutate(t,e){return this.#t=e,this.#r?.removeObserver(this),this.#r=this.#s.getMutationCache().build(this.#s,this.options),this.#r.addObserver(this),this.#r.execute(t)}#n(){const t=this.#r?.state??Zr();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){Ae.batch(()=>{if(this.#t&&this.hasListeners()){const e=this.#e.variables,s=this.#e.context;t?.type==="success"?(this.#t.onSuccess?.(t.data,e,s),this.#t.onSettled?.(t.data,null,e,s)):t?.type==="error"&&(this.#t.onError?.(t.error,e,s),this.#t.onSettled?.(void 0,t.error,e,s))}this.listeners.forEach(e=>{e(this.#e)})})}},bs=D.createContext(!1),Jr=()=>D.useContext(bs);bs.Provider;function Br(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Gr=D.createContext(Br()),Qr=()=>D.useContext(Gr);function ks(t,e){return typeof t=="function"?t(...e):!!t}function nt(){}var Kr=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},_r=t=>{D.useEffect(()=>{t.clearReset()},[t])},Xr=({result:t,errorResetBoundary:e,throwOnError:s,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&ks(s,[t.error,r]),en=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},tn=(t,e)=>t.isLoading&&t.isFetching&&!e,sn=(t,e)=>t?.suspense&&e.isPending,It=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()}),rn={};function nn(t,e,s){if(rn.NODE_ENV!=="production"&&(typeof t!="object"||Array.isArray(t)))throw new Error('Bad argument type. Starting with v5, only the "Object" form is allowed when calling query related functions. Please use the error stack to find the culprit call. More info here: https://tanstack.com/query/latest/docs/react/guides/migrating-to-v5#supports-a-single-signature-one-object');const r=Re(),n=Jr(),i=Qr(),a=r.defaultQueryOptions(t);r.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=n?"isRestoring":"optimistic",en(a),Kr(a,i),_r(i);const o=!r.getQueryCache().get(a.queryHash),[u]=D.useState(()=>new e(r,a)),l=u.getOptimisticResult(a);if(D.useSyncExternalStore(D.useCallback(h=>{const d=n?nt:u.subscribe(Ae.batchCalls(h));return u.updateResult(),d},[u,n]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),D.useEffect(()=>{u.setOptions(a,{listeners:!1})},[a,u]),sn(a,l))throw It(a,u,i);if(Xr({result:l,errorResetBoundary:i,throwOnError:a.throwOnError,query:r.getQueryCache().get(a.queryHash)}))throw l.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(a,l),a.experimental_prefetchInRender&&!st&&tn(l,n)&&(o?It(a,u,i):r.getQueryCache().get(a.queryHash)?.promise)?.catch(nt).finally(()=>{u.updateResult()}),a.notifyOnChangeProps?l:u.trackResult(l)}function an(t,e){return nn(t,Ur)}function on(t,e){const s=Re(),[r]=D.useState(()=>new Yr(s,t));D.useEffect(()=>{r.setOptions(t)},[r,t]);const n=D.useSyncExternalStore(D.useCallback(a=>r.subscribe(Ae.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=D.useCallback((a,o)=>{r.mutate(a,o).catch(nt)},[r]);if(n.error&&ks(r.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:i,mutateAsync:n.mutate}}class se extends Error{}class un extends se{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class ln extends se{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class cn extends se{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class oe extends se{}class vs extends se{constructor(e){super(`Invalid unit ${e}`)}}class E extends se{}class B extends se{constructor(){super("Zone is an abstract class")}}const c="numeric",U="short",F="long",$e={year:c,month:c,day:c},Ss={year:c,month:U,day:c},hn={year:c,month:U,day:c,weekday:U},Os={year:c,month:F,day:c},Ts={year:c,month:F,day:c,weekday:F},Ns={hour:c,minute:c},xs={hour:c,minute:c,second:c},Ds={hour:c,minute:c,second:c,timeZoneName:U},Ms={hour:c,minute:c,second:c,timeZoneName:F},Es={hour:c,minute:c,hourCycle:"h23"},Cs={hour:c,minute:c,second:c,hourCycle:"h23"},Is={hour:c,minute:c,second:c,hourCycle:"h23",timeZoneName:U},Vs={hour:c,minute:c,second:c,hourCycle:"h23",timeZoneName:F},Fs={year:c,month:c,day:c,hour:c,minute:c},js={year:c,month:c,day:c,hour:c,minute:c,second:c},$s={year:c,month:U,day:c,hour:c,minute:c},Ls={year:c,month:U,day:c,hour:c,minute:c,second:c},dn={year:c,month:U,day:c,weekday:U,hour:c,minute:c},Ws={year:c,month:F,day:c,hour:c,minute:c,timeZoneName:U},Zs={year:c,month:F,day:c,hour:c,minute:c,second:c,timeZoneName:U},Rs={year:c,month:F,day:c,weekday:F,hour:c,minute:c,timeZoneName:F},As={year:c,month:F,day:c,weekday:F,hour:c,minute:c,second:c,timeZoneName:F};class Se{get type(){throw new B}get name(){throw new B}get ianaName(){return this.name}get isUniversal(){throw new B}offsetName(e,s){throw new B}formatOffset(e,s){throw new B}offset(e){throw new B}equals(e){throw new B}get isValid(){throw new B}}let Je=null;class qe extends Se{static get instance(){return Je===null&&(Je=new qe),Je}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:s,locale:r}){return Ks(e,s,r)}formatOffset(e,s){return ke(this.offset(e),s)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}const it=new Map;function mn(t){let e=it.get(t);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),it.set(t,e)),e}const fn={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function yn(t,e){const s=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(s),[,n,i,a,o,u,l,h]=r;return[a,n,i,o,u,l,h]}function gn(t,e){const s=t.formatToParts(e),r=[];for(let n=0;n<s.length;n++){const{type:i,value:a}=s[n],o=fn[i];i==="era"?r[o]=a:f(o)||(r[o]=parseInt(a,10))}return r}const Be=new Map;class J extends Se{static create(e){let s=Be.get(e);return s===void 0&&Be.set(e,s=new J(e)),s}static resetCache(){Be.clear(),it.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=J.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:s,locale:r}){return Ks(e,s,r,this.name)}formatOffset(e,s){return ke(this.offset(e),s)}offset(e){if(!this.valid)return NaN;const s=new Date(e);if(isNaN(s))return NaN;const r=mn(this.name);let[n,i,a,o,u,l,h]=r.formatToParts?gn(r,s):yn(r,s);o==="BC"&&(n=-Math.abs(n)+1);const d=Ue({year:n,month:i,day:a,hour:u===24?0:u,minute:l,second:h,millisecond:0});let w=+s;const m=w%1e3;return w-=m>=0?m:1e3+m,(d-w)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let Vt={};function pn(t,e={}){const s=JSON.stringify([t,e]);let r=Vt[s];return r||(r=new Intl.ListFormat(t,e),Vt[s]=r),r}const at=new Map;function ot(t,e={}){const s=JSON.stringify([t,e]);let r=at.get(s);return r===void 0&&(r=new Intl.DateTimeFormat(t,e),at.set(s,r)),r}const ut=new Map;function wn(t,e={}){const s=JSON.stringify([t,e]);let r=ut.get(s);return r===void 0&&(r=new Intl.NumberFormat(t,e),ut.set(s,r)),r}const lt=new Map;function bn(t,e={}){const{base:s,...r}=e,n=JSON.stringify([t,r]);let i=lt.get(n);return i===void 0&&(i=new Intl.RelativeTimeFormat(t,e),lt.set(n,i)),i}let Ve=null;function kn(){return Ve||(Ve=new Intl.DateTimeFormat().resolvedOptions().locale,Ve)}const ct=new Map;function qs(t){let e=ct.get(t);return e===void 0&&(e=new Intl.DateTimeFormat(t).resolvedOptions(),ct.set(t,e)),e}const ht=new Map;function vn(t){let e=ht.get(t);if(!e){const s=new Intl.Locale(t);e="getWeekInfo"in s?s.getWeekInfo():s.weekInfo,"minimalDays"in e||(e={...zs,...e}),ht.set(t,e)}return e}function Sn(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const s=t.indexOf("-u-");if(s===-1)return[t];{let r,n;try{r=ot(t).resolvedOptions(),n=t}catch{const o=t.substring(0,s);r=ot(o).resolvedOptions(),n=o}const{numberingSystem:i,calendar:a}=r;return[n,i,a]}}function On(t,e,s){return(s||e)&&(t.includes("-u-")||(t+="-u"),s&&(t+=`-ca-${s}`),e&&(t+=`-nu-${e}`)),t}function Tn(t){const e=[];for(let s=1;s<=12;s++){const r=y.utc(2009,s,1);e.push(t(r))}return e}function Nn(t){const e=[];for(let s=1;s<=7;s++){const r=y.utc(2016,11,13+s);e.push(t(r))}return e}function xe(t,e,s,r){const n=t.listingMode();return n==="error"?null:n==="en"?s(e):r(e)}function xn(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||qs(t.locale).numberingSystem==="latn"}class Dn{constructor(e,s,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:n,floor:i,...a}=r;if(!s||Object.keys(a).length>0){const o={useGrouping:!1,...r};r.padTo>0&&(o.minimumIntegerDigits=r.padTo),this.inf=wn(e,o)}}format(e){if(this.inf){const s=this.floor?Math.floor(e):e;return this.inf.format(s)}else{const s=this.floor?Math.floor(e):vt(e,3);return M(s,this.padTo)}}}class Mn{constructor(e,s,r){this.opts=r,this.originalZone=void 0;let n;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const a=-1*(e.offset/60),o=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;e.offset!==0&&J.create(o).valid?(n=o,this.dt=e):(n="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,n=e.zone.name):(n="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const i={...this.opts};i.timeZone=i.timeZone||n,this.dtf=ot(s,i)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(s=>{if(s.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...s,value:r}}else return s}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class En{constructor(e,s,r){this.opts={style:"long",...r},!s&&Gs()&&(this.rtf=bn(e,r))}format(e,s){return this.rtf?this.rtf.format(e,s):Kn(s,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,s){return this.rtf?this.rtf.formatToParts(e,s):[]}}const zs={firstDay:1,minimalDays:4,weekend:[6,7]};class S{static fromOpts(e){return S.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,s,r,n,i=!1){const a=e||x.defaultLocale,o=a||(i?"en-US":kn()),u=s||x.defaultNumberingSystem,l=r||x.defaultOutputCalendar,h=mt(n)||x.defaultWeekSettings;return new S(o,u,l,h,a)}static resetCache(){Ve=null,at.clear(),ut.clear(),lt.clear(),ct.clear(),ht.clear()}static fromObject({locale:e,numberingSystem:s,outputCalendar:r,weekSettings:n}={}){return S.create(e,s,r,n)}constructor(e,s,r,n,i){const[a,o,u]=Sn(e);this.locale=a,this.numberingSystem=s||o||null,this.outputCalendar=r||u||null,this.weekSettings=n,this.intl=On(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=xn(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),s=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&s?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:S.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,mt(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,s=!1){return xe(this,e,er,()=>{const r=s?{month:e,day:"numeric"}:{month:e},n=s?"format":"standalone";return this.monthsCache[n][e]||(this.monthsCache[n][e]=Tn(i=>this.extract(i,r,"month"))),this.monthsCache[n][e]})}weekdays(e,s=!1){return xe(this,e,rr,()=>{const r=s?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},n=s?"format":"standalone";return this.weekdaysCache[n][e]||(this.weekdaysCache[n][e]=Nn(i=>this.extract(i,r,"weekday"))),this.weekdaysCache[n][e]})}meridiems(){return xe(this,void 0,()=>nr,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[y.utc(2016,11,13,9),y.utc(2016,11,13,19)].map(s=>this.extract(s,e,"dayperiod"))}return this.meridiemCache})}eras(e){return xe(this,e,ir,()=>{const s={era:e};return this.eraCache[e]||(this.eraCache[e]=[y.utc(-40,1,1),y.utc(2017,1,1)].map(r=>this.extract(r,s,"era"))),this.eraCache[e]})}extract(e,s,r){const n=this.dtFormatter(e,s),i=n.formatToParts(),a=i.find(o=>o.type.toLowerCase()===r);return a?a.value:null}numberFormatter(e={}){return new Dn(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,s={}){return new Mn(e,this.intl,s)}relFormatter(e={}){return new En(this.intl,this.isEnglish(),e)}listFormatter(e={}){return pn(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||qs(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Qs()?vn(this.locale):zs}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let Ge=null;class V extends Se{static get utcInstance(){return Ge===null&&(Ge=new V(0)),Ge}static instance(e){return e===0?V.utcInstance:new V(e)}static parseSpecifier(e){if(e){const s=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(s)return new V(Pe(s[1],s[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${ke(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${ke(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,s){return ke(this.fixed,s)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class Cn extends Se{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function K(t,e){if(f(t)||t===null)return e;if(t instanceof Se)return t;if(Ln(t)){const s=t.toLowerCase();return s==="default"?e:s==="local"||s==="system"?qe.instance:s==="utc"||s==="gmt"?V.utcInstance:V.parseSpecifier(s)||J.create(t)}else return _(t)?V.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new Cn(t)}const pt={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},Ft={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},In=pt.hanidec.replace(/[\[|\]]/g,"").split("");function Vn(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let s=0;s<t.length;s++){const r=t.charCodeAt(s);if(t[s].search(pt.hanidec)!==-1)e+=In.indexOf(t[s]);else for(const n in Ft){const[i,a]=Ft[n];r>=i&&r<=a&&(e+=r-i)}}return parseInt(e,10)}else return e}const dt=new Map;function Fn(){dt.clear()}function A({numberingSystem:t},e=""){const s=t||"latn";let r=dt.get(s);r===void 0&&(r=new Map,dt.set(s,r));let n=r.get(e);return n===void 0&&(n=new RegExp(`${pt[s]}${e}`),r.set(e,n)),n}let jt=()=>Date.now(),$t="system",Lt=null,Wt=null,Zt=null,Rt=60,At,qt=null;class x{static get now(){return jt}static set now(e){jt=e}static set defaultZone(e){$t=e}static get defaultZone(){return K($t,qe.instance)}static get defaultLocale(){return Lt}static set defaultLocale(e){Lt=e}static get defaultNumberingSystem(){return Wt}static set defaultNumberingSystem(e){Wt=e}static get defaultOutputCalendar(){return Zt}static set defaultOutputCalendar(e){Zt=e}static get defaultWeekSettings(){return qt}static set defaultWeekSettings(e){qt=mt(e)}static get twoDigitCutoffYear(){return Rt}static set twoDigitCutoffYear(e){Rt=e%100}static get throwOnInvalid(){return At}static set throwOnInvalid(e){At=e}static resetCaches(){S.resetCache(),J.resetCache(),y.resetCache(),Fn()}}class z{constructor(e,s){this.reason=e,this.explanation=s}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Us=[0,31,59,90,120,151,181,212,243,273,304,334],Ps=[0,31,60,91,121,152,182,213,244,274,305,335];function Z(t,e){return new z("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function wt(t,e,s){const r=new Date(Date.UTC(t,e-1,s));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const n=r.getUTCDay();return n===0?7:n}function Hs(t,e,s){return s+(Oe(t)?Ps:Us)[e-1]}function Ys(t,e){const s=Oe(t)?Ps:Us,r=s.findIndex(i=>i<e),n=e-s[r];return{month:r+1,day:n}}function bt(t,e){return(t-e+7)%7+1}function Le(t,e=4,s=1){const{year:r,month:n,day:i}=t,a=Hs(r,n,i),o=bt(wt(r,n,i),s);let u=Math.floor((a-o+14-e)/7),l;return u<1?(l=r-1,u=ve(l,e,s)):u>ve(r,e,s)?(l=r+1,u=1):l=r,{weekYear:l,weekNumber:u,weekday:o,...He(t)}}function zt(t,e=4,s=1){const{weekYear:r,weekNumber:n,weekday:i}=t,a=bt(wt(r,1,e),s),o=ue(r);let u=n*7+i-a-7+e,l;u<1?(l=r-1,u+=ue(l)):u>o?(l=r+1,u-=ue(r)):l=r;const{month:h,day:d}=Ys(l,u);return{year:l,month:h,day:d,...He(t)}}function Qe(t){const{year:e,month:s,day:r}=t,n=Hs(e,s,r);return{year:e,ordinal:n,...He(t)}}function Ut(t){const{year:e,ordinal:s}=t,{month:r,day:n}=Ys(e,s);return{year:e,month:r,day:n,...He(t)}}function Pt(t,e){if(!f(t.localWeekday)||!f(t.localWeekNumber)||!f(t.localWeekYear)){if(!f(t.weekday)||!f(t.weekNumber)||!f(t.weekYear))throw new oe("Cannot mix locale-based week fields with ISO-based week fields");return f(t.localWeekday)||(t.weekday=t.localWeekday),f(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),f(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function jn(t,e=4,s=1){const r=ze(t.weekYear),n=R(t.weekNumber,1,ve(t.weekYear,e,s)),i=R(t.weekday,1,7);return r?n?i?!1:Z("weekday",t.weekday):Z("week",t.weekNumber):Z("weekYear",t.weekYear)}function $n(t){const e=ze(t.year),s=R(t.ordinal,1,ue(t.year));return e?s?!1:Z("ordinal",t.ordinal):Z("year",t.year)}function Js(t){const e=ze(t.year),s=R(t.month,1,12),r=R(t.day,1,We(t.year,t.month));return e?s?r?!1:Z("day",t.day):Z("month",t.month):Z("year",t.year)}function Bs(t){const{hour:e,minute:s,second:r,millisecond:n}=t,i=R(e,0,23)||e===24&&s===0&&r===0&&n===0,a=R(s,0,59),o=R(r,0,59),u=R(n,0,999);return i?a?o?u?!1:Z("millisecond",n):Z("second",r):Z("minute",s):Z("hour",e)}function f(t){return typeof t>"u"}function _(t){return typeof t=="number"}function ze(t){return typeof t=="number"&&t%1===0}function Ln(t){return typeof t=="string"}function Wn(t){return Object.prototype.toString.call(t)==="[object Date]"}function Gs(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Qs(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Zn(t){return Array.isArray(t)?t:[t]}function Ht(t,e,s){if(t.length!==0)return t.reduce((r,n)=>{const i=[e(n),n];return r&&s(r[0],i[0])===r[0]?r:i},null)[1]}function Rn(t,e){return e.reduce((s,r)=>(s[r]=t[r],s),{})}function ce(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function mt(t){if(t==null)return null;if(typeof t!="object")throw new E("Week settings must be an object");if(!R(t.firstDay,1,7)||!R(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!R(e,1,7)))throw new E("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function R(t,e,s){return ze(t)&&t>=e&&t<=s}function An(t,e){return t-e*Math.floor(t/e)}function M(t,e=2){const s=t<0;let r;return s?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function Q(t){if(!(f(t)||t===null||t===""))return parseInt(t,10)}function X(t){if(!(f(t)||t===null||t===""))return parseFloat(t)}function kt(t){if(!(f(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function vt(t,e,s=!1){const r=10**e;return(s?Math.trunc:Math.round)(t*r)/r}function Oe(t){return t%4===0&&(t%100!==0||t%400===0)}function ue(t){return Oe(t)?366:365}function We(t,e){const s=An(e-1,12)+1,r=t+(e-s)/12;return s===2?Oe(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][s-1]}function Ue(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function Yt(t,e,s){return-bt(wt(t,1,e),s)+e-1}function ve(t,e=4,s=1){const r=Yt(t,e,s),n=Yt(t+1,e,s);return(ue(t)-r+n)/7}function ft(t){return t>99?t:t>x.twoDigitCutoffYear?1900+t:2e3+t}function Ks(t,e,s,r=null){const n=new Date(t),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(i.timeZone=r);const a={timeZoneName:e,...i},o=new Intl.DateTimeFormat(s,a).formatToParts(n).find(u=>u.type.toLowerCase()==="timezonename");return o?o.value:null}function Pe(t,e){let s=parseInt(t,10);Number.isNaN(s)&&(s=0);const r=parseInt(e,10)||0,n=s<0||Object.is(s,-0)?-r:r;return s*60+n}function _s(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new E(`Invalid unit value ${t}`);return e}function Ze(t,e){const s={};for(const r in t)if(ce(t,r)){const n=t[r];if(n==null)continue;s[e(r)]=_s(n)}return s}function ke(t,e){const s=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),n=t>=0?"+":"-";switch(e){case"short":return`${n}${M(s,2)}:${M(r,2)}`;case"narrow":return`${n}${s}${r>0?`:${r}`:""}`;case"techie":return`${n}${M(s,2)}${M(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function He(t){return Rn(t,["hour","minute","second","millisecond"])}const qn=["January","February","March","April","May","June","July","August","September","October","November","December"],Xs=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],zn=["J","F","M","A","M","J","J","A","S","O","N","D"];function er(t){switch(t){case"narrow":return[...zn];case"short":return[...Xs];case"long":return[...qn];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const tr=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],sr=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Un=["M","T","W","T","F","S","S"];function rr(t){switch(t){case"narrow":return[...Un];case"short":return[...sr];case"long":return[...tr];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const nr=["AM","PM"],Pn=["Before Christ","Anno Domini"],Hn=["BC","AD"],Yn=["B","A"];function ir(t){switch(t){case"narrow":return[...Yn];case"short":return[...Hn];case"long":return[...Pn];default:return null}}function Jn(t){return nr[t.hour<12?0:1]}function Bn(t,e){return rr(e)[t.weekday-1]}function Gn(t,e){return er(e)[t.month-1]}function Qn(t,e){return ir(e)[t.year<0?0:1]}function Kn(t,e,s="always",r=!1){const n={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=["hours","minutes","seconds"].indexOf(t)===-1;if(s==="auto"&&i){const d=t==="days";switch(e){case 1:return d?"tomorrow":`next ${n[t][0]}`;case-1:return d?"yesterday":`last ${n[t][0]}`;case 0:return d?"today":`this ${n[t][0]}`}}const a=Object.is(e,-0)||e<0,o=Math.abs(e),u=o===1,l=n[t],h=r?u?l[1]:l[2]||l[1]:u?n[t][0]:t;return a?`${o} ${h} ago`:`in ${o} ${h}`}function Jt(t,e){let s="";for(const r of t)r.literal?s+=r.val:s+=e(r.val);return s}const _n={D:$e,DD:Ss,DDD:Os,DDDD:Ts,t:Ns,tt:xs,ttt:Ds,tttt:Ms,T:Es,TT:Cs,TTT:Is,TTTT:Vs,f:Fs,ff:$s,fff:Ws,ffff:Rs,F:js,FF:Ls,FFF:Zs,FFFF:As};class C{static create(e,s={}){return new C(e,s)}static parseFormat(e){let s=null,r="",n=!1;const i=[];for(let a=0;a<e.length;a++){const o=e.charAt(a);o==="'"?(r.length>0&&i.push({literal:n||/^\s+$/.test(r),val:r}),s=null,r="",n=!n):n||o===s?r+=o:(r.length>0&&i.push({literal:/^\s+$/.test(r),val:r}),r=o,s=o)}return r.length>0&&i.push({literal:n||/^\s+$/.test(r),val:r}),i}static macroTokenToFormatOpts(e){return _n[e]}constructor(e,s){this.opts=s,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,s){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...s}).format()}dtFormatter(e,s={}){return this.loc.dtFormatter(e,{...this.opts,...s})}formatDateTime(e,s){return this.dtFormatter(e,s).format()}formatDateTimeParts(e,s){return this.dtFormatter(e,s).formatToParts()}formatInterval(e,s){return this.dtFormatter(e.start,s).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,s){return this.dtFormatter(e,s).resolvedOptions()}num(e,s=0){if(this.opts.forceSimple)return M(e,s);const r={...this.opts};return s>0&&(r.padTo=s),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,s){const r=this.loc.listingMode()==="en",n=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",i=(m,k)=>this.loc.extract(e,m,k),a=m=>e.isOffsetFixed&&e.offset===0&&m.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,m.format):"",o=()=>r?Jn(e):i({hour:"numeric",hourCycle:"h12"},"dayperiod"),u=(m,k)=>r?Gn(e,m):i(k?{month:m}:{month:m,day:"numeric"},"month"),l=(m,k)=>r?Bn(e,m):i(k?{weekday:m}:{weekday:m,month:"long",day:"numeric"},"weekday"),h=m=>{const k=C.macroTokenToFormatOpts(m);return k?this.formatWithSystemDefault(e,k):m},d=m=>r?Qn(e,m):i({era:m},"era"),w=m=>{switch(m){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return n?i({day:"numeric"},"day"):this.num(e.day);case"dd":return n?i({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return n?i({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return n?i({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return n?i({month:"numeric"},"month"):this.num(e.month);case"MM":return n?i({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return n?i({year:"numeric"},"year"):this.num(e.year);case"yy":return n?i({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return n?i({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return n?i({year:"numeric"},"year"):this.num(e.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return h(m)}};return Jt(C.parseFormat(s),w)}formatDurationFromString(e,s){const r=u=>{switch(u[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},n=u=>l=>{const h=r(l);return h?this.num(u.get(h),l.length):l},i=C.parseFormat(s),a=i.reduce((u,{literal:l,val:h})=>l?u:u.concat(h),[]),o=e.shiftTo(...a.map(r).filter(u=>u));return Jt(i,n(o))}}const ar=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function he(...t){const e=t.reduce((s,r)=>s+r.source,"");return RegExp(`^${e}$`)}function de(...t){return e=>t.reduce(([s,r,n],i)=>{const[a,o,u]=i(e,n);return[{...s,...a},o||r,u]},[{},null,1]).slice(0,2)}function me(t,...e){if(t==null)return[null,null];for(const[s,r]of e){const n=s.exec(t);if(n)return r(n)}return[null,null]}function or(...t){return(e,s)=>{const r={};let n;for(n=0;n<t.length;n++)r[t[n]]=Q(e[s+n]);return[r,null,s+n]}}const ur=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Xn=`(?:${ur.source}?(?:\\[(${ar.source})\\])?)?`,St=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,lr=RegExp(`${St.source}${Xn}`),Ot=RegExp(`(?:T${lr.source})?`),ei=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,ti=/(\d{4})-?W(\d\d)(?:-?(\d))?/,si=/(\d{4})-?(\d{3})/,ri=or("weekYear","weekNumber","weekDay"),ni=or("year","ordinal"),ii=/(\d{4})-(\d\d)-(\d\d)/,cr=RegExp(`${St.source} ?(?:${ur.source}|(${ar.source}))?`),ai=RegExp(`(?: ${cr.source})?`);function le(t,e,s){const r=t[e];return f(r)?s:Q(r)}function oi(t,e){return[{year:le(t,e),month:le(t,e+1,1),day:le(t,e+2,1)},null,e+3]}function fe(t,e){return[{hours:le(t,e,0),minutes:le(t,e+1,0),seconds:le(t,e+2,0),milliseconds:kt(t[e+3])},null,e+4]}function Te(t,e){const s=!t[e]&&!t[e+1],r=Pe(t[e+1],t[e+2]),n=s?null:V.instance(r);return[{},n,e+3]}function Ne(t,e){const s=t[e]?J.create(t[e]):null;return[{},s,e+1]}const ui=RegExp(`^T?${St.source}$`),li=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function ci(t){const[e,s,r,n,i,a,o,u,l]=t,h=e[0]==="-",d=u&&u[0]==="-",w=(m,k=!1)=>m!==void 0&&(k||m&&h)?-m:m;return[{years:w(X(s)),months:w(X(r)),weeks:w(X(n)),days:w(X(i)),hours:w(X(a)),minutes:w(X(o)),seconds:w(X(u),u==="-0"),milliseconds:w(kt(l),d)}]}const hi={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Tt(t,e,s,r,n,i,a){const o={year:e.length===2?ft(Q(e)):Q(e),month:Xs.indexOf(s)+1,day:Q(r),hour:Q(n),minute:Q(i)};return a&&(o.second=Q(a)),t&&(o.weekday=t.length>3?tr.indexOf(t)+1:sr.indexOf(t)+1),o}const di=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function mi(t){const[,e,s,r,n,i,a,o,u,l,h,d]=t,w=Tt(e,n,r,s,i,a,o);let m;return u?m=hi[u]:l?m=0:m=Pe(h,d),[w,new V(m)]}function fi(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const yi=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,gi=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,pi=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Bt(t){const[,e,s,r,n,i,a,o]=t;return[Tt(e,n,r,s,i,a,o),V.utcInstance]}function wi(t){const[,e,s,r,n,i,a,o]=t;return[Tt(e,o,s,r,n,i,a),V.utcInstance]}const bi=he(ei,Ot),ki=he(ti,Ot),vi=he(si,Ot),Si=he(lr),hr=de(oi,fe,Te,Ne),Oi=de(ri,fe,Te,Ne),Ti=de(ni,fe,Te,Ne),Ni=de(fe,Te,Ne);function xi(t){return me(t,[bi,hr],[ki,Oi],[vi,Ti],[Si,Ni])}function Di(t){return me(fi(t),[di,mi])}function Mi(t){return me(t,[yi,Bt],[gi,Bt],[pi,wi])}function Ei(t){return me(t,[li,ci])}const Ci=de(fe);function Ii(t){return me(t,[ui,Ci])}const Vi=he(ii,ai),Fi=he(cr),ji=de(fe,Te,Ne);function $i(t){return me(t,[Vi,hr],[Fi,ji])}const Gt="Invalid Duration",dr={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Li={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...dr},W=146097/400,ne=146097/4800,Wi={years:{quarters:4,months:12,weeks:W/7,days:W,hours:W*24,minutes:W*24*60,seconds:W*24*60*60,milliseconds:W*24*60*60*1e3},quarters:{months:3,weeks:W/28,days:W/4,hours:W*24/4,minutes:W*24*60/4,seconds:W*24*60*60/4,milliseconds:W*24*60*60*1e3/4},months:{weeks:ne/7,days:ne,hours:ne*24,minutes:ne*24*60,seconds:ne*24*60*60,milliseconds:ne*24*60*60*1e3},...dr},te=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Zi=te.slice(0).reverse();function G(t,e,s=!1){const r={values:s?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new b(r)}function mr(t,e){let s=e.milliseconds??0;for(const r of Zi.slice(1))e[r]&&(s+=e[r]*t[r].milliseconds);return s}function Qt(t,e){const s=mr(t,e)<0?-1:1;te.reduceRight((r,n)=>{if(f(e[n]))return r;if(r){const i=e[r]*s,a=t[n][r],o=Math.floor(i/a);e[n]+=o*s,e[r]-=o*a*s}return n},null),te.reduce((r,n)=>{if(f(e[n]))return r;if(r){const i=e[r]%1;e[r]-=i,e[n]+=i*t[r][n]}return n},null)}function Ri(t){const e={};for(const[s,r]of Object.entries(t))r!==0&&(e[s]=r);return e}class b{constructor(e){const s=e.conversionAccuracy==="longterm"||!1;let r=s?Wi:Li;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||S.create(),this.conversionAccuracy=s?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,s){return b.fromObject({milliseconds:e},s)}static fromObject(e,s={}){if(e==null||typeof e!="object")throw new E(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new b({values:Ze(e,b.normalizeUnit),loc:S.fromObject(s),conversionAccuracy:s.conversionAccuracy,matrix:s.matrix})}static fromDurationLike(e){if(_(e))return b.fromMillis(e);if(b.isDuration(e))return e;if(typeof e=="object")return b.fromObject(e);throw new E(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,s){const[r]=Ei(e);return r?b.fromObject(r,s):b.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,s){const[r]=Ii(e);return r?b.fromObject(r,s):b.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,s=null){if(!e)throw new E("need to specify a reason the Duration is invalid");const r=e instanceof z?e:new z(e,s);if(x.throwOnInvalid)throw new cn(r);return new b({invalid:r})}static normalizeUnit(e){const s={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!s)throw new vs(e);return s}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,s={}){const r={...s,floor:s.round!==!1&&s.floor!==!1};return this.isValid?C.create(this.loc,r).formatDurationFromString(this,e):Gt}toHuman(e={}){if(!this.isValid)return Gt;const s=te.map(r=>{const n=this.values[r];return f(n)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(n)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(s)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=vt(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const s=this.toMillis();return s<0||s>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},y.fromMillis(s,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?mr(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const s=b.fromDurationLike(e),r={};for(const n of te)(ce(s.values,n)||ce(this.values,n))&&(r[n]=s.get(n)+this.get(n));return G(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const s=b.fromDurationLike(e);return this.plus(s.negate())}mapUnits(e){if(!this.isValid)return this;const s={};for(const r of Object.keys(this.values))s[r]=_s(e(this.values[r],r));return G(this,{values:s},!0)}get(e){return this[b.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const s={...this.values,...Ze(e,b.normalizeUnit)};return G(this,{values:s})}reconfigure({locale:e,numberingSystem:s,conversionAccuracy:r,matrix:n}={}){const i={loc:this.loc.clone({locale:e,numberingSystem:s}),matrix:n,conversionAccuracy:r};return G(this,i)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return Qt(this.matrix,e),G(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=Ri(this.normalize().shiftToAll().toObject());return G(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(a=>b.normalizeUnit(a));const s={},r={},n=this.toObject();let i;for(const a of te)if(e.indexOf(a)>=0){i=a;let o=0;for(const l in r)o+=this.matrix[l][a]*r[l],r[l]=0;_(n[a])&&(o+=n[a]);const u=Math.trunc(o);s[a]=u,r[a]=(o*1e3-u*1e3)/1e3}else _(n[a])&&(r[a]=n[a]);for(const a in r)r[a]!==0&&(s[i]+=a===i?r[a]:r[a]/this.matrix[i][a]);return Qt(this.matrix,s),G(this,{values:s},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const s of Object.keys(this.values))e[s]=this.values[s]===0?0:-this.values[s];return G(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function s(r,n){return r===void 0||r===0?n===void 0||n===0:r===n}for(const r of te)if(!s(this.values[r],e.values[r]))return!1;return!0}}const ie="Invalid Interval";function Ai(t,e){return!t||!t.isValid?N.invalid("missing or invalid start"):!e||!e.isValid?N.invalid("missing or invalid end"):e<t?N.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class N{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,s=null){if(!e)throw new E("need to specify a reason the Interval is invalid");const r=e instanceof z?e:new z(e,s);if(x.throwOnInvalid)throw new ln(r);return new N({invalid:r})}static fromDateTimes(e,s){const r=pe(e),n=pe(s);return Ai(r,n)??new N({start:r,end:n})}static after(e,s){const r=b.fromDurationLike(s),n=pe(e);return N.fromDateTimes(n,n.plus(r))}static before(e,s){const r=b.fromDurationLike(s),n=pe(e);return N.fromDateTimes(n.minus(r),n)}static fromISO(e,s){const[r,n]=(e||"").split("/",2);if(r&&n){let i,a;try{i=y.fromISO(r,s),a=i.isValid}catch{a=!1}let o,u;try{o=y.fromISO(n,s),u=o.isValid}catch{u=!1}if(a&&u)return N.fromDateTimes(i,o);if(a){const l=b.fromISO(n,s);if(l.isValid)return N.after(i,l)}else if(u){const l=b.fromISO(r,s);if(l.isValid)return N.before(o,l)}}return N.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",s){if(!this.isValid)return NaN;const r=this.start.startOf(e,s);let n;return s?.useLocaleWeeks?n=this.end.reconfigure({locale:r.locale}):n=this.end,n=n.startOf(e,s),Math.floor(n.diff(r,e).get(e))+(n.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:s}={}){return this.isValid?N.fromDateTimes(e||this.s,s||this.e):this}splitAt(...e){if(!this.isValid)return[];const s=e.map(pe).filter(a=>this.contains(a)).sort((a,o)=>a.toMillis()-o.toMillis()),r=[];let{s:n}=this,i=0;for(;n<this.e;){const a=s[i]||this.e,o=+a>+this.e?this.e:a;r.push(N.fromDateTimes(n,o)),n=o,i+=1}return r}splitBy(e){const s=b.fromDurationLike(e);if(!this.isValid||!s.isValid||s.as("milliseconds")===0)return[];let{s:r}=this,n=1,i;const a=[];for(;r<this.e;){const o=this.start.plus(s.mapUnits(u=>u*n));i=+o>+this.e?this.e:o,a.push(N.fromDateTimes(r,i)),r=i,n+=1}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const s=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return s>=r?null:N.fromDateTimes(s,r)}union(e){if(!this.isValid)return this;const s=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return N.fromDateTimes(s,r)}static merge(e){const[s,r]=e.sort((n,i)=>n.s-i.s).reduce(([n,i],a)=>i?i.overlaps(a)||i.abutsStart(a)?[n,i.union(a)]:[n.concat([i]),a]:[n,a],[[],null]);return r&&s.push(r),s}static xor(e){let s=null,r=0;const n=[],i=e.map(u=>[{time:u.s,type:"s"},{time:u.e,type:"e"}]),a=Array.prototype.concat(...i),o=a.sort((u,l)=>u.time-l.time);for(const u of o)r+=u.type==="s"?1:-1,r===1?s=u.time:(s&&+s!=+u.time&&n.push(N.fromDateTimes(s,u.time)),s=null);return N.merge(n)}difference(...e){return N.xor([this].concat(e)).map(s=>this.intersection(s)).filter(s=>s&&!s.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:ie}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=$e,s={}){return this.isValid?C.create(this.s.loc.clone(s),e).formatInterval(this):ie}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:ie}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:ie}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:ie}toFormat(e,{separator:s=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${s}${this.e.toFormat(e)}`:ie}toDuration(e,s){return this.isValid?this.e.diff(this.s,e,s):b.invalid(this.invalidReason)}mapEndpoints(e){return N.fromDateTimes(e(this.s),e(this.e))}}class De{static hasDST(e=x.defaultZone){const s=y.now().setZone(e).set({month:12});return!e.isUniversal&&s.offset!==s.set({month:6}).offset}static isValidIANAZone(e){return J.isValidZone(e)}static normalizeZone(e){return K(e,x.defaultZone)}static getStartOfWeek({locale:e=null,locObj:s=null}={}){return(s||S.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:s=null}={}){return(s||S.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:s=null}={}){return(s||S.create(e)).getWeekendDays().slice()}static months(e="long",{locale:s=null,numberingSystem:r=null,locObj:n=null,outputCalendar:i="gregory"}={}){return(n||S.create(s,r,i)).months(e)}static monthsFormat(e="long",{locale:s=null,numberingSystem:r=null,locObj:n=null,outputCalendar:i="gregory"}={}){return(n||S.create(s,r,i)).months(e,!0)}static weekdays(e="long",{locale:s=null,numberingSystem:r=null,locObj:n=null}={}){return(n||S.create(s,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:s=null,numberingSystem:r=null,locObj:n=null}={}){return(n||S.create(s,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return S.create(e).meridiems()}static eras(e="short",{locale:s=null}={}){return S.create(s,null,"gregory").eras(e)}static features(){return{relative:Gs(),localeWeek:Qs()}}}function Kt(t,e){const s=n=>n.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=s(e)-s(t);return Math.floor(b.fromMillis(r).as("days"))}function qi(t,e,s){const r=[["years",(u,l)=>l.year-u.year],["quarters",(u,l)=>l.quarter-u.quarter+(l.year-u.year)*4],["months",(u,l)=>l.month-u.month+(l.year-u.year)*12],["weeks",(u,l)=>{const h=Kt(u,l);return(h-h%7)/7}],["days",Kt]],n={},i=t;let a,o;for(const[u,l]of r)s.indexOf(u)>=0&&(a=u,n[u]=l(t,e),o=i.plus(n),o>e?(n[u]--,t=i.plus(n),t>e&&(o=t,n[u]--,t=i.plus(n))):t=o);return[t,n,o,a]}function zi(t,e,s,r){let[n,i,a,o]=qi(t,e,s);const u=e-n,l=s.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);l.length===0&&(a<e&&(a=n.plus({[o]:1})),a!==n&&(i[o]=(i[o]||0)+u/(a-n)));const h=b.fromObject(i,r);return l.length>0?b.fromMillis(u,r).shiftTo(...l).plus(h):h}const Ui="missing Intl.DateTimeFormat.formatToParts support";function v(t,e=s=>s){return{regex:t,deser:([s])=>e(Vn(s))}}const Pi=" ",fr=`[ ${Pi}]`,yr=new RegExp(fr,"g");function Hi(t){return t.replace(/\./g,"\\.?").replace(yr,fr)}function _t(t){return t.replace(/\./g,"").replace(yr," ").toLowerCase()}function q(t,e){return t===null?null:{regex:RegExp(t.map(Hi).join("|")),deser:([s])=>t.findIndex(r=>_t(s)===_t(r))+e}}function Xt(t,e){return{regex:t,deser:([,s,r])=>Pe(s,r),groups:e}}function Me(t){return{regex:t,deser:([e])=>e}}function Yi(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Ji(t,e){const s=A(e),r=A(e,"{2}"),n=A(e,"{3}"),i=A(e,"{4}"),a=A(e,"{6}"),o=A(e,"{1,2}"),u=A(e,"{1,3}"),l=A(e,"{1,6}"),h=A(e,"{1,9}"),d=A(e,"{2,4}"),w=A(e,"{4,6}"),m=I=>({regex:RegExp(Yi(I.val)),deser:([j])=>j,literal:!0}),k=(I=>{if(t.literal)return m(I);switch(I.val){case"G":return q(e.eras("short"),0);case"GG":return q(e.eras("long"),0);case"y":return v(l);case"yy":return v(d,ft);case"yyyy":return v(i);case"yyyyy":return v(w);case"yyyyyy":return v(a);case"M":return v(o);case"MM":return v(r);case"MMM":return q(e.months("short",!0),1);case"MMMM":return q(e.months("long",!0),1);case"L":return v(o);case"LL":return v(r);case"LLL":return q(e.months("short",!1),1);case"LLLL":return q(e.months("long",!1),1);case"d":return v(o);case"dd":return v(r);case"o":return v(u);case"ooo":return v(n);case"HH":return v(r);case"H":return v(o);case"hh":return v(r);case"h":return v(o);case"mm":return v(r);case"m":return v(o);case"q":return v(o);case"qq":return v(r);case"s":return v(o);case"ss":return v(r);case"S":return v(u);case"SSS":return v(n);case"u":return Me(h);case"uu":return Me(o);case"uuu":return v(s);case"a":return q(e.meridiems(),0);case"kkkk":return v(i);case"kk":return v(d,ft);case"W":return v(o);case"WW":return v(r);case"E":case"c":return v(s);case"EEE":return q(e.weekdays("short",!1),1);case"EEEE":return q(e.weekdays("long",!1),1);case"ccc":return q(e.weekdays("short",!0),1);case"cccc":return q(e.weekdays("long",!0),1);case"Z":case"ZZ":return Xt(new RegExp(`([+-]${o.source})(?::(${r.source}))?`),2);case"ZZZ":return Xt(new RegExp(`([+-]${o.source})(${r.source})?`),2);case"z":return Me(/[a-z_+-/]{1,256}?/i);case" ":return Me(/[^\S\n\r]/);default:return m(I)}})(t)||{invalidReason:Ui};return k.token=t,k}const Bi={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Gi(t,e,s){const{type:r,value:n}=t;if(r==="literal"){const u=/^\s+$/.test(n);return{literal:!u,val:u?" ":n}}const i=e[r];let a=r;r==="hour"&&(e.hour12!=null?a=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?a="hour12":a="hour24":a=s.hour12?"hour12":"hour24");let o=Bi[a];if(typeof o=="object"&&(o=o[i]),o)return{literal:!1,val:o}}function Qi(t){return[`^${t.map(e=>e.regex).reduce((e,s)=>`${e}(${s.source})`,"")}$`,t]}function Ki(t,e,s){const r=t.match(e);if(r){const n={};let i=1;for(const a in s)if(ce(s,a)){const o=s[a],u=o.groups?o.groups+1:1;!o.literal&&o.token&&(n[o.token.val[0]]=o.deser(r.slice(i,i+u))),i+=u}return[r,n]}else return[r,{}]}function _i(t){const e=n=>{switch(n){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let s=null,r;return f(t.z)||(s=J.create(t.z)),f(t.Z)||(s||(s=new V(t.Z)),r=t.Z),f(t.q)||(t.M=(t.q-1)*3+1),f(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),f(t.u)||(t.S=kt(t.u)),[Object.keys(t).reduce((n,i)=>{const a=e(i);return a&&(n[a]=t[i]),n},{}),s,r]}let Ke=null;function Xi(){return Ke||(Ke=y.fromMillis(1555555555555)),Ke}function ea(t,e){if(t.literal)return t;const s=C.macroTokenToFormatOpts(t.val),r=br(s,e);return r==null||r.includes(void 0)?t:r}function gr(t,e){return Array.prototype.concat(...t.map(s=>ea(s,e)))}class pr{constructor(e,s){if(this.locale=e,this.format=s,this.tokens=gr(C.parseFormat(s),e),this.units=this.tokens.map(r=>Ji(r,e)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,n]=Qi(this.units);this.regex=RegExp(r,"i"),this.handlers=n}}explainFromTokens(e){if(this.isValid){const[s,r]=Ki(e,this.regex,this.handlers),[n,i,a]=r?_i(r):[null,null,void 0];if(ce(r,"a")&&ce(r,"H"))throw new oe("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:s,matches:r,result:n,zone:i,specificOffset:a}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function wr(t,e,s){return new pr(t,s).explainFromTokens(e)}function ta(t,e,s){const{result:r,zone:n,specificOffset:i,invalidReason:a}=wr(t,e,s);return[r,n,i,a]}function br(t,e){if(!t)return null;const s=C.create(e,t).dtFormatter(Xi()),r=s.formatToParts(),n=s.resolvedOptions();return r.map(i=>Gi(i,t,n))}const _e="Invalid DateTime",es=864e13;function we(t){return new z("unsupported zone",`the zone "${t.name}" is not supported`)}function Xe(t){return t.weekData===null&&(t.weekData=Le(t.c)),t.weekData}function et(t){return t.localWeekData===null&&(t.localWeekData=Le(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function ee(t,e){const s={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new y({...s,...e,old:s})}function kr(t,e,s){let r=t-e*60*1e3;const n=s.offset(r);if(e===n)return[r,e];r-=(n-e)*60*1e3;const i=s.offset(r);return n===i?[r,n]:[t-Math.min(n,i)*60*1e3,Math.max(n,i)]}function Ee(t,e){t+=e*60*1e3;const s=new Date(t);return{year:s.getUTCFullYear(),month:s.getUTCMonth()+1,day:s.getUTCDate(),hour:s.getUTCHours(),minute:s.getUTCMinutes(),second:s.getUTCSeconds(),millisecond:s.getUTCMilliseconds()}}function Fe(t,e,s){return kr(Ue(t),e,s)}function ts(t,e){const s=t.o,r=t.c.year+Math.trunc(e.years),n=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,i={...t.c,year:r,month:n,day:Math.min(t.c.day,We(r,n))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},a=b.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=Ue(i);let[u,l]=kr(o,s,t.zone);return a!==0&&(u+=a,l=t.zone.offset(u)),{ts:u,o:l}}function ae(t,e,s,r,n,i){const{setZone:a,zone:o}=s;if(t&&Object.keys(t).length!==0||e){const u=e||o,l=y.fromObject(t,{...s,zone:u,specificOffset:i});return a?l:l.setZone(o)}else return y.invalid(new z("unparsable",`the input "${n}" can't be parsed as ${r}`))}function Ce(t,e,s=!0){return t.isValid?C.create(S.create("en-US"),{allowZ:s,forceSimple:!0}).formatDateTimeFromString(t,e):null}function tt(t,e){const s=t.c.year>9999||t.c.year<0;let r="";return s&&t.c.year>=0&&(r+="+"),r+=M(t.c.year,s?6:4),e?(r+="-",r+=M(t.c.month),r+="-",r+=M(t.c.day)):(r+=M(t.c.month),r+=M(t.c.day)),r}function ss(t,e,s,r,n,i){let a=M(t.c.hour);return e?(a+=":",a+=M(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!s)&&(a+=":")):a+=M(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!s)&&(a+=M(t.c.second),(t.c.millisecond!==0||!r)&&(a+=".",a+=M(t.c.millisecond,3))),n&&(t.isOffsetFixed&&t.offset===0&&!i?a+="Z":t.o<0?(a+="-",a+=M(Math.trunc(-t.o/60)),a+=":",a+=M(Math.trunc(-t.o%60))):(a+="+",a+=M(Math.trunc(t.o/60)),a+=":",a+=M(Math.trunc(t.o%60)))),i&&(a+="["+t.zone.ianaName+"]"),a}const vr={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},sa={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},ra={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Sr=["year","month","day","hour","minute","second","millisecond"],na=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],ia=["year","ordinal","hour","minute","second","millisecond"];function aa(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new vs(t);return e}function rs(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return aa(t)}}function oa(t){if(be===void 0&&(be=x.now()),t.type!=="iana")return t.offset(be);const e=t.name;let s=yt.get(e);return s===void 0&&(s=t.offset(be),yt.set(e,s)),s}function ns(t,e){const s=K(e.zone,x.defaultZone);if(!s.isValid)return y.invalid(we(s));const r=S.fromObject(e);let n,i;if(f(t.year))n=x.now();else{for(const u of Sr)f(t[u])&&(t[u]=vr[u]);const a=Js(t)||Bs(t);if(a)return y.invalid(a);const o=oa(s);[n,i]=Fe(t,o,s)}return new y({ts:n,zone:s,loc:r,o:i})}function is(t,e,s){const r=f(s.round)?!0:s.round,n=(a,o)=>(a=vt(a,r||s.calendary?0:2,!0),e.loc.clone(s).relFormatter(s).format(a,o)),i=a=>s.calendary?e.hasSame(t,a)?0:e.startOf(a).diff(t.startOf(a),a).get(a):e.diff(t,a).get(a);if(s.unit)return n(i(s.unit),s.unit);for(const a of s.units){const o=i(a);if(Math.abs(o)>=1)return n(o,a)}return n(t>e?-0:0,s.units[s.units.length-1])}function as(t){let e={},s;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],s=Array.from(t).slice(0,t.length-1)):s=Array.from(t),[e,s]}let be;const yt=new Map;class y{constructor(e){const s=e.zone||x.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new z("invalid input"):null)||(s.isValid?null:we(s));this.ts=f(e.ts)?x.now():e.ts;let n=null,i=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(s))[n,i]=[e.old.c,e.old.o];else{const a=_(e.o)&&!e.old?e.o:s.offset(this.ts);n=Ee(this.ts,a),r=Number.isNaN(n.year)?new z("invalid input"):null,n=r?null:n,i=r?null:a}this._zone=s,this.loc=e.loc||S.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=n,this.o=i,this.isLuxonDateTime=!0}static now(){return new y({})}static local(){const[e,s]=as(arguments),[r,n,i,a,o,u,l]=s;return ns({year:r,month:n,day:i,hour:a,minute:o,second:u,millisecond:l},e)}static utc(){const[e,s]=as(arguments),[r,n,i,a,o,u,l]=s;return e.zone=V.utcInstance,ns({year:r,month:n,day:i,hour:a,minute:o,second:u,millisecond:l},e)}static fromJSDate(e,s={}){const r=Wn(e)?e.valueOf():NaN;if(Number.isNaN(r))return y.invalid("invalid input");const n=K(s.zone,x.defaultZone);return n.isValid?new y({ts:r,zone:n,loc:S.fromObject(s)}):y.invalid(we(n))}static fromMillis(e,s={}){if(_(e))return e<-es||e>es?y.invalid("Timestamp out of range"):new y({ts:e,zone:K(s.zone,x.defaultZone),loc:S.fromObject(s)});throw new E(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,s={}){if(_(e))return new y({ts:e*1e3,zone:K(s.zone,x.defaultZone),loc:S.fromObject(s)});throw new E("fromSeconds requires a numerical input")}static fromObject(e,s={}){e=e||{};const r=K(s.zone,x.defaultZone);if(!r.isValid)return y.invalid(we(r));const n=S.fromObject(s),i=Ze(e,rs),{minDaysInFirstWeek:a,startOfWeek:o}=Pt(i,n),u=x.now(),l=f(s.specificOffset)?r.offset(u):s.specificOffset,h=!f(i.ordinal),d=!f(i.year),w=!f(i.month)||!f(i.day),m=d||w,k=i.weekYear||i.weekNumber;if((m||h)&&k)throw new oe("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(w&&h)throw new oe("Can't mix ordinal dates with month/day");const I=k||i.weekday&&!m;let j,P,$=Ee(u,l);I?(j=na,P=sa,$=Le($,a,o)):h?(j=ia,P=ra,$=Qe($)):(j=Sr,P=vr);let g=!1;for(const ge of j){const xr=i[ge];f(xr)?g?i[ge]=P[ge]:i[ge]=$[ge]:g=!0}const O=I?jn(i,a,o):h?$n(i):Js(i),T=O||Bs(i);if(T)return y.invalid(T);const L=I?zt(i,a,o):h?Ut(i):i,[H,re]=Fe(L,l,r),ye=new y({ts:H,zone:r,o:re,loc:n});return i.weekday&&m&&e.weekday!==ye.weekday?y.invalid("mismatched weekday",`you can't specify both a weekday of ${i.weekday} and a date of ${ye.toISO()}`):ye.isValid?ye:y.invalid(ye.invalid)}static fromISO(e,s={}){const[r,n]=xi(e);return ae(r,n,s,"ISO 8601",e)}static fromRFC2822(e,s={}){const[r,n]=Di(e);return ae(r,n,s,"RFC 2822",e)}static fromHTTP(e,s={}){const[r,n]=Mi(e);return ae(r,n,s,"HTTP",s)}static fromFormat(e,s,r={}){if(f(e)||f(s))throw new E("fromFormat requires an input string and a format");const{locale:n=null,numberingSystem:i=null}=r,a=S.fromOpts({locale:n,numberingSystem:i,defaultToEN:!0}),[o,u,l,h]=ta(a,e,s);return h?y.invalid(h):ae(o,u,r,`format ${s}`,e,l)}static fromString(e,s,r={}){return y.fromFormat(e,s,r)}static fromSQL(e,s={}){const[r,n]=$i(e);return ae(r,n,s,"SQL",e)}static invalid(e,s=null){if(!e)throw new E("need to specify a reason the DateTime is invalid");const r=e instanceof z?e:new z(e,s);if(x.throwOnInvalid)throw new un(r);return new y({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,s={}){const r=br(e,S.fromObject(s));return r?r.map(n=>n?n.val:null).join(""):null}static expandFormat(e,s={}){return gr(C.parseFormat(e),S.fromObject(s)).map(r=>r.val).join("")}static resetCache(){be=void 0,yt.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Xe(this).weekYear:NaN}get weekNumber(){return this.isValid?Xe(this).weekNumber:NaN}get weekday(){return this.isValid?Xe(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?et(this).weekday:NaN}get localWeekNumber(){return this.isValid?et(this).weekNumber:NaN}get localWeekYear(){return this.isValid?et(this).weekYear:NaN}get ordinal(){return this.isValid?Qe(this.c).ordinal:NaN}get monthShort(){return this.isValid?De.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?De.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?De.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?De.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,s=6e4,r=Ue(this.c),n=this.zone.offset(r-e),i=this.zone.offset(r+e),a=this.zone.offset(r-n*s),o=this.zone.offset(r-i*s);if(a===o)return[this];const u=r-a*s,l=r-o*s,h=Ee(u,a),d=Ee(l,o);return h.hour===d.hour&&h.minute===d.minute&&h.second===d.second&&h.millisecond===d.millisecond?[ee(this,{ts:u}),ee(this,{ts:l})]:[this]}get isInLeapYear(){return Oe(this.year)}get daysInMonth(){return We(this.year,this.month)}get daysInYear(){return this.isValid?ue(this.year):NaN}get weeksInWeekYear(){return this.isValid?ve(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?ve(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:s,numberingSystem:r,calendar:n}=C.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:s,numberingSystem:r,outputCalendar:n}}toUTC(e=0,s={}){return this.setZone(V.instance(e),s)}toLocal(){return this.setZone(x.defaultZone)}setZone(e,{keepLocalTime:s=!1,keepCalendarTime:r=!1}={}){if(e=K(e,x.defaultZone),e.equals(this.zone))return this;if(e.isValid){let n=this.ts;if(s||r){const i=e.offset(this.ts),a=this.toObject();[n]=Fe(a,i,e)}return ee(this,{ts:n,zone:e})}else return y.invalid(we(e))}reconfigure({locale:e,numberingSystem:s,outputCalendar:r}={}){const n=this.loc.clone({locale:e,numberingSystem:s,outputCalendar:r});return ee(this,{loc:n})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const s=Ze(e,rs),{minDaysInFirstWeek:r,startOfWeek:n}=Pt(s,this.loc),i=!f(s.weekYear)||!f(s.weekNumber)||!f(s.weekday),a=!f(s.ordinal),o=!f(s.year),u=!f(s.month)||!f(s.day),l=o||u,h=s.weekYear||s.weekNumber;if((l||a)&&h)throw new oe("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&a)throw new oe("Can't mix ordinal dates with month/day");let d;i?d=zt({...Le(this.c,r,n),...s},r,n):f(s.ordinal)?(d={...this.toObject(),...s},f(s.day)&&(d.day=Math.min(We(d.year,d.month),d.day))):d=Ut({...Qe(this.c),...s});const[w,m]=Fe(d,this.o,this.zone);return ee(this,{ts:w,o:m})}plus(e){if(!this.isValid)return this;const s=b.fromDurationLike(e);return ee(this,ts(this,s))}minus(e){if(!this.isValid)return this;const s=b.fromDurationLike(e).negate();return ee(this,ts(this,s))}startOf(e,{useLocaleWeeks:s=!1}={}){if(!this.isValid)return this;const r={},n=b.normalizeUnit(e);switch(n){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(n==="weeks")if(s){const i=this.loc.getStartOfWeek(),{weekday:a}=this;a<i&&(r.weekNumber=this.weekNumber-1),r.weekday=i}else r.weekday=1;if(n==="quarters"){const i=Math.ceil(this.month/3);r.month=(i-1)*3+1}return this.set(r)}endOf(e,s){return this.isValid?this.plus({[e]:1}).startOf(e,s).minus(1):this}toFormat(e,s={}){return this.isValid?C.create(this.loc.redefaultToEN(s)).formatDateTimeFromString(this,e):_e}toLocaleString(e=$e,s={}){return this.isValid?C.create(this.loc.clone(s),e).formatDateTime(this):_e}toLocaleParts(e={}){return this.isValid?C.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:s=!1,suppressMilliseconds:r=!1,includeOffset:n=!0,extendedZone:i=!1}={}){if(!this.isValid)return null;const a=e==="extended";let o=tt(this,a);return o+="T",o+=ss(this,a,s,r,n,i),o}toISODate({format:e="extended"}={}){return this.isValid?tt(this,e==="extended"):null}toISOWeekDate(){return Ce(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:s=!1,includeOffset:r=!0,includePrefix:n=!1,extendedZone:i=!1,format:a="extended"}={}){return this.isValid?(n?"T":"")+ss(this,a==="extended",s,e,r,i):null}toRFC2822(){return Ce(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Ce(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?tt(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:s=!1,includeOffsetSpace:r=!0}={}){let n="HH:mm:ss.SSS";return(s||e)&&(r&&(n+=" "),s?n+="z":e&&(n+="ZZ")),Ce(this,n,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():_e}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const s={...this.c};return e.includeConfig&&(s.outputCalendar=this.outputCalendar,s.numberingSystem=this.loc.numberingSystem,s.locale=this.loc.locale),s}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,s="milliseconds",r={}){if(!this.isValid||!e.isValid)return b.invalid("created by diffing an invalid DateTime");const n={locale:this.locale,numberingSystem:this.numberingSystem,...r},i=Zn(s).map(b.normalizeUnit),a=e.valueOf()>this.valueOf(),o=a?this:e,u=a?e:this,l=zi(o,u,i,n);return a?l.negate():l}diffNow(e="milliseconds",s={}){return this.diff(y.now(),e,s)}until(e){return this.isValid?N.fromDateTimes(this,e):this}hasSame(e,s,r){if(!this.isValid)return!1;const n=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(s,r)<=n&&n<=i.endOf(s,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const s=e.base||y.fromObject({},{zone:this.zone}),r=e.padding?this<s?-e.padding:e.padding:0;let n=["years","months","days","hours","minutes","seconds"],i=e.unit;return Array.isArray(e.unit)&&(n=e.unit,i=void 0),is(s,this.plus(r),{...e,numeric:"always",units:n,unit:i})}toRelativeCalendar(e={}){return this.isValid?is(e.base||y.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(y.isDateTime))throw new E("min requires all arguments be DateTimes");return Ht(e,s=>s.valueOf(),Math.min)}static max(...e){if(!e.every(y.isDateTime))throw new E("max requires all arguments be DateTimes");return Ht(e,s=>s.valueOf(),Math.max)}static fromFormatExplain(e,s,r={}){const{locale:n=null,numberingSystem:i=null}=r,a=S.fromOpts({locale:n,numberingSystem:i,defaultToEN:!0});return wr(a,e,s)}static fromStringExplain(e,s,r={}){return y.fromFormatExplain(e,s,r)}static buildFormatParser(e,s={}){const{locale:r=null,numberingSystem:n=null}=s,i=S.fromOpts({locale:r,numberingSystem:n,defaultToEN:!0});return new pr(i,e)}static fromFormatParser(e,s,r={}){if(f(e)||f(s))throw new E("fromFormatParser requires an input string and a format parser");const{locale:n=null,numberingSystem:i=null}=r,a=S.fromOpts({locale:n,numberingSystem:i,defaultToEN:!0});if(!a.equals(s.locale))throw new E(`fromFormatParser called with a locale of ${a}, but the format parser was created for ${s.locale}`);const{result:o,zone:u,specificOffset:l,invalidReason:h}=s.explainFromTokens(e);return h?y.invalid(h):ae(o,u,r,`format ${s.format}`,e,l)}static get DATE_SHORT(){return $e}static get DATE_MED(){return Ss}static get DATE_MED_WITH_WEEKDAY(){return hn}static get DATE_FULL(){return Os}static get DATE_HUGE(){return Ts}static get TIME_SIMPLE(){return Ns}static get TIME_WITH_SECONDS(){return xs}static get TIME_WITH_SHORT_OFFSET(){return Ds}static get TIME_WITH_LONG_OFFSET(){return Ms}static get TIME_24_SIMPLE(){return Es}static get TIME_24_WITH_SECONDS(){return Cs}static get TIME_24_WITH_SHORT_OFFSET(){return Is}static get TIME_24_WITH_LONG_OFFSET(){return Vs}static get DATETIME_SHORT(){return Fs}static get DATETIME_SHORT_WITH_SECONDS(){return js}static get DATETIME_MED(){return $s}static get DATETIME_MED_WITH_SECONDS(){return Ls}static get DATETIME_MED_WITH_WEEKDAY(){return dn}static get DATETIME_FULL(){return Ws}static get DATETIME_FULL_WITH_SECONDS(){return Zs}static get DATETIME_HUGE(){return Rs}static get DATETIME_HUGE_WITH_SECONDS(){return As}}function pe(t){if(y.isDateTime(t))return t;if(t&&t.valueOf&&_(t.valueOf()))return y.fromJSDate(t);if(t&&typeof t=="object")return y.fromObject(t);throw new E(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const Or=t=>typeof t=="string"?t.includes("Failed to fetch")?"Could not reach endpoint. Possible causes could include network issues, incorrect URL, or server outages.":ua(t):typeof t=="object"&&t?.message?(t?.code?`API: ${t.code}, `:"")+t?.message:"An error occurred",ua=t=>{let e=t;try{e=JSON.parse(t),e?.message&&(e=(e?.code?`API: ${e.code}, `:"")+e?.message)}catch(s){return console.warn(s),t}return e},Tr=(t,e)=>{let s;return function(...r){const n=this;clearTimeout(s),s=setTimeout(()=>t.apply(n,r),e)}},la=async t=>{try{const e=await fetch(`${t}/silences`);if(!e.ok)throw await e.json().catch(()=>{throw new Error("Unexpected error: Unable to parse error response.")});return{silences:await e.json()}}catch(e){throw console.error(e),e}},ca=async t=>{try{const e=await fetch(`${t.endpoint}/silence/${t.id}`,{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok){const s=await e.json().catch(()=>null),r=s?.message||s||`Error ${e.status}: ${e.statusText}`;throw new Error(r)}return await e}catch(e){throw console.error(e),e}},ha=async t=>{try{const e=await fetch(`${t.endpoint}/silences`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t.silence)});if(!e.ok){const s=await e.json().catch(()=>null),r=s?.message||s||`Error ${e.status}: ${e.statusText}`;throw new Error(r)}return await e.json()}catch(e){throw console.error(e),e}},da={deleteSilences:ca,createSilences:ha},Nr=(t,e={})=>{const s=hs(),r=da[t];if(!r)throw new Error(`No mutation function mapped for key: ${t}`);return on({mutationFn:n=>r({...n,endpoint:s}),onError:e?.onError,...e})},va=t=>{const{addMessage:e}=ds(),s=t.silence,[r,n]=D.useState(!1),i=Re(),a=ms(),{setSilences:o}=fs(),{mutate:u}=Nr("deleteSilences",{onSuccess:h=>{i.cancelQueries({queryKey:["silences"]});const d=a.filter(k=>k.id===h.id);let w=d.length>0?d[0]:null;w={...w,status:{state:ys.SILENCE_EXPIRED}};const m=[...a.filter(k=>k?.id!==h?.id),w];o({items:m}),e({variant:"success",text:"Silence expired successfully. Please note that it may take up to 5 minutes for the silence to show up as expired."})},onError:h=>{e({variant:"error",text:Or(h)})},onSettled:()=>{i.invalidateQueries({queryKey:["silences"]})}}),l=Tr(()=>{u({id:s.id}),n(!1)},200);return p.jsxs(p.Fragment,{children:[p.jsx(gs,{onClick:()=>n(!0),children:"Expire"}),r&&p.jsxs(ps,{cancelButtonLabel:"Cancel",confirmButtonLabel:"Expire Silence",onCancel:()=>n(!1),onConfirm:l,open:!0,title:"Confirmation needed",children:[p.jsxs("p",{children:["Do you really want to expire the silence ",p.jsx("b",{children:s.id}),"?"]}),p.jsxs("p",{children:["Comment for the silence: ",p.jsx("b",{children:s?.comment})]})]})]})},os=[{label:"2 hours",value:2},{label:"12 hours",value:12},{label:"1 day",value:24},{label:"3 days",value:72},{label:"7 days",value:168}],Sa=t=>{if(t?.length>0)return t.sort((e,s)=>new Date(s.endsAt).getTime()-new Date(e.endsAt).getTime())[0].endsAt},ma=t=>{if(!t)return{items:os};const e=new Date,s=(new Date(t).getTime()-e.getTime())/(1e3*60*60),r=os.map(i=>i.value<=s?{...i,label:i.label+" (covered with the existing silence)",covered:!0}:i),n=r.find(i=>!i?.covered);return{items:r,firstNotCovered:n}},Oa=(t,e=[],s=[])=>{if(!t||!e)return;const r=[];return Object.keys(t).forEach(n=>{const i=t?.[n];if(i){const a={name:n,value:i,isRegex:!1,excluded:!1,configurable:!1};s.includes(n)||(e.includes(n)?r.push({...a,excluded:!0,configurable:!0}):r.push(a))}}),r},fa=t=>{const e={};return t?.comment?.length<3&&(e.comment||(e.comment=[]),e.comment.push("Please enter at least 3 characters")),t?.createdBy?.length<1&&(e.createdBy||(e.createdBy=[]),e.createdBy.push("Please enter a name")),e},us=t=>t.map((e,s)=>p.jsx("span",{className:"block text-theme-danger ",children:e},s)),ls={duration:2,comment:""},Ta=t=>{const e=t.silence,{addMessage:s}=ds(),r=Er(),n=ms(),{setSilences:i}=fs(),a=Re(),[o,u]=D.useState(!1),[l,h]=D.useState(ls),[d,w]=D.useState({}),[m,k]=D.useState(null);D.useLayoutEffect(()=>{o&&(h({...l,...ls,createdBy:r||"",matchers:e.matchers,comment:e.comment}),k(null),w({}))},[o]);const I=D.useMemo(()=>{const g=ma(0);return g.firstNotCovered&&h({...l,duration:g.firstNotCovered.value}),g.items},[]),{mutate:j}=Nr("createSilences",{onMutate:g=>{a.cancelQueries({queryKey:["silences"]});const O={...g.silence,status:{state:ys.SILENCE_ACTIVE}},T=[...n,O];i({items:T}),u(!1)},onSuccess:g=>{s({variant:"success",text:`A silence object with id ${g?.silenceID} was created successfully. Please note that it may
            take up to 5 minutes for the alert to show up as silenced.`})},onError:g=>{s({variant:"error",text:Or(g)})},onSettled:()=>{a.invalidateQueries({queryKey:["silences"]})}}),P=Tr(()=>{k(null);const g=fa(l);if(w(g),Object.keys(g).length>0)return;const O={...l},T=new Date,L=new Date;L.setHours(L.getHours()+Number.parseInt(O.duration||4));const H={...O,startsAt:T.toISOString(),endsAt:L.toISOString()};j({silence:H})},200),$=({key:g,value:O})=>{O&&h({...l,[g]:O})};return p.jsxs(p.Fragment,{children:[p.jsx(gs,{onClick:g=>{g.stopPropagation(),u(!o)},children:"Recreate"}),o&&p.jsxs(ps,{title:"New Silence for",size:"large",open:!0,confirmButtonLabel:"Save",onCancel:()=>u(!1),onConfirm:P,children:[m&&p.jsx(Cr,{text:m,variant:"danger"}),p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"advanced-area overflow-hidden",children:[p.jsx("p",{className:"mt-2",children:"Matchers attached to this silence"}),p.jsx(Ir,{gap:"2",alignment:"start",wrap:!0,className:"mt-2",children:l?.matchers&&Object.keys(l?.matchers).map((g,O)=>p.jsx(Vr,{pillKey:e?.matchers[g]?.name,pillKeyLabel:e?.matchers[g]?.name,pillValue:e?.matchers[g]?.value,pillValueLabel:e?.matchers[g]?.value},O))})]}),p.jsxs(Fr,{className:"mt-6",children:[p.jsx(Ye,{children:p.jsx(jr,{required:!0,label:"Silenced by",value:l.createdBy,disabled:!!r,onChange:g=>$({key:"createdBy",value:g.target.value}),errortext:d.createdBy&&us(d.createdBy)})}),p.jsx(Ye,{children:p.jsx($r,{className:"h-20",label:"Description",value:l.comment,onChange:g=>$({key:"comment",value:g.target.value}),errortext:d.comment&&us(d.comment),required:!0})}),p.jsx(Ye,{children:p.jsx(Lr,{required:!0,label:"Duration",value:l.duration,onChange:g=>$({key:"duration",value:g}),children:I?.map(g=>p.jsx(Wr,{label:g.label,value:String(g.value)},g.value))})})]})]})]})]})};let cs;const ya=async t=>{try{const e=await fetch(`${t}/alerts`);if(!e.ok)throw await e.json().catch(()=>{throw new Error("Unexpected error: Unable to parse error response.")});const s=await e.json(),r=Dr(s);r.forEach(i=>{i.labels&&(i.labels.status=i.status?.state)});const n=JSON.stringify(r);return cs!==n?(cs=n,{alerts:r,counts:Mr(r)}):null}catch(e){throw console.error(e),e}},ga={alerts:ya,silences:la};class pa extends Error{constructor(e){super(e.message),this.name="CorsNetworkError",e.stack&&(this.stack=e.stack)}}function wa(t){if(!(t instanceof TypeError))return!1;const e=t.message||"";return!!(navigator.userAgent.includes("Firefox")&&e.includes("NetworkError"))}const Na=(t,{options:e}={})=>{const s=hs(),r=ga[t];if(!r)throw new Error(`No fetch function mapped for key: ${t}`);return an({queryKey:[t],queryFn:()=>r(s).catch(n=>{throw wa(n)?new pa(n):n}),...e})},xa=()=>p.jsxs("p",{children:["Firefox detected. Please ensure that you have activated ",p.jsx("b",{children:"allow_client_cert"})," to enable the retrieval of alerts and silences from the API.",p.jsxs("ul",{children:[p.jsx("li",{children:"1. Go to about:config (via address bar)"}),p.jsxs("li",{children:["2. Change ",p.jsx("b",{children:"network.cors_preflight.allow_client_cert"})," to ",p.jsx("b",{children:"true"})]}),p.jsx("li",{children:"3. Reload Greenhouse"})]})]});export{Or as E,Sa as O,Ta as a,Na as b,Nr as c,ma as d,Tr as e,va as k,pa as p,Oa as v,xa as x,y};
