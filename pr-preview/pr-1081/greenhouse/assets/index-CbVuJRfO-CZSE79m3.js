import{j as s,M as o,n as h,U as v,G as b,m as u,N as f,H as x,P as g,X as j,y as C}from"./App-CJKAoyef-DY56_ZMu.js";import{w as n}from"./index-C-fiG1g8.js";const F=({filters:i,onChange:e})=>{const[l,c]=n.useState(""),[m,t]=n.useState(""),r=i.find(a=>a.filterName===l)?.values?.filter(a=>a),p=n.useCallback(a=>{t(a),!u.isEmpty(l)&&!u.isEmpty(a)&&e({name:l,value:a}),setTimeout(()=>{t("")},0)},[l,t,e]);return s.jsx(o,{alignment:"center",gap:"8",children:s.jsxs(h,{children:[s.jsx(f,{className:"filter-label-select w-64 mb-0",name:"filter","data-testid":"select-filterValue",label:"Filter",value:l,onChange:a=>{c(String(a))},children:i?.map(({displayName:a,filterName:d})=>s.jsx(x,{value:d,label:a,"data-testid":d},d))}),s.jsx(g,{className:"filter-value-select w-64 bg-theme-background-lvl-0",name:"filterValue","data-testid":"combobox-filterValue",value:m,disabled:!l,onChange:p,children:r?.map(a=>s.jsx(j,{value:a,label:a,"data-testid":a},a))})]})})},N=({selectedFilters:i,onDelete:e})=>s.jsx(o,{gap:"2",wrap:!0,children:i?.map(l=>s.jsx(C,{closeable:!0,pillKey:l.name,pillValue:l.value,onClose:()=>e(l)},`${name}:${l.value}`))}),y=({filters:i,filterSettings:e,onFilterChange:l,searchInputPlaceholder:c})=>{const m=n.useCallback(t=>{l({...e,selectedFilters:e.selectedFilters?.filter(r=>!(r.name===t.name&&r.value===t.value))})},[e,l]);return s.jsxs(o,{direction:"vertical",gap:"4",className:"bg-theme-background-lvl-1 py-2 px-4 ",children:[s.jsxs(h,{children:[s.jsx(F,{filters:i,onChange:t=>{e.selectedFilters?.some(r=>r.name===t.name&&r.value===t.value)||l({...e,selectedFilters:[...e.selectedFilters||[],t]})}}),s.jsx(v,{label:"Clear all",className:"ml-4",onClick:()=>l({...e,selectedFilters:[]}),variant:"subdued"}),s.jsx(b,{placeholder:c||"search term for",className:"w-96 ml-auto","data-testid":"searchbar",value:e.searchTerm,onSearch:t=>{l({...e,searchTerm:t})},onClear:()=>l({...e,searchTerm:""})})]}),e.selectedFilters&&e.selectedFilters.length>0&&s.jsx(N,{selectedFilters:e.selectedFilters,onDelete:m})]})};export{y as C};
