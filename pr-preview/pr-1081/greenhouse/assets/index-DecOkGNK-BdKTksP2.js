import{j as s,k as m,p,U as f,G as g,o as h,N as j,H as x,P as C,X as F,i as N}from"./App-Da1Yg2v0-7yBA7Vmt.js";import{w as o}from"./index-Be8xNjzN.js";const w=({filters:i,onChange:e})=>{var a,c;const[n,t]=o.useState(""),[d,r]=o.useState(""),v=(c=(a=i.find(l=>l.filterName===n))==null?void 0:a.values)==null?void 0:c.filter(l=>l),b=o.useCallback(l=>{r(l),!h.isEmpty(n)&&!h.isEmpty(l)&&e({name:n,value:l}),setTimeout(()=>{r("")},0)},[n,r,e]);return s.jsx(m,{alignment:"center",gap:"8",children:s.jsxs(p,{children:[s.jsx(j,{className:"filter-label-select w-64 mb-0",name:"filter","data-testid":"select-filterValue",label:"Filter",value:n,onChange:l=>{t(String(l))},children:i==null?void 0:i.map(({displayName:l,filterName:u})=>s.jsx(x,{value:u,label:l,"data-testid":u},u))}),s.jsx(C,{className:"filter-value-select w-64 bg-theme-background-lvl-0",name:"filterValue","data-testid":"combobox-filterValue",value:d,disabled:!n,onChange:b,children:v==null?void 0:v.map(l=>s.jsx(F,{value:l,label:l,"data-testid":l},l))})]})})},S=({selectedFilters:i,onDelete:e})=>s.jsx(m,{gap:"2",wrap:!0,children:i==null?void 0:i.map(a=>s.jsx(N,{closeable:!0,pillKey:a.name,pillValue:a.value,onClose:()=>e(a)},`${name}:${a.value}`))}),V=({filters:i,filterSettings:e,onFilterChange:a,searchInputPlaceholder:c})=>{const n=o.useCallback(t=>{var d;a({...e,selectedFilters:(d=e.selectedFilters)==null?void 0:d.filter(r=>!(r.name===t.name&&r.value===t.value))})},[e,a]);return s.jsxs(m,{direction:"vertical",gap:"4",className:"bg-theme-background-lvl-1 py-2 px-4 ",children:[s.jsxs(p,{children:[s.jsx(w,{filters:i,onChange:t=>{var d;(d=e.selectedFilters)!=null&&d.some(r=>r.name===t.name&&r.value===t.value)||a({...e,selectedFilters:[...e.selectedFilters||[],t]})}}),s.jsx(f,{label:"Clear all",className:"ml-4",onClick:()=>a({...e,selectedFilters:[]}),variant:"subdued"}),s.jsx(g,{placeholder:c||"search term for",className:"w-96 ml-auto","data-testid":"searchbar",value:e.searchTerm,onSearch:t=>{a({...e,searchTerm:t})},onClear:()=>a({...e,searchTerm:""})})]}),e.selectedFilters&&e.selectedFilters.length>0&&s.jsx(S,{selectedFilters:e.selectedFilters,onDelete:n})]})};export{V as G};
