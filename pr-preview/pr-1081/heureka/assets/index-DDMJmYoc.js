import{o as j,j as l,k as p,p as h,N as i,H as v,P as E,X as F,i as N,U as k,G as y}from"./App-DporlnqB.js";import{a as n}from"./index-DxFmpwI_.js";const V=({filters:t,onChange:e})=>{var r,b;const[a,o]=n.useState(""),[u,c]=n.useState(""),d=(b=(r=t.find(s=>s.filterName===a))==null?void 0:r.values)==null?void 0:b.filter(s=>s),m=n.useCallback(s=>{c(s),!j.isEmpty(a)&&!j.isEmpty(s)&&e({name:a,value:s}),setTimeout(()=>{c("")},0)},[a,c,e]);return l.jsx(p,{alignment:"center",gap:"8",children:l.jsxs(h,{children:[l.jsx(i,{className:"filter-label-select w-64 mb-0",name:"filter","data-testid":"select-filterValue",label:"Filter",value:a,onChange:s=>{o(String(s))},children:t==null?void 0:t.map(({displayName:s,filterName:x})=>l.jsx(v,{value:x,label:s,"data-testid":x},x))}),l.jsx(E,{className:"filter-value-select w-64 bg-theme-background-lvl-0",name:"filterValue","data-testid":"combobox-filterValue",value:u,disabled:!a,onChange:m,children:d==null?void 0:d.map(s=>l.jsx(F,{value:s,label:s,"data-testid":s},s))})]})})},w=({selectedFilters:t,onDelete:e})=>l.jsx(p,{gap:"2",wrap:!0,children:t==null?void 0:t.map(a=>l.jsx(N,{closeable:!0,pillKey:a.name,pillValue:a.value,onClose:()=>e(a)},`${name}:${a.value}`))}),G=({filters:t,filterSettings:e,onFilterChange:a,searchInputPlaceholder:o})=>{const u=n.useCallback(c=>{var d;a({...e,selectedFilters:(d=e.selectedFilters)==null?void 0:d.filter(m=>!(m.name===c.name&&m.value===c.value))})},[e,a]);return l.jsxs(p,{direction:"vertical",gap:"4",className:"bg-theme-background-lvl-1 py-2 px-4 ",children:[l.jsxs(h,{children:[l.jsx(V,{filters:t,onChange:c=>{var m;((m=e.selectedFilters)==null?void 0:m.some(r=>r.name===c.name&&r.value===c.value))||a({...e,selectedFilters:[...e.selectedFilters||[],c]})}}),l.jsx(k,{label:"Clear all",className:"ml-4",onClick:()=>a({...e,selectedFilters:[]}),variant:"subdued"}),l.jsx(y,{placeholder:o||"search term for",className:"w-96 ml-auto","data-testid":"searchbar",value:e.searchTerm,onSearch:c=>{a({...e,searchTerm:c})},onClear:()=>a({...e,searchTerm:""})})]}),e.selectedFilters&&e.selectedFilters.length>0&&l.jsx(w,{selectedFilters:e.selectedFilters,onDelete:u})]})};export{G as F};
