import{p as x,j as l,K as i,q as p,H as b,r as h,s as j,t as v,k as F,R as V,W as k}from"./App-DRu_KzCf.js";import{a as o}from"./index-CmTL6-9U.js";const E=({filters:c,onChange:e})=>{const[a,d]=o.useState(""),[n,t]=o.useState(""),r=c.find(s=>s.filterName===a)?.values?.filter(s=>s),m=o.useCallback(s=>{t(s),!x.isEmpty(a)&&!x.isEmpty(s)&&e({name:a,value:s}),setTimeout(()=>{t("")},0)},[a,t,e]);return l.jsx(i,{alignment:"center",gap:"8",children:l.jsxs(p,{children:[l.jsx(b,{className:"filter-label-select w-64 mb-0",name:"filter","data-testid":"select-filterValue",label:"Filter",value:a,onChange:s=>{d(String(s))},children:c?.map(({displayName:s,filterName:u})=>l.jsx(h,{value:u,label:s,"data-testid":u},u))}),l.jsx(j,{className:"filter-value-select w-64 bg-theme-background-lvl-0",name:"filterValue","data-testid":"combobox-filterValue",value:n,disabled:!a,onChange:m,children:r?.map(s=>l.jsx(v,{value:s,label:s,"data-testid":s},s))})]})})},N=({selectedFilters:c,onDelete:e})=>l.jsx(i,{gap:"2",wrap:!0,children:c?.map(a=>l.jsx(F,{closeable:!0,pillKey:a.name,pillValue:a.value,onClose:()=>e(a)},`${name}:${a.value}`))}),C=({filters:c,filterSettings:e,onFilterChange:a,searchInputPlaceholder:d})=>{const n=o.useCallback(t=>{a({...e,selectedFilters:e.selectedFilters?.filter(r=>!(r.name===t.name&&r.value===t.value))})},[e,a]);return l.jsxs(i,{direction:"vertical",gap:"4",className:"bg-theme-background-lvl-1 py-2 px-4 ",children:[l.jsxs(p,{children:[l.jsx(E,{filters:c,onChange:t=>{e.selectedFilters?.some(m=>m.name===t.name&&m.value===t.value)||a({...e,selectedFilters:[...e.selectedFilters||[],t]})}}),l.jsx(V,{label:"Clear all",className:"ml-4",onClick:()=>a({...e,selectedFilters:[]}),variant:"subdued"}),l.jsx(k,{placeholder:d||"search term for",className:"w-96 ml-auto","data-testid":"searchbar",value:e.searchTerm,onSearch:t=>{a({...e,searchTerm:t})},onClear:()=>a({...e,searchTerm:""})})]}),e.selectedFilters&&e.selectedFilters.length>0&&l.jsx(N,{selectedFilters:e.selectedFilters,onDelete:n})]})};export{C as F};
