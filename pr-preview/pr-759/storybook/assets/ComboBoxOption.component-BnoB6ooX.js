import{j}from"./jsx-runtime-D6fbYt3N.js";import{r as p,e as N}from"./index-DysCNOs_.js";import{S as xe}from"./headlessui-float-CRaAej_Z.js";import{L as He}from"./Label.component-D1jWKEjF.js";import{F as ye}from"./FormHint.component-BZc1fwDf.js";import{I as me}from"./Icon.component-BqZJhSNn.js";import{S as Ue}from"./Spinner.component-T_IrXgUF.js";import{o as Ke,b as Je,f as Ye,s as Xe}from"./floating-ui.react-dom-t1-XbZXo.js";import{u as Qe}from"./PortalProvider.component-DJiEgPYG.js";import{r as Le}from"./index-DxCGxluL.js";import{T as Ge,e as Ze,u as et,s as tt,i as Oe}from"./form-DbO9dA4O.js";import{a as y,O as Ee,U as ie,u as oe,l as J,b as nt,p as Ie,s as ot,d as he,x as it,C as le,I as ue,y as de,q as lt,c as st,e as rt,f as at,g as ut,i as z,j as D,r as dt,k as Te,t as ct,m as Me,n as pt}from"./keyboard-BayCKsX5.js";import{F as ft}from"./use-tree-walker-sKJwDSu4.js";function ne(e,s,t){let n=t.initialDeps??[],o;return()=>{var l,i,a,c;let u;t.key&&((l=t.debug)!=null&&l.call(t))&&(u=Date.now());const f=e();if(!(f.length!==n.length||f.some((r,m)=>n[m]!==r)))return o;n=f;let w;if(t.key&&((i=t.debug)!=null&&i.call(t))&&(w=Date.now()),o=s(...f),t.key&&((a=t.debug)!=null&&a.call(t))){const r=Math.round((Date.now()-u)*100)/100,m=Math.round((Date.now()-w)*100)/100,C=m/16,x=(b,$)=>{for(b=String(b);b.length<$;)b=" "+b;return b};console.info(`%c⏱ ${x(m,5)} /${x(r,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*C,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(c=t==null?void 0:t.onChange)==null||c.call(t,o),o}}function Se(e,s){if(e===void 0)throw new Error("Unexpected undefined");return e}const mt=(e,s)=>Math.abs(e-s)<1,ht=(e,s,t)=>{let n;return function(...o){e.clearTimeout(n),n=e.setTimeout(()=>s.apply(this,o),t)}},bt=e=>e,vt=e=>{const s=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),n=[];for(let o=s;o<=t;o++)n.push(o);return n},gt=(e,s)=>{const t=e.scrollElement;if(!t)return;const n=e.targetWindow;if(!n)return;const o=i=>{const{width:a,height:c}=i;s({width:Math.round(a),height:Math.round(c)})};if(o(t.getBoundingClientRect()),!n.ResizeObserver)return()=>{};const l=new n.ResizeObserver(i=>{const a=i[0];if(a!=null&&a.borderBoxSize){const c=a.borderBoxSize[0];if(c){o({width:c.inlineSize,height:c.blockSize});return}}o(t.getBoundingClientRect())});return l.observe(t,{box:"border-box"}),()=>{l.unobserve(t)}},$e={passive:!0},xt=typeof window>"u"?!0:"onscrollend"in window,yt=(e,s)=>{const t=e.scrollElement;if(!t)return;const n=e.targetWindow;if(!n)return;let o=0;const l=xt?()=>{}:ht(n,()=>{s(o,!1)},e.options.isScrollingResetDelay),i=u=>()=>{const{horizontal:f,isRtl:v}=e.options;o=f?t.scrollLeft*(v&&-1||1):t.scrollTop,l(),s(o,u)},a=i(!0),c=i(!1);return c(),t.addEventListener("scroll",a,$e),t.addEventListener("scrollend",c,$e),()=>{t.removeEventListener("scroll",a),t.removeEventListener("scrollend",c)}},St=(e,s,t)=>{if(s!=null&&s.borderBoxSize){const n=s.borderBoxSize[0];if(n)return Math.round(n[t.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[t.options.horizontal?"width":"height"])},Ct=(e,{adjustments:s=0,behavior:t},n)=>{var o,l;const i=e+s;(l=(o=n.scrollElement)==null?void 0:o.scrollTo)==null||l.call(o,{[n.options.horizontal?"left":"top"]:i,behavior:t})};class Ot{constructor(s){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const n=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(o=>{o.forEach(l=>{this._measureElement(l.target,l)})}));return{disconnect:()=>{var o;(o=n())==null||o.disconnect(),t=null},observe:o=>{var l;return(l=n())==null?void 0:l.observe(o,{box:"border-box"})},unobserve:o=>{var l;return(l=n())==null?void 0:l.unobserve(o)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([n,o])=>{typeof o>"u"&&delete t[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:bt,rangeExtractor:vt,onChange:()=>{},measureElement:St,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,...t}},this.notify=t=>{var n,o;(o=(n=this.options).onChange)==null||o.call(n,this,t)},this.maybeNotify=ne(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this.elementsCache.forEach(o=>{this.observer.observe(o)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(o,l)=>{this.scrollAdjustments=0,this.scrollDirection=l?this.getScrollOffset()<o?"forward":"backward":null,this.scrollOffset=o,this.isScrolling=l,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,n)=>{const o=new Map,l=new Map;for(let i=n-1;i>=0;i--){const a=t[i];if(o.has(a.lane))continue;const c=l.get(a.lane);if(c==null||a.end>c.end?l.set(a.lane,a):a.end<c.end&&o.set(a.lane,!0),o.size===this.options.lanes)break}return l.size===this.options.lanes?Array.from(l.values()).sort((i,a)=>i.end===a.end?i.index-a.index:i.end-a.end)[0]:void 0},this.getMeasurementOptions=ne(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,n,o,l,i)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:n,scrollMargin:o,getItemKey:l,enabled:i}),{key:!1}),this.getMeasurements=ne(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:n,scrollMargin:o,getItemKey:l,enabled:i},a)=>{if(!i)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(f=>{this.itemSizeCache.set(f.key,f.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,c);for(let f=c;f<t;f++){const v=l(f),w=this.options.lanes===1?u[f-1]:this.getFurthestMeasurement(u,f),r=w?w.end+this.options.gap:n+o,m=a.get(v),C=typeof m=="number"?m:this.options.estimateSize(f),x=r+C,b=w?w.lane:f%this.options.lanes;u[f]={index:f,start:r,size:C,end:x,key:v,lane:b}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ne(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(t,n,o)=>this.range=t.length>0&&n>0?It({measurements:t,outerSize:n,scrollOffset:o}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=ne(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(t,n,o,l)=>n===null?[]:t({startIndex:n.startIndex,endIndex:n.endIndex,overscan:o,count:l}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const n=this.options.indexAttribute,o=t.getAttribute(n);return o?parseInt(o,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(t,n)=>{const o=this.indexFromElement(t),l=this.measurementsCache[o];if(!l)return;const i=l.key,a=this.elementsCache.get(i);a!==t&&(a&&this.observer.unobserve(a),this.observer.observe(t),this.elementsCache.set(i,t)),t.isConnected&&this.resizeItem(o,this.options.measureElement(t,n,this))},this.resizeItem=(t,n)=>{const o=this.measurementsCache[t];if(!o)return;const l=this.itemSizeCache.get(o.key)??o.size,i=n-l;i!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(o,i,this):o.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(o.index),this.itemSizeCache=new Map(this.itemSizeCache.set(o.key,n)),this.notify(!1))},this.measureElement=t=>{if(!t){this.elementsCache.forEach((n,o)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(o))});return}this._measureElement(t,void 0)},this.getVirtualItems=ne(()=>[this.getIndexes(),this.getMeasurements()],(t,n)=>{const o=[];for(let l=0,i=t.length;l<i;l++){const a=t[l],c=n[a];o.push(c)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const n=this.getMeasurements();if(n.length!==0)return Se(n[Pe(0,n.length-1,o=>Se(n[o]).start,t)])},this.getOffsetForAlignment=(t,n)=>{const o=this.getSize(),l=this.getScrollOffset();n==="auto"&&(t<=l?n="start":t>=l+o?n="end":n="start"),n==="start"?t=t:n==="end"?t=t-o:n==="center"&&(t=t-o/2);const i=this.options.horizontal?"scrollWidth":"scrollHeight",c=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[i]:this.scrollElement[i]:0)-o;return Math.max(Math.min(c,t),0)},this.getOffsetForIndex=(t,n="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const o=this.measurementsCache[t];if(!o)return;const l=this.getSize(),i=this.getScrollOffset();if(n==="auto")if(o.end>=i+l-this.options.scrollPaddingEnd)n="end";else if(o.start<=i+this.options.scrollPaddingStart)n="start";else return[i,n];const a=n==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,n),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(t,{align:n="start",behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,n),{adjustments:void 0,behavior:o})},this.scrollToIndex=(t,{align:n="auto",behavior:o}={})=>{t=Math.max(0,Math.min(t,this.options.count-1)),this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const l=this.getOffsetForIndex(t,n);if(!l)return;const[i,a]=l;this._scrollToOffset(i,{adjustments:void 0,behavior:o}),o!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(t))){const[u]=Se(this.getOffsetForIndex(t,a));mt(u,this.getScrollOffset())||this.scrollToIndex(t,{align:a,behavior:o})}else this.scrollToIndex(t,{align:a,behavior:o})}))},this.scrollBy=(t,{behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var t;const n=this.getMeasurements();let o;return n.length===0?o=this.options.paddingStart:o=this.options.lanes===1?((t=n[n.length-1])==null?void 0:t.end)??0:Math.max(...n.slice(-this.options.lanes).map(l=>l.end)),Math.max(o-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(t,{adjustments:n,behavior:o})=>{this.options.scrollToFn(t,{behavior:o,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(s)}}const Pe=(e,s,t,n)=>{for(;e<=s;){const o=(e+s)/2|0,l=t(o);if(l<n)e=o+1;else if(l>n)s=o-1;else return o}return e>0?e-1:0};function It({measurements:e,outerSize:s,scrollOffset:t}){const n=e.length-1,l=Pe(0,n,a=>e[a].start,t);let i=l;for(;i<n&&e[i].end<t+s;)i++;return{startIndex:l,endIndex:i}}const jt=typeof document<"u"?p.useLayoutEffect:p.useEffect;function wt(e){const s=p.useReducer(()=>({}),{})[1],t={...e,onChange:(o,l)=>{var i;l?Le.flushSync(s):s(),(i=e.onChange)==null||i.call(e,o,l)}},[n]=p.useState(()=>new Ot(t));return n.setOptions(t),p.useEffect(()=>n._didMount(),[]),jt(()=>n._willUpdate()),n}function Rt(e){return wt({observeElementRect:gt,observeElementOffset:yt,scrollToFn:Ct,...e})}function Ve(e,s){let t=p.useRef([]),n=y(e);p.useEffect(()=>{let o=[...t.current];for(let[l,i]of s.entries())if(t.current[l]!==i){let a=n(s,o);return t.current=s,a}},[n,...s])}function Et(e){function s(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",s))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",s),s())}let G=[];Et(()=>{function e(s){s.target instanceof HTMLElement&&s.target!==document.body&&G[0]!==s.target&&(G.unshift(s.target),G=G.filter(t=>t!=null&&t.isConnected),G.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});var Tt={},Mt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Mt||{}),$t=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))($t||{}),Vt=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(Vt||{}),zt=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.RegisterOption=3]="RegisterOption",e[e.UnregisterOption=4]="UnregisterOption",e[e.RegisterLabel=5]="RegisterLabel",e[e.SetActivationTrigger=6]="SetActivationTrigger",e[e.UpdateVirtualOptions=7]="UpdateVirtualOptions",e))(zt||{});function Ce(e,s=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=s(e.options.slice()),o=n.length>0&&n[0].dataRef.current.order!==null?n.sort((i,a)=>i.dataRef.current.order-a.dataRef.current.order):pt(n,i=>i.dataRef.current.domRef.current),l=t?o.indexOf(t):null;return l===-1&&(l=null),{options:o,activeOptionIndex:l}}let _t={1(e){var s;return(s=e.dataRef.current)!=null&&s.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1}},0(e){var s,t;if((s=e.dataRef.current)!=null&&s.disabled||e.comboboxState===0)return e;if((t=e.dataRef.current)!=null&&t.value){let n=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(n!==-1)return{...e,activeOptionIndex:n,comboboxState:0}}return{...e,comboboxState:0}},2(e,s){var t,n,o,l,i;if((t=e.dataRef.current)!=null&&t.disabled||(n=e.dataRef.current)!=null&&n.optionsRef.current&&!((o=e.dataRef.current)!=null&&o.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let f=s.focus===z.Specific?s.idx:Me(s,{resolveItems:()=>e.virtual.options,resolveActiveIndex:()=>{var w,r;return(r=(w=e.activeOptionIndex)!=null?w:e.virtual.options.findIndex(m=>!e.virtual.disabled(m)))!=null?r:null},resolveDisabled:e.virtual.disabled,resolveId(){throw new Error("Function not implemented.")}}),v=(l=s.trigger)!=null?l:2;return e.activeOptionIndex===f&&e.activationTrigger===v?e:{...e,activeOptionIndex:f,activationTrigger:v}}let a=Ce(e);if(a.activeOptionIndex===null){let f=a.options.findIndex(v=>!v.dataRef.current.disabled);f!==-1&&(a.activeOptionIndex=f)}let c=s.focus===z.Specific?s.idx:Me(s,{resolveItems:()=>a.options,resolveActiveIndex:()=>a.activeOptionIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled}),u=(i=s.trigger)!=null?i:2;return e.activeOptionIndex===c&&e.activationTrigger===u?e:{...e,...a,activeOptionIndex:c,activationTrigger:u}},3:(e,s)=>{var t,n,o;if((t=e.dataRef.current)!=null&&t.virtual)return{...e,options:[...e.options,s.payload]};let l=s.payload,i=Ce(e,c=>(c.push(l),c));e.activeOptionIndex===null&&(n=e.dataRef.current)!=null&&n.isSelected(s.payload.dataRef.current.value)&&(i.activeOptionIndex=i.options.indexOf(l));let a={...e,...i,activationTrigger:2};return(o=e.dataRef.current)!=null&&o.__demoMode&&e.dataRef.current.value===void 0&&(a.activeOptionIndex=0),a},4:(e,s)=>{var t;if((t=e.dataRef.current)!=null&&t.virtual)return{...e,options:e.options.filter(o=>o.id!==s.id)};let n=Ce(e,o=>{let l=o.findIndex(i=>i.id===s.id);return l!==-1&&o.splice(l,1),o});return{...e,...n,activationTrigger:2}},5:(e,s)=>e.labelId===s.id?e:{...e,labelId:s.id},6:(e,s)=>e.activationTrigger===s.trigger?e:{...e,activationTrigger:s.trigger},7:(e,s)=>{var t;if(((t=e.virtual)==null?void 0:t.options)===s.options)return e;let n=e.activeOptionIndex;if(e.activeOptionIndex!==null){let o=s.options.indexOf(e.virtual.options[e.activeOptionIndex]);o!==-1?n=o:n=null}return{...e,activeOptionIndex:n,virtual:Object.assign({},e.virtual,{options:s.options})}}},je=p.createContext(null);je.displayName="ComboboxActionsContext";function ce(e){let s=p.useContext(je);if(s===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ce),t}return s}let Fe=p.createContext(null);function Lt(e){var s;let t=Z("VirtualProvider"),[n,o]=p.useMemo(()=>{let c=t.optionsRef.current;if(!c)return[0,0];let u=window.getComputedStyle(c);return[parseFloat(u.paddingBlockStart||u.paddingTop),parseFloat(u.paddingBlockEnd||u.paddingBottom)]},[t.optionsRef.current]),l=Rt({scrollPaddingStart:n,scrollPaddingEnd:o,count:t.virtual.options.length,estimateSize(){return 40},getScrollElement(){var c;return(c=t.optionsRef.current)!=null?c:null},overscan:12}),[i,a]=p.useState(0);return J(()=>{a(c=>c+1)},[(s=t.virtual)==null?void 0:s.options]),N.createElement(Fe.Provider,{value:l},N.createElement("div",{style:{position:"relative",width:"100%",height:`${l.getTotalSize()}px`},ref:c=>{if(c){if(typeof process<"u"&&Tt.JEST_WORKER_ID!==void 0||t.activationTrigger===0)return;t.activeOptionIndex!==null&&t.virtual.options.length>t.activeOptionIndex&&l.scrollToIndex(t.activeOptionIndex)}}},l.getVirtualItems().map(c=>{var u;return N.createElement(p.Fragment,{key:c.key},N.cloneElement((u=e.children)==null?void 0:u.call(e,{option:t.virtual.options[c.index],open:t.comboboxState===0}),{key:`${i}-${c.key}`,"data-index":c.index,"aria-setsize":t.virtual.options.length,"aria-posinset":c.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:"none"}}))})))}let we=p.createContext(null);we.displayName="ComboboxDataContext";function Z(e){let s=p.useContext(we);if(s===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Z),t}return s}function Pt(e,s){return oe(s.type,_t,e,s)}let Ft=p.Fragment;function At(e,s){let{value:t,defaultValue:n,onChange:o,form:l,name:i,by:a=null,disabled:c=!1,__demoMode:u=!1,nullable:f=!1,multiple:v=!1,immediate:w=!1,virtual:r=null,...m}=e,C=!1,x=null,[b=v?[]:void 0,$]=Ge(t,o,n),[V,M]=p.useReducer(Pt,{dataRef:p.createRef(),comboboxState:u?0:1,options:[],virtual:null,activeOptionIndex:null,activationTrigger:2,labelId:null}),L=p.useRef(!1),K=p.useRef({static:!1,hold:!1}),W=p.useRef(null),Y=p.useRef(null),X=p.useRef(null),R=p.useRef(null),O=y(typeof a=="string"?(h,S)=>{let A=a;return(h==null?void 0:h[A])===(S==null?void 0:S[A])}:a??((h,S)=>h===S)),E=y(h=>V.options.findIndex(S=>O(S.dataRef.current.value,h))),ee=p.useCallback(h=>oe(d.mode,{1:()=>b.some(S=>O(S,h)),0:()=>O(b,h)}),[b]),te=y(h=>V.activeOptionIndex===E(h)),d=p.useMemo(()=>({...V,immediate:C,optionsPropsRef:K,labelRef:W,inputRef:Y,buttonRef:X,optionsRef:R,value:b,defaultValue:n,disabled:c,mode:v?1:0,virtual:V.virtual,get activeOptionIndex(){if(L.current&&V.activeOptionIndex===null&&V.options.length>0){let h=V.options.findIndex(S=>!S.dataRef.current.disabled);if(h!==-1)return h}return V.activeOptionIndex},calculateIndex:E,compare:O,isSelected:ee,isActive:te,nullable:f,__demoMode:u}),[b,n,c,v,f,u,V,x]);J(()=>{},[x,void 0]),J(()=>{V.dataRef.current=d},[d]),nt([d.buttonRef,d.inputRef,d.optionsRef],()=>se.closeCombobox(),d.comboboxState===0);let _=p.useMemo(()=>{var h,S,A;return{open:d.comboboxState===0,disabled:c,activeIndex:d.activeOptionIndex,activeOption:d.activeOptionIndex===null?null:d.virtual?d.virtual.options[(h=d.activeOptionIndex)!=null?h:0]:(A=(S=d.options[d.activeOptionIndex])==null?void 0:S.dataRef.current.value)!=null?A:null,value:b}},[d,c,b]),T=y(()=>{if(d.activeOptionIndex!==null){if(d.virtual)H(d.virtual.options[d.activeOptionIndex]);else{let{dataRef:h}=d.options[d.activeOptionIndex];H(h.current.value)}se.goToOption(z.Specific,d.activeOptionIndex)}}),k=y(()=>{M({type:0}),L.current=!0}),I=y(()=>{M({type:1}),L.current=!1}),P=y((h,S,A)=>(L.current=!1,h===z.Specific?M({type:2,focus:z.Specific,idx:S,trigger:A}):M({type:2,focus:h,trigger:A}))),F=y((h,S)=>(M({type:3,payload:{id:h,dataRef:S}}),()=>{d.isActive(S.current.value)&&(L.current=!0),M({type:4,id:h})})),be=y(h=>(M({type:5,id:h}),()=>M({type:5,id:null}))),H=y(h=>oe(d.mode,{0(){return $==null?void 0:$(h)},1(){let S=d.value.slice(),A=S.findIndex(Q=>O(Q,h));return A===-1?S.push(h):S.splice(A,1),$==null?void 0:$(S)}})),ve=y(h=>{M({type:6,trigger:h})}),se=p.useMemo(()=>({onChange:H,registerOption:F,registerLabel:be,goToOption:P,closeCombobox:I,openCombobox:k,setActivationTrigger:ve,selectActiveOption:T}),[]),pe=s===null?{}:{ref:s},U=p.useRef(null),ge=Ie();return p.useEffect(()=>{U.current&&n!==void 0&&ge.addEventListener(U.current,"reset",()=>{$==null||$(n)})},[U,$]),N.createElement(je.Provider,{value:se},N.createElement(we.Provider,{value:d},N.createElement(ot,{value:oe(d.comboboxState,{0:he.Open,1:he.Closed})},i!=null&&b!=null&&Ze({[i]:b}).map(([h,S],A)=>N.createElement(et,{features:tt.Hidden,ref:A===0?Q=>{var re;U.current=(re=Q==null?void 0:Q.closest("form"))!=null?re:null}:void 0,...it({key:h,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:l,disabled:c,name:h,value:S})})),le({ourProps:pe,theirProps:m,slot:_,defaultTag:Ft,name:"Combobox"}))))}let kt="input";function Bt(e,s){var t,n,o,l,i;let a=ue(),{id:c=`headlessui-combobox-input-${a}`,onChange:u,displayValue:f,type:v="text",...w}=e,r=Z("Combobox.Input"),m=ce("Combobox.Input"),C=de(r.inputRef,s),x=lt(r.inputRef),b=p.useRef(!1),$=Ie(),V=y(()=>{m.onChange(null),r.optionsRef.current&&(r.optionsRef.current.scrollTop=0),m.goToOption(z.Nothing)}),M=function(){var d;return typeof f=="function"&&r.value!==void 0?(d=f(r.value))!=null?d:"":typeof r.value=="string"?r.value:""}();Ve(([d,_],[T,k])=>{if(b.current)return;let I=r.inputRef.current;I&&((k===0&&_===1||d!==T)&&(I.value=d),requestAnimationFrame(()=>{if(b.current||!I||(x==null?void 0:x.activeElement)!==I)return;let{selectionStart:P,selectionEnd:F}=I;Math.abs((F??0)-(P??0))===0&&P===0&&I.setSelectionRange(I.value.length,I.value.length)}))},[M,r.comboboxState,x]),Ve(([d],[_])=>{if(d===0&&_===1){if(b.current)return;let T=r.inputRef.current;if(!T)return;let k=T.value,{selectionStart:I,selectionEnd:P,selectionDirection:F}=T;T.value="",T.value=k,F!==null?T.setSelectionRange(I,P,F):T.setSelectionRange(I,P)}},[r.comboboxState]);let L=p.useRef(!1),K=y(()=>{L.current=!0}),W=y(()=>{$.nextFrame(()=>{L.current=!1})}),Y=y(d=>{switch(b.current=!0,d.key){case D.Enter:if(b.current=!1,r.comboboxState!==0||L.current)return;if(d.preventDefault(),d.stopPropagation(),r.activeOptionIndex===null){m.closeCombobox();return}m.selectActiveOption(),r.mode===0&&m.closeCombobox();break;case D.ArrowDown:return b.current=!1,d.preventDefault(),d.stopPropagation(),oe(r.comboboxState,{0:()=>m.goToOption(z.Next),1:()=>m.openCombobox()});case D.ArrowUp:return b.current=!1,d.preventDefault(),d.stopPropagation(),oe(r.comboboxState,{0:()=>m.goToOption(z.Previous),1:()=>{m.openCombobox(),$.nextFrame(()=>{r.value||m.goToOption(z.Last)})}});case D.Home:if(d.shiftKey)break;return b.current=!1,d.preventDefault(),d.stopPropagation(),m.goToOption(z.First);case D.PageUp:return b.current=!1,d.preventDefault(),d.stopPropagation(),m.goToOption(z.First);case D.End:if(d.shiftKey)break;return b.current=!1,d.preventDefault(),d.stopPropagation(),m.goToOption(z.Last);case D.PageDown:return b.current=!1,d.preventDefault(),d.stopPropagation(),m.goToOption(z.Last);case D.Escape:return b.current=!1,r.comboboxState!==0?void 0:(d.preventDefault(),r.optionsRef.current&&!r.optionsPropsRef.current.static&&d.stopPropagation(),r.nullable&&r.mode===0&&r.value===null&&V(),m.closeCombobox());case D.Tab:if(b.current=!1,r.comboboxState!==0)return;r.mode===0&&r.activationTrigger!==1&&m.selectActiveOption(),m.closeCombobox();break}}),X=y(d=>{u==null||u(d),r.nullable&&r.mode===0&&d.target.value===""&&V(),m.openCombobox()}),R=y(d=>{var _,T,k;let I=(_=d.relatedTarget)!=null?_:G.find(P=>P!==d.currentTarget);if(b.current=!1,!((T=r.optionsRef.current)!=null&&T.contains(I))&&!((k=r.buttonRef.current)!=null&&k.contains(I))&&r.comboboxState===0)return d.preventDefault(),r.mode===0&&(r.nullable&&r.value===null?V():r.activationTrigger!==1&&m.selectActiveOption()),m.closeCombobox()}),O=y(d=>{var _,T,k;let I=(_=d.relatedTarget)!=null?_:G.find(P=>P!==d.currentTarget);(T=r.buttonRef.current)!=null&&T.contains(I)||(k=r.optionsRef.current)!=null&&k.contains(I)||r.disabled||r.immediate&&r.comboboxState!==0&&(m.openCombobox(),$.nextFrame(()=>{m.setActivationTrigger(1)}))}),E=Oe(()=>{if(r.labelId)return[r.labelId].join(" ")},[r.labelId]),ee=p.useMemo(()=>({open:r.comboboxState===0,disabled:r.disabled}),[r]),te={ref:C,id:c,role:"combobox",type:v,"aria-controls":(t=r.optionsRef.current)==null?void 0:t.id,"aria-expanded":r.comboboxState===0,"aria-activedescendant":r.activeOptionIndex===null?void 0:r.virtual?(n=r.options.find(d=>{var _;return!((_=r.virtual)!=null&&_.disabled(d.dataRef.current.value))&&r.compare(d.dataRef.current.value,r.virtual.options[r.activeOptionIndex])}))==null?void 0:n.id:(o=r.options[r.activeOptionIndex])==null?void 0:o.id,"aria-labelledby":E,"aria-autocomplete":"list",defaultValue:(i=(l=e.defaultValue)!=null?l:r.defaultValue!==void 0?f==null?void 0:f(r.defaultValue):null)!=null?i:r.defaultValue,disabled:r.disabled,onCompositionStart:K,onCompositionEnd:W,onKeyDown:Y,onChange:X,onFocus:O,onBlur:R};return le({ourProps:te,theirProps:w,slot:ee,defaultTag:kt,name:"Combobox.Input"})}let Dt="button";function Nt(e,s){var t;let n=Z("Combobox.Button"),o=ce("Combobox.Button"),l=de(n.buttonRef,s),i=ue(),{id:a=`headlessui-combobox-button-${i}`,...c}=e,u=Ie(),f=y(C=>{switch(C.key){case D.ArrowDown:return C.preventDefault(),C.stopPropagation(),n.comboboxState===1&&o.openCombobox(),u.nextFrame(()=>{var x;return(x=n.inputRef.current)==null?void 0:x.focus({preventScroll:!0})});case D.ArrowUp:return C.preventDefault(),C.stopPropagation(),n.comboboxState===1&&(o.openCombobox(),u.nextFrame(()=>{n.value||o.goToOption(z.Last)})),u.nextFrame(()=>{var x;return(x=n.inputRef.current)==null?void 0:x.focus({preventScroll:!0})});case D.Escape:return n.comboboxState!==0?void 0:(C.preventDefault(),n.optionsRef.current&&!n.optionsPropsRef.current.static&&C.stopPropagation(),o.closeCombobox(),u.nextFrame(()=>{var x;return(x=n.inputRef.current)==null?void 0:x.focus({preventScroll:!0})}));default:return}}),v=y(C=>{if(dt(C.currentTarget))return C.preventDefault();n.comboboxState===0?o.closeCombobox():(C.preventDefault(),o.openCombobox()),u.nextFrame(()=>{var x;return(x=n.inputRef.current)==null?void 0:x.focus({preventScroll:!0})})}),w=Oe(()=>{if(n.labelId)return[n.labelId,a].join(" ")},[n.labelId,a]),r=p.useMemo(()=>({open:n.comboboxState===0,disabled:n.disabled,value:n.value}),[n]),m={ref:l,id:a,type:st(e,n.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(t=n.optionsRef.current)==null?void 0:t.id,"aria-expanded":n.comboboxState===0,"aria-labelledby":w,disabled:n.disabled,onClick:v,onKeyDown:f};return le({ourProps:m,theirProps:c,slot:r,defaultTag:Dt,name:"Combobox.Button"})}let qt="label";function Wt(e,s){let t=ue(),{id:n=`headlessui-combobox-label-${t}`,...o}=e,l=Z("Combobox.Label"),i=ce("Combobox.Label"),a=de(l.labelRef,s);J(()=>i.registerLabel(n),[n]);let c=y(()=>{var f;return(f=l.inputRef.current)==null?void 0:f.focus({preventScroll:!0})}),u=p.useMemo(()=>({open:l.comboboxState===0,disabled:l.disabled}),[l]);return le({ourProps:{ref:a,id:n,onClick:c},theirProps:o,slot:u,defaultTag:qt,name:"Combobox.Label"})}let Ht="ul",Ut=Ee.RenderStrategy|Ee.Static;function Kt(e,s){let t=ue(),{id:n=`headlessui-combobox-options-${t}`,hold:o=!1,...l}=e,i=Z("Combobox.Options"),a=de(i.optionsRef,s),c=rt(),u=c!==null?(c&he.Open)===he.Open:i.comboboxState===0;J(()=>{var r;i.optionsPropsRef.current.static=(r=e.static)!=null?r:!1},[i.optionsPropsRef,e.static]),J(()=>{i.optionsPropsRef.current.hold=o},[i.optionsPropsRef,o]),ft({container:i.optionsRef.current,enabled:i.comboboxState===0,accept(r){return r.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:r.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(r){r.setAttribute("role","none")}});let f=Oe(()=>{var r,m;return(m=i.labelId)!=null?m:(r=i.buttonRef.current)==null?void 0:r.id},[i.labelId,i.buttonRef.current]),v=p.useMemo(()=>({open:i.comboboxState===0,option:void 0}),[i]),w={"aria-labelledby":f,role:"listbox","aria-multiselectable":i.mode===1?!0:void 0,id:n,ref:a};return i.virtual&&i.comboboxState===0&&Object.assign(l,{children:N.createElement(Lt,null,l.children)}),le({ourProps:w,theirProps:l,slot:v,defaultTag:Ht,features:Ut,visible:u,name:"Combobox.Options"})}let Jt="li";function Yt(e,s){var t;let n=ue(),{id:o=`headlessui-combobox-option-${n}`,disabled:l=!1,value:i,order:a=null,...c}=e,u=Z("Combobox.Option"),f=ce("Combobox.Option"),v=u.virtual?u.activeOptionIndex===u.calculateIndex(i):u.activeOptionIndex===null?!1:((t=u.options[u.activeOptionIndex])==null?void 0:t.id)===o,w=u.isSelected(i),r=p.useRef(null),m=at({disabled:l,value:i,domRef:r,order:a}),C=p.useContext(Fe),x=de(s,r,C?C.measureElement:null),b=y(()=>f.onChange(i));J(()=>f.registerOption(o,m),[m,o]);let $=p.useRef(!(u.virtual||u.__demoMode));J(()=>{if(!u.virtual||!u.__demoMode)return;let R=Te();return R.requestAnimationFrame(()=>{$.current=!0}),R.dispose},[u.virtual,u.__demoMode]),J(()=>{if(!$.current||u.comboboxState!==0||!v||u.activationTrigger===0)return;let R=Te();return R.requestAnimationFrame(()=>{var O,E;(E=(O=r.current)==null?void 0:O.scrollIntoView)==null||E.call(O,{block:"nearest"})}),R.dispose},[r,v,u.comboboxState,u.activationTrigger,u.activeOptionIndex]);let V=y(R=>{var O;if(l||(O=u.virtual)!=null&&O.disabled(i))return R.preventDefault();b(),ct()||requestAnimationFrame(()=>{var E;return(E=u.inputRef.current)==null?void 0:E.focus({preventScroll:!0})}),u.mode===0&&requestAnimationFrame(()=>f.closeCombobox())}),M=y(()=>{var R;if(l||(R=u.virtual)!=null&&R.disabled(i))return f.goToOption(z.Nothing);let O=u.calculateIndex(i);f.goToOption(z.Specific,O)}),L=ut(),K=y(R=>L.update(R)),W=y(R=>{var O;if(!L.wasMoved(R)||l||(O=u.virtual)!=null&&O.disabled(i)||v)return;let E=u.calculateIndex(i);f.goToOption(z.Specific,E,0)}),Y=y(R=>{var O;L.wasMoved(R)&&(l||(O=u.virtual)!=null&&O.disabled(i)||v&&(u.optionsPropsRef.current.hold||f.goToOption(z.Nothing)))}),X=p.useMemo(()=>({active:v,selected:w,disabled:l}),[v,w,l]);return le({ourProps:{id:o,ref:x,role:"option",tabIndex:l===!0?void 0:-1,"aria-disabled":l===!0?!0:void 0,"aria-selected":w,disabled:void 0,onClick:V,onFocus:M,onPointerEnter:K,onMouseEnter:K,onPointerMove:W,onMouseMove:W,onPointerLeave:Y,onMouseLeave:Y},theirProps:c,slot:X,defaultTag:Jt,name:"Combobox.Option"})}let Xt=ie(At),Qt=ie(Nt),Gt=ie(Bt),Zt=ie(Wt),en=ie(Kt),tn=ie(Yt),ae=Object.assign(Xt,{Input:Gt,Button:Qt,Label:Zt,Options:en,Option:tn});const nn=`
  jn-relative
`,on=`
  jn-pointer-events-none
  jn-top-2
  jn-left-[0.9375rem]
`,ln=`
  jn-rounded-3px
  jn-bg-theme-textinput
  jn-text-theme-textinput
  jn-border
  jn-text-base
  jn-leading-4
  jn-w-full
  jn-px-4
  jn-h-textinput
  jn-text-left
  jn-overflow-hidden
  jn-text-ellipsis
  jn-whitespace-nowrap
  focus:jn-outline-none
  focus:jn-ring-2
  focus:jn-ring-theme-focus
`,sn=`
  jn-pt-[1.125rem] 
  jn-pb-1
`,rn=`
  jn-py-4
`,an=`
  jn-cursor-not-allowed
  jn-pointer-events-none
  jn-opacity-50
`,un=`
  jn-border-theme-textinput-default
`,dn=`
  jn-border-theme-success
`,cn=`
  jn-border-theme-error
`,pn=`
  jn-absolute
  jn-top-0
  jn-right-0
  jn-h-textinput
  jn-w-6
  jn-h-4
  jn-border-l-0
  jn-border-y-[1px]
  jn-border-r-[1px]
  jn-rounded-tr
  jn-rounded-br
  jn-appearance-none
  jn-bg-theme-textinput
  jn-text-theme-textinput
`,fn=`
  jn-border-theme-textinput-default
`,mn=`
  jn-border-theme-error
`,hn=`
  jn-border-theme-success
`,bn=`
  jn-cursor-not-allowed
  jn-pointer-events-none
  jn-bg-transparent
  jn-opacity-50
`,vn=`
  jn-rounded
  jn-bg-theme-background-lvl-1
  jn-w-full
  jn-overflow-y-auto
`,gn=`
  jn-absolute
  jn-top-[.4rem]
  jn-right-6
`,xn=`
  jn-absolute
  jn-top-1/2
  jn-left-1/2
  jn-translate-y-[-50%]
  jn-translate-x-[-0.75rem]
`,Ae=p.createContext(void 0),ze=({ariaLabel:e,children:s,className:t="",defaultValue:n="",disabled:o=!1,error:l=!1,errortext:i="",helptext:a="",id:c="",invalid:u=!1,loading:f=!1,label:v,name:w="",nullable:r=!0,onBlur:m,onChange:C,onFocus:x,onInputChange:b,placeholder:$="Select…",required:V=!1,successtext:M="",truncateOptions:L=!1,valid:K=!1,value:W="",valueLabel:Y,width:X="full",wrapperClassName:R="",...O})=>{const E=g=>!(typeof g=="string"&&g.trim().length===0),ee=c||"juno-combobox-"+p.useId(),te="juno-combobox-helptext-"+p.useId(),[d,_]=p.useState(new Map),[T,k]=p.useState(""),[I,P]=p.useState(W),[F,be]=p.useState(!1),[H,ve]=p.useState(!1),[se,pe]=p.useState(!1),[U,ge]=p.useState(!1),[h,S]=p.useState(!1),A=(g,B,q)=>{_(fe=>new Map(fe).set(g||q,{val:g,label:B,children:q}))},Q=p.useMemo(()=>u||!!(i&&E(i)),[u,i]),re=p.useMemo(()=>K||!!(M&&E(M)),[K,M]);p.useEffect(()=>{P(W)},[W]),p.useEffect(()=>{ve(l)},[l]),p.useEffect(()=>{be(f)},[f]),p.useEffect(()=>{ge(Q)},[Q]),p.useEffect(()=>{S(re)},[re]);const ke=g=>{P(g),C&&C(g)},Be=g=>{var B;k((B=g==null?void 0:g.target)==null?void 0:B.value),b&&b(g)},De=g=>{pe(!0),x&&x(g)},Ne=g=>{pe(!1),m&&m(g)},Re=Qe(),qe=[Ke(4),Je(),Ye(),Xe({rootBoundary:"viewport",apply({availableWidth:g,availableHeight:B,elements:q}){Object.assign(q.floating.style,{maxWidth:`${g}px`,maxHeight:`${B}px`,overflowY:"auto"})}})],We=T===""?N.Children.toArray(s):N.Children.toArray(s).filter(g=>{var B;if(N.isValidElement(g)){const q=((B=g.props.children)==null?void 0:B.toString())||g.props.label||g.props.value;return q==null?void 0:q.toLowerCase().includes(T.toLowerCase())}else return!1});return j.jsx(Ae.Provider,{value:{selectedValue:I,truncateOptions:L,addOptionValueAndLabel:A},children:j.jsxs("div",{className:`
          juno-combobox-wrapper
          jn-relative
          ${X=="auto"?"jn-inline-block":"jn-block"}
          ${X=="auto"?"jn-w-auto":"jn-w-full"}
          ${R}
        `,children:[j.jsx(ae,{defaultValue:n,disabled:o||F||H,name:w,nullable:r,onChange:ke,value:I||n,...O,children:j.jsxs(xe,{composable:!0,adaptiveWidth:!0,middleware:qe,children:[j.jsx(xe.Reference,{children:j.jsxs("div",{className:`
                juno-combobox-input-wrapper
                ${nn}
                ${o?"jn-cursor-not-allowed":""}
              `,children:[v&&E(v)&&!F&&!H?j.jsx(He,{text:v,disabled:o,required:V,htmlFor:ee,className:`${on}`,floating:!0,minimized:!!($||se||T&&E(T)||I&&E(I))}):"",j.jsx(ae.Input,{autoComplete:"off","aria-label":e||v,"aria-describedby":a?te:"",id:ee,onBlur:Ne,onChange:Be,onFocus:De,placeholder:!F&&!H?$:"",displayValue:g=>{var B,q,fe;return((q=(B=d.get(g))==null?void 0:B.children)==null?void 0:q.toString())||((fe=d.get(g))==null?void 0:fe.label)||Y||(g==null?void 0:g.toString())||""},className:`
                  juno-combobox-input 
                  ${ln} 
                  ${v&&E(v)?sn:rn}
                  ${o?an:""}
                  ${U?"juno-combobox-invalid "+cn:""} 
                  ${h?"juno-combobox-valid "+dn:""}  
                  ${h||U?"":un} 
                  ${F?"juno-combobox-loading jn-cursor-not-allowed":""}
                  ${H?"juno-combobox-error jn-cursor-not-allowed":""}
                  ${t}
                `}),F||H?j.jsx("span",{className:`${xn}`,children:F?j.jsx(Ue,{className:"jn-cursor-not-allowed"}):j.jsx(me,{icon:"errorOutline",color:"jn-text-theme-error",className:"jn-cursor-not-allowed"})}):h||U?j.jsx("span",{className:`
                        juno-combobox-icon-container 
                        ${gn} 
                        ${o?"jn-opacity-50":""}
                      `,children:j.jsx(me,{icon:h?"checkCircle":"dangerous",color:h?"jn-text-theme-success":"jn-text-theme-error"})}):"",!H&&!F?j.jsx(ae.Button,{className:`
                        juno-combobox-toggle 
                        ${pn}
                        ${o?bn:""}
                        ${U?"juno-combobox-toggle-invalid "+mn:""} 
                        ${h?"juno-combobox-toggle-valid "+hn:""}  
                        ${h||U?"":fn} 
                      `,children:({open:g})=>j.jsx(me,{icon:g?"expandLess":"expandMore"})}):null]})}),Le.createPortal(j.jsx(xe.Content,{children:j.jsx(ae.Options,{unmount:!1,className:`
                    juno-combobox-options 
                    ${vn}
                  `,children:We})}),Re||document.body)]})}),i&&E(i)?j.jsx(ye,{text:i,variant:"error"}):"",M&&E(M)?j.jsx(ye,{text:M,variant:"success"}):"",a&&E(a)?j.jsx(ye,{text:a,id:te}):""]})})};try{ze.displayName="ComboBox",ze.__docgenInfo={description:"",displayName:"ComboBox",props:{ariaLabel:{defaultValue:null,description:"The aria-label of the ComboBox. Defaults to the label if label was passed.",name:"ariaLabel",required:!1,type:{name:"string"}},children:{defaultValue:null,description:"The children to Render. Use `ComboBox.Option` elements.",name:"children",required:!1,type:{name:"ReactNode"}},className:{defaultValue:{value:""},description:"A custom className. Will be passed to the internal text input element of the ComboBox",name:"className",required:!1,type:{name:"string"}},defaultValue:{defaultValue:{value:""},description:"Pass a defaultValue to use as an uncontrolled Component that will handle its state internally",name:"defaultValue",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"Whether the ComboBox is disabled",name:"disabled",required:!1,type:{name:"boolean"}},error:{defaultValue:{value:"false"},description:"Whether the ComboBox has an error. Note this refers to an internal error like failing to load options etc., to indicate failed validation use `invalid` instead.",name:"error",required:!1,type:{name:"boolean"}},errortext:{defaultValue:{value:""},description:"An errortext to display when the ComboBox failed validation or an internal error occurred.",name:"errortext",required:!1,type:{name:"ReactNode"}},helptext:{defaultValue:{value:""},description:"A helptext to render to explain meaning and significance of the ComboBox",name:"helptext",required:!1,type:{name:"ReactNode"}},id:{defaultValue:{value:""},description:"The Id of the ComboBox. Will be assigned to the text input part of the ComboBox. If not passed, an id will be auto-generated.",name:"id",required:!1,type:{name:"string"}},invalid:{defaultValue:{value:"false"},description:"Whether the ComboBox failed validation",name:"invalid",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"The label of the ComboBox",name:"label",required:!1,type:{name:"string"}},loading:{defaultValue:{value:"false"},description:"Whether the ComboBox is busy loading options",name:"loading",required:!1,type:{name:"boolean"}},name:{defaultValue:{value:""},description:"The name attribute of the ComboBox when used as part of a form",name:"name",required:!1,type:{name:"string"}},nullable:{defaultValue:{value:"true"},description:"Whether the ComboBox can be reset to having no value selected by manually clearing the text and clicking outside of the ComboBox. Default is TRUE. When set to FALSE, the selected value can only be changed by selecting another value after the initial selection, but never back to no selected value at all.",name:"nullable",required:!1,type:{name:"boolean"}},onBlur:{defaultValue:null,description:"A handler to execute when the ComboBox looses focus",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onChange:{defaultValue:null,description:"A handler to execute when the ComboBox' selected value changes",name:"onChange",required:!1,type:{name:"OnChangeHandler"}},onFocus:{defaultValue:null,description:"A handler to execute when the ComboBox input receives focus",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onInputChange:{defaultValue:null,description:"Handler to execute when the ComboBox text input value changes",name:"onInputChange",required:!1,type:{name:"ChangeEventHandler<HTMLInputElement>"}},placeholder:{defaultValue:{value:"Select…"},description:"A placeholder to render in the text input",name:"placeholder",required:!1,type:{name:"string"}},required:{defaultValue:{value:"false"},description:"Whether the ComboBox is required",name:"required",required:!1,type:{name:"boolean"}},successtext:{defaultValue:{value:""},description:"A text to display in case the ComboBox was successfully validated. Will set the ComboBox to `valid` when passed.",name:"successtext",required:!1,type:{name:"ReactNode"}},truncateOptions:{defaultValue:{value:"false"},description:"Whether the option labels should be truncated in case they are longer/wider than the available space in an option or not. Default is FALSE.",name:"truncateOptions",required:!1,type:{name:"boolean"}},valid:{defaultValue:{value:"false"},description:"Whether the ComboBox was successfully validated",name:"valid",required:!1,type:{name:"boolean"}},value:{defaultValue:{value:""},description:"The selected value of the ComboBox in Controlled Mode.",name:"value",required:!1,type:{name:"string"}},valueLabel:{defaultValue:null,description:"The label of the passed value or defaultValue. If you want to use controlled mode or pass as defaultValue in uncontrolled mode and additionally use labels for human-readable SelectOptions, you need to also pass the matching label for the passed value/defaultValue so that the Select component can render itself properly",name:"valueLabel",required:!1,type:{name:"string"}},width:{defaultValue:{value:"full"},description:"The width of the text input. Either 'full' (default) or 'auto'.",name:"width",required:!1,type:{name:"enum",value:[{value:'"full"'},{value:'"auto"'}]}},wrapperClassName:{defaultValue:{value:""},description:"Pass a custom classname to the wrapping <div> element. This can be useful if you must add styling to the outermost wrapping element of this component, e.g. for positioning.",name:"wrapperClassName",required:!1,type:{name:"string"}}}}}catch{}const yn=`
  jn-flex
  jn-pt-[0.6875rem]
  jn-pb-[0.5rem]
  jn-pr-[0.875rem]
  jn-select-none
  data-[headlessui-state=active]:jn-outline-none
  data-[headlessui-state=active]:jn-ring-2
  data-[headlessui-state=active]:jn-ring-inset
  data-[headlessui-state=active]:jn-ring-theme-focus
  data-[headlessui-state=active]:jn-bg-theme-background-lvl-3
`,Sn=`
  jn-text-theme-default
  jn-pl-[2.375rem]
`,Cn=`
  jn-text-theme-accent
  jn-pl-3.5
`,On=`
  jn-inline-block
  jn-mr-1.5
`,In=`
  jn-opacity-50
  jn-cursor-not-allowed
`,jn=`
  jn-block
  jn-h-6
  jn-overflow-hidden
  jn-text-ellipsis
  jn-whitespace-nowrap
`,_e=({children:e,disabled:s=!1,value:t="",label:n,className:o="",...l})=>{const i=p.useContext(Ae),{selectedValue:a,truncateOptions:c,addOptionValueAndLabel:u}=i||{};p.useEffect(()=>{u&&u(t,n,e)},[t,n,e]);const f=t||e;return j.jsx(ae.Option,{value:f,disabled:s,as:p.Fragment,children:j.jsxs("li",{className:`
          juno-combobox-option 
          ${yn}
          ${a===t?Cn:Sn}
          ${s?"jn-cursor-not-allowed":""}
          ${o}
        `,...l,children:[a===f?j.jsx(me,{icon:"check",size:"18",className:`${On}`}):"",j.jsx("span",{className:`
            ${s?In:""}
            ${c?jn:""}
          `,children:e||n||t})]})})};try{_e.displayName="ComboBoxOption",_e.__docgenInfo={description:"",displayName:"ComboBoxOption",props:{children:{defaultValue:null,description:"Content to render inside the ComboBoxOption. Is specified should be string.",name:"children",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"If option is disabled.",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:{value:""},description:"Option value.",name:"value",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"Option label.",name:"label",required:!1,type:{name:"string"}},className:{defaultValue:{value:""},description:"CSS class for the option.",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{ze as C,_e as a};
