import{j as R}from"./jsx-runtime-D-gQZ2Nk.js";import{r as u,e as D}from"./index-BXnWnNu-.js";import{u as at,a as rt,b as ut,c as dt,o as ct,e as pt,g as mt,s as ft,f as ht}from"./floating-ui.react-BEnEHP5A.js";import{L as bt}from"./Label.component-Bubk172Q.js";import{F as Ie}from"./FormHint.component-k5YuOPZg.js";import{I as ge}from"./Icon.component-C3XlGRAl.js";import{S as vt}from"./Spinner.component-DqgRKBmm.js";import{u as gt}from"./PortalProvider.component-CHvemcrH.js";import{r as se}from"./index-CzvS-M9C.js";import{P as Ne,o as y,a0 as xt,L as fe,Q as yt,y as ye,n as le,S as Pe,T as St,D as he,a as Et,b as Ct,d as qe,p as It,I as je,U as Ot,$ as We,c as He,W as Te,w as wt,e as jt,x as Tt,R as Mt,k as $t,f as Rt,g as _t,i as xe,m as Pt,h as Vt,j as Bt,l as zt,q as Ve,r as Ft,s as Lt,t as ce,v as kt,K as Dt,M as At,z as Nt,A as Be,E as L,C as q,B as qt,O as ze,_ as Wt,a1 as Ht}from"./portal-DFhZDPNF.js";import{l as Fe,f as Ut,a as Kt,T as Gt,u as Qt,j as Yt}from"./frozen-Brddk3Zw.js";import{F as Jt}from"./use-tree-walker-BIrZpV27.js";function de(e,i,t){let n=t.initialDeps??[],o;return()=>{var a,l,s,r;let c;t.key&&((a=t.debug)!=null&&a.call(t))&&(c=Date.now());const p=e();if(!(p.length!==n.length||p.some((d,C)=>n[C]!==d)))return o;n=p;let E;if(t.key&&((l=t.debug)!=null&&l.call(t))&&(E=Date.now()),o=i(...p),t.key&&((s=t.debug)!=null&&s.call(t))){const d=Math.round((Date.now()-c)*100)/100,C=Math.round((Date.now()-E)*100)/100,S=C/16,v=(j,A)=>{for(j=String(j);j.length<A;)j=" "+j;return j};console.info(`%c⏱ ${v(C,5)} /${v(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*S,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(r=t==null?void 0:t.onChange)==null||r.call(t,o),o}}function Oe(e,i){if(e===void 0)throw new Error("Unexpected undefined");return e}const Xt=(e,i)=>Math.abs(e-i)<1,Zt=(e,i,t)=>{let n;return function(...o){e.clearTimeout(n),n=e.setTimeout(()=>i.apply(this,o),t)}},en=e=>e,tn=e=>{const i=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),n=[];for(let o=i;o<=t;o++)n.push(o);return n},nn=(e,i)=>{const t=e.scrollElement;if(!t)return;const n=e.targetWindow;if(!n)return;const o=l=>{const{width:s,height:r}=l;i({width:Math.round(s),height:Math.round(r)})};if(o(t.getBoundingClientRect()),!n.ResizeObserver)return()=>{};const a=new n.ResizeObserver(l=>{const s=l[0];if(s!=null&&s.borderBoxSize){const r=s.borderBoxSize[0];if(r){o({width:r.inlineSize,height:r.blockSize});return}}o(t.getBoundingClientRect())});return a.observe(t,{box:"border-box"}),()=>{a.unobserve(t)}},Le={passive:!0},on=typeof window>"u"?!0:"onscrollend"in window,sn=(e,i)=>{const t=e.scrollElement;if(!t)return;const n=e.targetWindow;if(!n)return;let o=0;const a=on?()=>{}:Zt(n,()=>{i(o,!1)},e.options.isScrollingResetDelay),l=c=>()=>{const{horizontal:p,isRtl:f}=e.options;o=p?t.scrollLeft*(f&&-1||1):t.scrollTop,a(),i(o,c)},s=l(!0),r=l(!1);return r(),t.addEventListener("scroll",s,Le),t.addEventListener("scrollend",r,Le),()=>{t.removeEventListener("scroll",s),t.removeEventListener("scrollend",r)}},ln=(e,i,t)=>{if(i!=null&&i.borderBoxSize){const n=i.borderBoxSize[0];if(n)return Math.round(n[t.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[t.options.horizontal?"width":"height"])},an=(e,{adjustments:i=0,behavior:t},n)=>{var o,a;const l=e+i;(a=(o=n.scrollElement)==null?void 0:o.scrollTo)==null||a.call(o,{[n.options.horizontal?"left":"top"]:l,behavior:t})};class rn{constructor(i){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const n=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(o=>{o.forEach(a=>{this._measureElement(a.target,a)})}));return{disconnect:()=>{var o;(o=n())==null||o.disconnect(),t=null},observe:o=>{var a;return(a=n())==null?void 0:a.observe(o,{box:"border-box"})},unobserve:o=>{var a;return(a=n())==null?void 0:a.unobserve(o)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([n,o])=>{typeof o>"u"&&delete t[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:en,rangeExtractor:tn,onChange:()=>{},measureElement:ln,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,...t}},this.notify=t=>{var n,o;(o=(n=this.options).onChange)==null||o.call(n,this,t)},this.maybeNotify=de(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this.elementsCache.forEach(o=>{this.observer.observe(o)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(o,a)=>{this.scrollAdjustments=0,this.scrollDirection=a?this.getScrollOffset()<o?"forward":"backward":null,this.scrollOffset=o,this.isScrolling=a,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,n)=>{const o=new Map,a=new Map;for(let l=n-1;l>=0;l--){const s=t[l];if(o.has(s.lane))continue;const r=a.get(s.lane);if(r==null||s.end>r.end?a.set(s.lane,s):s.end<r.end&&o.set(s.lane,!0),o.size===this.options.lanes)break}return a.size===this.options.lanes?Array.from(a.values()).sort((l,s)=>l.end===s.end?l.index-s.index:l.end-s.end)[0]:void 0},this.getMeasurementOptions=de(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,n,o,a,l)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:n,scrollMargin:o,getItemKey:a,enabled:l}),{key:!1}),this.getMeasurements=de(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:n,scrollMargin:o,getItemKey:a,enabled:l},s)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(p=>{this.itemSizeCache.set(p.key,p.size)}));const r=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const c=this.measurementsCache.slice(0,r);for(let p=r;p<t;p++){const f=a(p),E=this.options.lanes===1?c[p-1]:this.getFurthestMeasurement(c,p),d=E?E.end+this.options.gap:n+o,C=s.get(f),S=typeof C=="number"?C:this.options.estimateSize(p),v=d+S,j=E?E.lane:p%this.options.lanes;c[p]={index:p,start:d,size:S,end:v,key:f,lane:j}}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=de(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(t,n,o)=>this.range=t.length>0&&n>0?un({measurements:t,outerSize:n,scrollOffset:o}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=de(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(t,n,o,a)=>n===null?[]:t({startIndex:n.startIndex,endIndex:n.endIndex,overscan:o,count:a}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const n=this.options.indexAttribute,o=t.getAttribute(n);return o?parseInt(o,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(t,n)=>{const o=this.indexFromElement(t),a=this.measurementsCache[o];if(!a)return;const l=a.key,s=this.elementsCache.get(l);s!==t&&(s&&this.observer.unobserve(s),this.observer.observe(t),this.elementsCache.set(l,t)),t.isConnected&&this.resizeItem(o,this.options.measureElement(t,n,this))},this.resizeItem=(t,n)=>{const o=this.measurementsCache[t];if(!o)return;const a=this.itemSizeCache.get(o.key)??o.size,l=n-a;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(o,l,this):o.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(o.index),this.itemSizeCache=new Map(this.itemSizeCache.set(o.key,n)),this.notify(!1))},this.measureElement=t=>{if(!t){this.elementsCache.forEach((n,o)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(o))});return}this._measureElement(t,void 0)},this.getVirtualItems=de(()=>[this.getIndexes(),this.getMeasurements()],(t,n)=>{const o=[];for(let a=0,l=t.length;a<l;a++){const s=t[a],r=n[s];o.push(r)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const n=this.getMeasurements();if(n.length!==0)return Oe(n[Ue(0,n.length-1,o=>Oe(n[o]).start,t)])},this.getOffsetForAlignment=(t,n)=>{const o=this.getSize(),a=this.getScrollOffset();n==="auto"&&(t<=a?n="start":t>=a+o?n="end":n="start"),n==="start"?t=t:n==="end"?t=t-o:n==="center"&&(t=t-o/2);const l=this.options.horizontal?"scrollWidth":"scrollHeight",r=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[l]:this.scrollElement[l]:0)-o;return Math.max(Math.min(r,t),0)},this.getOffsetForIndex=(t,n="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const o=this.measurementsCache[t];if(!o)return;const a=this.getSize(),l=this.getScrollOffset();if(n==="auto")if(o.end>=l+a-this.options.scrollPaddingEnd)n="end";else if(o.start<=l+this.options.scrollPaddingStart)n="start";else return[l,n];const s=n==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(s,n),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(t,{align:n="start",behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,n),{adjustments:void 0,behavior:o})},this.scrollToIndex=(t,{align:n="auto",behavior:o}={})=>{t=Math.max(0,Math.min(t,this.options.count-1)),this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const a=this.getOffsetForIndex(t,n);if(!a)return;const[l,s]=a;this._scrollToOffset(l,{adjustments:void 0,behavior:o}),o!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(t))){const[c]=Oe(this.getOffsetForIndex(t,s));Xt(c,this.getScrollOffset())||this.scrollToIndex(t,{align:s,behavior:o})}else this.scrollToIndex(t,{align:s,behavior:o})}))},this.scrollBy=(t,{behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var t;const n=this.getMeasurements();let o;return n.length===0?o=this.options.paddingStart:o=this.options.lanes===1?((t=n[n.length-1])==null?void 0:t.end)??0:Math.max(...n.slice(-this.options.lanes).map(a=>a.end)),Math.max(o-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(t,{adjustments:n,behavior:o})=>{this.options.scrollToFn(t,{behavior:o,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(i)}}const Ue=(e,i,t,n)=>{for(;e<=i;){const o=(e+i)/2|0,a=t(o);if(a<n)e=o+1;else if(a>n)i=o-1;else return o}return e>0?e-1:0};function un({measurements:e,outerSize:i,scrollOffset:t}){const n=e.length-1,a=Ue(0,n,s=>e[s].start,t);let l=a;for(;l<n&&e[l].end<t+i;)l++;return{startIndex:a,endIndex:l}}const dn=typeof document<"u"?u.useLayoutEffect:u.useEffect;function cn(e){const i=u.useReducer(()=>({}),{})[1],t={...e,onChange:(o,a)=>{var l;a?se.flushSync(i):i(),(l=e.onChange)==null||l.call(e,o,a)}},[n]=u.useState(()=>new rn(t));return n.setOptions(t),u.useEffect(()=>n._didMount(),[]),dn(()=>n._willUpdate()),n}function pn(e){return cn({observeElementRect:nn,observeElementOffset:sn,scrollToFn:an,...e})}function mn(e,i,t,n){let o=Ne(t);u.useEffect(()=>{e=e??window;function a(l){o.current(l)}return e.addEventListener(i,a,n),()=>e.removeEventListener(i,a,n)},[e,i,n])}function Ke(e){let i=u.useRef({value:"",selectionStart:null,selectionEnd:null});return mn(e,"blur",t=>{let n=t.target;n instanceof HTMLInputElement&&(i.current={value:n.value,selectionStart:n.selectionStart,selectionEnd:n.selectionEnd})}),y(()=>{if(document.activeElement!==e&&e instanceof HTMLInputElement&&e.isConnected){if(e.focus({preventScroll:!0}),e.value!==i.current.value)e.setSelectionRange(e.value.length,e.value.length);else{let{selectionStart:t,selectionEnd:n}=i.current;t!==null&&n!==null&&e.setSelectionRange(t,n)}i.current={value:"",selectionStart:null,selectionEnd:null}}})}function ke(e,i){let t=u.useRef([]),n=y(e);u.useEffect(()=>{let o=[...t.current];for(let[a,l]of i.entries())if(t.current[a]!==l){let s=n(i,o);return t.current=i,s}},[n,...i])}function fn(e){function i(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",i))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",i),i())}let ae=[];fn(()=>{function e(i){if(!(i.target instanceof HTMLElement)||i.target===document.body||ae[0]===i.target)return;let t=i.target;t=t.closest(xt),ae.unshift(t??i.target),ae=ae.filter(n=>n!=null&&n.isConnected),ae.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});var Me=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(Me||{}),hn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(hn||{}),bn=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(bn||{}),vn=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(vn||{}),gn=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.SetTyping=3]="SetTyping",e[e.RegisterOption=4]="RegisterOption",e[e.UnregisterOption=5]="UnregisterOption",e[e.SetActivationTrigger=6]="SetActivationTrigger",e[e.UpdateVirtualConfiguration=7]="UpdateVirtualConfiguration",e[e.SetInputElement=8]="SetInputElement",e[e.SetButtonElement=9]="SetButtonElement",e[e.SetOptionsElement=10]="SetOptionsElement",e))(gn||{});function we(e,i=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=i(e.options.slice()),o=n.length>0&&n[0].dataRef.current.order!==null?n.sort((l,s)=>l.dataRef.current.order-s.dataRef.current.order):Wt(n,l=>l.dataRef.current.domRef.current),a=t?o.indexOf(t):null;return a===-1&&(a=null),{options:o,activeOptionIndex:a}}let xn={1(e){var i;return(i=e.dataRef.current)!=null&&i.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,__demoMode:!1}},0(e){var i,t;if((i=e.dataRef.current)!=null&&i.disabled||e.comboboxState===0)return e;if((t=e.dataRef.current)!=null&&t.value){let n=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(n!==-1)return{...e,activeOptionIndex:n,comboboxState:0,__demoMode:!1}}return{...e,comboboxState:0,__demoMode:!1}},3(e,i){return e.isTyping===i.isTyping?e:{...e,isTyping:i.isTyping}},2(e,i){var t,n,o,a;if((t=e.dataRef.current)!=null&&t.disabled||e.optionsElement&&!((n=e.dataRef.current)!=null&&n.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let{options:c,disabled:p}=e.virtual,f=i.focus===L.Specific?i.idx:ze(i,{resolveItems:()=>c,resolveActiveIndex:()=>{var d,C;return(C=(d=e.activeOptionIndex)!=null?d:c.findIndex(S=>!p(S)))!=null?C:null},resolveDisabled:p,resolveId(){throw new Error("Function not implemented.")}}),E=(o=i.trigger)!=null?o:2;return e.activeOptionIndex===f&&e.activationTrigger===E?e:{...e,activeOptionIndex:f,activationTrigger:E,isTyping:!1,__demoMode:!1}}let l=we(e);if(l.activeOptionIndex===null){let c=l.options.findIndex(p=>!p.dataRef.current.disabled);c!==-1&&(l.activeOptionIndex=c)}let s=i.focus===L.Specific?i.idx:ze(i,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled}),r=(a=i.trigger)!=null?a:2;return e.activeOptionIndex===s&&e.activationTrigger===r?e:{...e,...l,isTyping:!1,activeOptionIndex:s,activationTrigger:r,__demoMode:!1}},4:(e,i)=>{var t,n,o;if((t=e.dataRef.current)!=null&&t.virtual)return{...e,options:[...e.options,i.payload]};let a=i.payload,l=we(e,r=>(r.push(a),r));e.activeOptionIndex===null&&(n=e.dataRef.current)!=null&&n.isSelected(i.payload.dataRef.current.value)&&(l.activeOptionIndex=l.options.indexOf(a));let s={...e,...l,activationTrigger:2};return(o=e.dataRef.current)!=null&&o.__demoMode&&e.dataRef.current.value===void 0&&(s.activeOptionIndex=0),s},5:(e,i)=>{var t;if((t=e.dataRef.current)!=null&&t.virtual)return{...e,options:e.options.filter(o=>o.id!==i.id)};let n=we(e,o=>{let a=o.findIndex(l=>l.id===i.id);return a!==-1&&o.splice(a,1),o});return{...e,...n,activationTrigger:2}},6:(e,i)=>e.activationTrigger===i.trigger?e:{...e,activationTrigger:i.trigger},7:(e,i)=>{var t,n;if(e.virtual===null)return{...e,virtual:{options:i.options,disabled:(t=i.disabled)!=null?t:()=>!1}};if(e.virtual.options===i.options&&e.virtual.disabled===i.disabled)return e;let o=e.activeOptionIndex;if(e.activeOptionIndex!==null){let a=i.options.indexOf(e.virtual.options[e.activeOptionIndex]);a!==-1?o=a:o=null}return{...e,activeOptionIndex:o,virtual:{options:i.options,disabled:(n=i.disabled)!=null?n:()=>!1}}},8:(e,i)=>e.inputElement===i.element?e:{...e,inputElement:i.element},9:(e,i)=>e.buttonElement===i.element?e:{...e,buttonElement:i.element},10:(e,i)=>e.optionsElement===i.element?e:{...e,optionsElement:i.element}},$e=u.createContext(null);$e.displayName="ComboboxActionsContext";function be(e){let i=u.useContext($e);if(i===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,be),t}return i}let Ge=u.createContext(null);function yn(e){let i=pe("VirtualProvider"),{options:t}=i.virtual,[n,o]=u.useMemo(()=>{let c=i.optionsElement;if(!c)return[0,0];let p=window.getComputedStyle(c);return[parseFloat(p.paddingBlockStart||p.paddingTop),parseFloat(p.paddingBlockEnd||p.paddingBottom)]},[i.optionsElement]),a=pn({enabled:t.length!==0,scrollPaddingStart:n,scrollPaddingEnd:o,count:t.length,estimateSize(){return 40},getScrollElement(){return i.optionsElement},overscan:12}),[l,s]=u.useState(0);le(()=>{s(c=>c+1)},[t]);let r=a.getVirtualItems();return r.length===0?null:D.createElement(Ge.Provider,{value:a},D.createElement("div",{style:{position:"relative",width:"100%",height:`${a.getTotalSize()}px`},ref:c=>{c&&i.activationTrigger!==0&&i.activeOptionIndex!==null&&t.length>i.activeOptionIndex&&a.scrollToIndex(i.activeOptionIndex)}},r.map(c=>{var p;return D.createElement(u.Fragment,{key:c.key},D.cloneElement((p=e.children)==null?void 0:p.call(e,{...e.slot,option:t[c.index]}),{key:`${l}-${c.key}`,"data-index":c.index,"aria-setsize":t.length,"aria-posinset":c.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:"none"}}))})))}let me=u.createContext(null);me.displayName="ComboboxDataContext";function pe(e){let i=u.useContext(me);if(i===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,pe),t}return i}function Sn(e,i){return ce(i.type,xn,e,i)}let En=u.Fragment;function Cn(e,i){var t,n;let o=Lt(),{value:a,defaultValue:l,onChange:s,form:r,name:c,by:p,disabled:f=o||!1,onClose:E,__demoMode:d=!1,multiple:C=!1,immediate:S=!1,virtual:v=null,nullable:j,...A}=e,T=Kt(l),[_=C?[]:void 0,V]=Gt(a,s,T),[w,g]=u.useReducer(Sn,{dataRef:u.createRef(),comboboxState:d?0:1,isTyping:!1,options:[],virtual:v?{options:v.options,disabled:(t=v.disabled)!=null?t:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:d}),B=u.useRef(!1),Y=u.useRef({static:!1,hold:!1}),N=Qt(p),z=y(b=>v?p===null?v.options.indexOf(b):v.options.findIndex(O=>N(O,b)):w.options.findIndex(O=>N(O.dataRef.current.value,b))),J=u.useCallback(b=>ce(h.mode,{1:()=>_.some(O=>N(O,b)),0:()=>N(_,b)}),[_]),K=y(b=>w.activeOptionIndex===z(b)),h=u.useMemo(()=>({...w,immediate:S,optionsPropsRef:Y,value:_,defaultValue:T,disabled:f,mode:C?1:0,virtual:v?w.virtual:null,get activeOptionIndex(){if(B.current&&w.activeOptionIndex===null&&(v?v.options.length>0:w.options.length>0)){if(v){let O=v.options.findIndex(U=>{var re,ve;return!((ve=(re=v.disabled)==null?void 0:re.call(v,U))!=null&&ve)});if(O!==-1)return O}let b=w.options.findIndex(O=>!O.dataRef.current.disabled);if(b!==-1)return b}return w.activeOptionIndex},calculateIndex:z,compare:N,isSelected:J,isActive:K}),[_,T,f,C,d,w,v]);le(()=>{var b;v&&g({type:7,options:v.options,disabled:(b=v.disabled)!=null?b:null})},[v,v==null?void 0:v.options,v==null?void 0:v.disabled]),le(()=>{w.dataRef.current=h},[h]);let I=h.comboboxState===0;kt(I,[h.buttonElement,h.inputElement,h.optionsElement],()=>P.closeCombobox());let W=u.useMemo(()=>{var b,O,U;return{open:h.comboboxState===0,disabled:f,activeIndex:h.activeOptionIndex,activeOption:h.activeOptionIndex===null?null:h.virtual?h.virtual.options[(b=h.activeOptionIndex)!=null?b:0]:(U=(O=h.options[h.activeOptionIndex])==null?void 0:O.dataRef.current.value)!=null?U:null,value:_}},[h,f,_]),Z=y(()=>{if(h.activeOptionIndex!==null){if(P.setIsTyping(!1),h.virtual)m(h.virtual.options[h.activeOptionIndex]);else{let{dataRef:b}=h.options[h.activeOptionIndex];m(b.current.value)}P.goToOption(L.Specific,h.activeOptionIndex)}}),G=y(()=>{g({type:0}),B.current=!0}),oe=y(()=>{g({type:1}),B.current=!1,E==null||E()}),ee=y(b=>{g({type:3,isTyping:b})}),ie=y((b,O,U)=>(B.current=!1,b===L.Specific?g({type:2,focus:L.Specific,idx:O,trigger:U}):g({type:2,focus:b,trigger:U}))),M=y((b,O)=>(g({type:4,payload:{id:b,dataRef:O}}),()=>{h.isActive(O.current.value)&&(B.current=!0),g({type:5,id:b})})),m=y(b=>ce(h.mode,{0(){return V==null?void 0:V(b)},1(){let O=h.value.slice(),U=O.findIndex(re=>N(re,b));return U===-1?O.push(b):O.splice(U,1),V==null?void 0:V(O)}})),k=y(b=>{g({type:6,trigger:b})}),F=y(b=>{g({type:8,element:b})}),H=y(b=>{g({type:9,element:b})}),$=y(b=>{g({type:10,element:b})}),P=u.useMemo(()=>({onChange:m,registerOption:M,goToOption:ie,setIsTyping:ee,closeCombobox:oe,openCombobox:G,setActivationTrigger:k,selectActiveOption:Z,setInputElement:F,setButtonElement:H,setOptionsElement:$}),[]),[te,ne]=Dt(),Se=i===null?{}:{ref:i},Ee=u.useCallback(()=>{if(T!==void 0)return V==null?void 0:V(T)},[V,T]),Ce=he();return D.createElement(ne,{value:te,props:{htmlFor:(n=h.inputElement)==null?void 0:n.id},slot:{open:h.comboboxState===0,disabled:f}},D.createElement(At,null,D.createElement($e.Provider,{value:P},D.createElement(me.Provider,{value:h},D.createElement(Nt,{value:ce(h.comboboxState,{0:xe.Open,1:xe.Closed})},c!=null&&D.createElement(Yt,{disabled:f,data:_!=null?{[c]:_}:{},form:r,onReset:Ee}),Ce({ourProps:Se,theirProps:A,slot:W,defaultTag:En,name:"Combobox"}))))))}let In="input";function On(e,i){var t,n,o,a,l;let s=pe("Combobox.Input"),r=be("Combobox.Input"),c=u.useId(),p=Et(),{id:f=p||`headlessui-combobox-input-${c}`,onChange:E,displayValue:d,disabled:C=s.disabled||!1,autoFocus:S=!1,type:v="text",...j}=e,A=u.useRef(null),T=ye(A,i,Ct(),r.setInputElement),_=qe(s.inputElement),V=It(),w=y(()=>{r.onChange(null),s.optionsElement&&(s.optionsElement.scrollTop=0),r.goToOption(L.Nothing)}),g=u.useMemo(()=>{var m;return typeof d=="function"&&s.value!==void 0?(m=d(s.value))!=null?m:"":typeof s.value=="string"?s.value:""},[s.value,d]);ke(([m,k],[F,H])=>{if(s.isTyping)return;let $=A.current;$&&((H===0&&k===1||m!==F)&&($.value=m),requestAnimationFrame(()=>{if(s.isTyping||!$||(_==null?void 0:_.activeElement)!==$)return;let{selectionStart:P,selectionEnd:te}=$;Math.abs((te??0)-(P??0))===0&&P===0&&$.setSelectionRange($.value.length,$.value.length)}))},[g,s.comboboxState,_,s.isTyping]),ke(([m],[k])=>{if(m===0&&k===1){if(s.isTyping)return;let F=A.current;if(!F)return;let H=F.value,{selectionStart:$,selectionEnd:P,selectionDirection:te}=F;F.value="",F.value=H,te!==null?F.setSelectionRange($,P,te):F.setSelectionRange($,P)}},[s.comboboxState]);let B=u.useRef(!1),Y=y(()=>{B.current=!0}),N=y(()=>{V.nextFrame(()=>{B.current=!1})}),z=y(m=>{switch(r.setIsTyping(!0),m.key){case q.Enter:if(s.comboboxState!==0||B.current)return;if(m.preventDefault(),m.stopPropagation(),s.activeOptionIndex===null){r.closeCombobox();return}r.selectActiveOption(),s.mode===0&&r.closeCombobox();break;case q.ArrowDown:return m.preventDefault(),m.stopPropagation(),ce(s.comboboxState,{0:()=>r.goToOption(L.Next),1:()=>r.openCombobox()});case q.ArrowUp:return m.preventDefault(),m.stopPropagation(),ce(s.comboboxState,{0:()=>r.goToOption(L.Previous),1:()=>{se.flushSync(()=>r.openCombobox()),s.value||r.goToOption(L.Last)}});case q.Home:if(m.shiftKey)break;return m.preventDefault(),m.stopPropagation(),r.goToOption(L.First);case q.PageUp:return m.preventDefault(),m.stopPropagation(),r.goToOption(L.First);case q.End:if(m.shiftKey)break;return m.preventDefault(),m.stopPropagation(),r.goToOption(L.Last);case q.PageDown:return m.preventDefault(),m.stopPropagation(),r.goToOption(L.Last);case q.Escape:return s.comboboxState!==0?void 0:(m.preventDefault(),s.optionsElement&&!s.optionsPropsRef.current.static&&m.stopPropagation(),s.mode===0&&s.value===null&&w(),r.closeCombobox());case q.Tab:if(s.comboboxState!==0)return;s.mode===0&&s.activationTrigger!==1&&r.selectActiveOption(),r.closeCombobox();break}}),J=y(m=>{E==null||E(m),s.mode===0&&m.target.value===""&&w(),r.openCombobox()}),K=y(m=>{var k,F,H;let $=(k=m.relatedTarget)!=null?k:ae.find(P=>P!==m.currentTarget);if(!((F=s.optionsElement)!=null&&F.contains($))&&!((H=s.buttonElement)!=null&&H.contains($))&&s.comboboxState===0)return m.preventDefault(),s.mode===0&&s.value===null&&w(),r.closeCombobox()}),h=y(m=>{var k,F,H;let $=(k=m.relatedTarget)!=null?k:ae.find(P=>P!==m.currentTarget);(F=s.buttonElement)!=null&&F.contains($)||(H=s.optionsElement)!=null&&H.contains($)||s.disabled||s.immediate&&s.comboboxState!==0&&V.microTask(()=>{se.flushSync(()=>r.openCombobox()),r.setActivationTrigger(1)})}),I=je(),W=Ot(),{isFocused:Z,focusProps:G}=We({autoFocus:S}),{isHovered:oe,hoverProps:ee}=He({isDisabled:C}),ie=u.useMemo(()=>({open:s.comboboxState===0,disabled:C,hover:oe,focus:Z,autofocus:S}),[s,oe,Z,S,C]),M=Te({ref:T,id:f,role:"combobox",type:v,"aria-controls":(t=s.optionsElement)==null?void 0:t.id,"aria-expanded":s.comboboxState===0,"aria-activedescendant":s.activeOptionIndex===null?void 0:s.virtual?(n=s.options.find(m=>!m.dataRef.current.disabled&&s.compare(m.dataRef.current.value,s.virtual.options[s.activeOptionIndex])))==null?void 0:n.id:(o=s.options[s.activeOptionIndex])==null?void 0:o.id,"aria-labelledby":I,"aria-describedby":W,"aria-autocomplete":"list",defaultValue:(l=(a=e.defaultValue)!=null?a:s.defaultValue!==void 0?d==null?void 0:d(s.defaultValue):null)!=null?l:s.defaultValue,disabled:C||void 0,autoFocus:S,onCompositionStart:Y,onCompositionEnd:N,onKeyDown:z,onChange:J,onFocus:h,onBlur:K},G,ee);return he()({ourProps:M,theirProps:j,slot:ie,defaultTag:In,name:"Combobox.Input"})}let wn="button";function jn(e,i){var t;let n=pe("Combobox.Button"),o=be("Combobox.Button"),a=ye(i,o.setButtonElement),l=u.useId(),{id:s=`headlessui-combobox-button-${l}`,disabled:r=n.disabled||!1,autoFocus:c=!1,...p}=e,f=Ke(n.inputElement),E=y(g=>{switch(g.key){case q.Space:case q.Enter:g.preventDefault(),g.stopPropagation(),n.comboboxState===1&&se.flushSync(()=>o.openCombobox()),f();return;case q.ArrowDown:g.preventDefault(),g.stopPropagation(),n.comboboxState===1&&(se.flushSync(()=>o.openCombobox()),n.value||o.goToOption(L.First)),f();return;case q.ArrowUp:g.preventDefault(),g.stopPropagation(),n.comboboxState===1&&(se.flushSync(()=>o.openCombobox()),n.value||o.goToOption(L.Last)),f();return;case q.Escape:if(n.comboboxState!==0)return;g.preventDefault(),n.optionsElement&&!n.optionsPropsRef.current.static&&g.stopPropagation(),se.flushSync(()=>o.closeCombobox()),f();return;default:return}}),d=y(g=>{g.preventDefault(),!qt(g.currentTarget)&&(g.button===Me.Left&&(n.comboboxState===0?o.closeCombobox():o.openCombobox()),f())}),C=je([s]),{isFocusVisible:S,focusProps:v}=We({autoFocus:c}),{isHovered:j,hoverProps:A}=He({isDisabled:r}),{pressed:T,pressProps:_}=wt({disabled:r}),V=u.useMemo(()=>({open:n.comboboxState===0,active:T||n.comboboxState===0,disabled:r,value:n.value,hover:j,focus:S}),[n,j,S,T,r]),w=Te({ref:a,id:s,type:jt(e,n.buttonElement),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(t=n.optionsElement)==null?void 0:t.id,"aria-expanded":n.comboboxState===0,"aria-labelledby":C,disabled:r||void 0,autoFocus:c,onMouseDown:d,onKeyDown:E},v,A,_);return he()({ourProps:w,theirProps:p,slot:V,defaultTag:wn,name:"Combobox.Button"})}let Tn="div",Mn=Be.RenderStrategy|Be.Static;function $n(e,i){var t,n,o;let a=u.useId(),{id:l=`headlessui-combobox-options-${a}`,hold:s=!1,anchor:r,portal:c=!1,modal:p=!0,transition:f=!1,...E}=e,d=pe("Combobox.Options"),C=be("Combobox.Options"),S=Tt(r);S&&(c=!0);let[v,j]=Mt(S),[A,T]=u.useState(null),_=$t(),V=ye(i,S?v:null,C.setOptionsElement,T),w=qe(d.optionsElement),g=Rt(),[B,Y]=_t(f,A,g!==null?(g&xe.Open)===xe.Open:d.comboboxState===0);Pt(B,d.inputElement,C.closeCombobox);let N=d.__demoMode?!1:p&&d.comboboxState===0;Vt(N,w);let z=d.__demoMode?!1:p&&d.comboboxState===0;Bt(z,{allowed:u.useCallback(()=>[d.inputElement,d.buttonElement,d.optionsElement],[d.inputElement,d.buttonElement,d.optionsElement])}),le(()=>{var M;d.optionsPropsRef.current.static=(M=e.static)!=null?M:!1},[d.optionsPropsRef,e.static]),le(()=>{d.optionsPropsRef.current.hold=s},[d.optionsPropsRef,s]),Jt(d.comboboxState===0,{container:d.optionsElement,accept(M){return M.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:M.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(M){M.setAttribute("role","none")}});let J=je([(t=d.buttonElement)==null?void 0:t.id]),K=u.useMemo(()=>({open:d.comboboxState===0,option:void 0}),[d.comboboxState]),h=y(()=>{C.setActivationTrigger(0)}),I=y(M=>{M.preventDefault(),C.setActivationTrigger(0)}),W=Te(S?_():{},{"aria-labelledby":J,role:"listbox","aria-multiselectable":d.mode===1?!0:void 0,id:l,ref:V,style:{...E.style,...j,"--input-width":Ve(d.inputElement,!0).width,"--button-width":Ve(d.buttonElement,!0).width},onWheel:d.activationTrigger===0?void 0:h,onMouseDown:I,...zt(Y)}),Z=B&&d.comboboxState===1,G=Fe(Z,(n=d.virtual)==null?void 0:n.options),oe=Fe(Z,d.value),ee=y(M=>d.compare(oe,M));if(d.virtual){if(G===void 0)throw new Error("Missing `options` in virtual mode");Object.assign(E,{children:D.createElement(me.Provider,{value:G!==d.virtual.options?{...d,virtual:{...d.virtual,options:G}}:d},D.createElement(yn,{slot:K},E.children))})}let ie=he();return D.createElement(Ft,{enabled:c?e.static||B:!1},D.createElement(me.Provider,{value:d.mode===1?d:{...d,isSelected:ee}},ie({ourProps:W,theirProps:{...E,children:D.createElement(Ut,{freeze:Z},typeof E.children=="function"?(o=E.children)==null?void 0:o.call(E,K):E.children)},slot:K,defaultTag:Tn,features:Mn,visible:B,name:"Combobox.Options"})))}let Rn="div";function _n(e,i){var t,n,o,a;let l=pe("Combobox.Option"),s=be("Combobox.Option"),r=u.useId(),{id:c=`headlessui-combobox-option-${r}`,value:p,disabled:f=(o=(n=(t=l.virtual)==null?void 0:t.disabled)==null?void 0:n.call(t,p))!=null?o:!1,order:E=null,...d}=e,C=Ke(l.inputElement),S=l.virtual?l.activeOptionIndex===l.calculateIndex(p):l.activeOptionIndex===null?!1:((a=l.options[l.activeOptionIndex])==null?void 0:a.id)===c,v=l.isSelected(p),j=u.useRef(null),A=Ne({disabled:f,value:p,domRef:j,order:E}),T=u.useContext(Ge),_=ye(i,j,T?T.measureElement:null),V=y(()=>{s.setIsTyping(!1),s.onChange(p)});le(()=>s.registerOption(c,A),[A,c]);let w=u.useRef(!(l.virtual||l.__demoMode));le(()=>{if(!l.virtual&&!l.__demoMode)return Pe().requestAnimationFrame(()=>{w.current=!0})},[l.virtual,l.__demoMode]),le(()=>{if(w.current&&l.comboboxState===0&&S&&l.activationTrigger!==0)return Pe().requestAnimationFrame(()=>{var I,W;(W=(I=j.current)==null?void 0:I.scrollIntoView)==null||W.call(I,{block:"nearest"})})},[j,S,l.comboboxState,l.activationTrigger,l.activeOptionIndex]);let g=y(I=>{I.preventDefault(),I.button===Me.Left&&(f||(V(),Ht()||requestAnimationFrame(()=>C()),l.mode===0&&s.closeCombobox()))}),B=y(()=>{if(f)return s.goToOption(L.Nothing);let I=l.calculateIndex(p);s.goToOption(L.Specific,I)}),Y=St(),N=y(I=>Y.update(I)),z=y(I=>{if(!Y.wasMoved(I)||f||S)return;let W=l.calculateIndex(p);s.goToOption(L.Specific,W,0)}),J=y(I=>{Y.wasMoved(I)&&(f||S&&(l.optionsPropsRef.current.hold||s.goToOption(L.Nothing)))}),K=u.useMemo(()=>({active:S,focus:S,selected:v,disabled:f}),[S,v,f]),h={id:c,ref:_,role:"option",tabIndex:f===!0?void 0:-1,"aria-disabled":f===!0?!0:void 0,"aria-selected":v,disabled:void 0,onMouseDown:g,onFocus:B,onPointerEnter:N,onMouseEnter:N,onPointerMove:z,onMouseMove:z,onPointerLeave:J,onMouseLeave:J};return he()({ourProps:h,theirProps:d,slot:K,defaultTag:Rn,name:"Combobox.Option"})}let Pn=fe(Cn),Qe=fe(jn),Ye=fe(On),Vn=yt,Je=fe($n),Xe=fe(_n),Bn=Object.assign(Pn,{Input:Ye,Button:Qe,Label:Vn,Options:Je,Option:Xe});const zn=`
  jn-relative
`,Fn=`
  jn-pointer-events-none
  jn-top-2
  jn-left-[0.9375rem]
`,Ln=`
  jn-rounded-3px
  jn-bg-theme-textinput
  jn-text-theme-textinput
  jn-border
  jn-text-base
  jn-leading-4
  jn-w-full
  jn-px-4
  jn-h-textinput
  jn-text-left
  jn-overflow-hidden
  jn-text-ellipsis
  jn-whitespace-nowrap
  focus:jn-outline-none
  focus:jn-ring-2
  focus:jn-ring-theme-focus
`,kn=`
  jn-pt-[1.125rem] 
  jn-pb-1
`,Dn=`
  jn-py-4
`,An=`
  jn-cursor-not-allowed
  jn-pointer-events-none
  jn-opacity-50
`,Nn=`
  jn-border-theme-textinput-default
`,qn=`
  jn-border-theme-success
`,Wn=`
  jn-border-theme-error
`,Hn=`
  jn-absolute
  jn-top-0
  jn-right-0
  jn-h-textinput
  jn-w-6
  jn-h-4
  jn-border-l-0
  jn-border-y-[1px]
  jn-border-r-[1px]
  jn-rounded-tr
  jn-rounded-br
  jn-appearance-none
  jn-bg-theme-textinput
  jn-text-theme-textinput
`,Un=`
  jn-border-theme-textinput-default
`,Kn=`
  jn-border-theme-error
`,Gn=`
  jn-border-theme-success
`,Qn=`
  jn-cursor-not-allowed
  jn-pointer-events-none
  jn-bg-transparent
  jn-opacity-50
`,Yn=`
  jn-rounded
  jn-bg-theme-background-lvl-1
  jn-w-full
  jn-overflow-y-auto
`,Jn=`
  jn-absolute
  jn-top-[.4rem]
  jn-right-6
`,Xn=`
  jn-absolute
  jn-top-1/2
  jn-left-1/2
  jn-translate-y-[-50%]
  jn-translate-x-[-0.75rem]
`,Ze=u.createContext(void 0),De=({ariaLabel:e,children:i,className:t="",defaultValue:n="",disabled:o=!1,error:a=!1,errortext:l="",helptext:s="",id:r="",invalid:c=!1,loading:p=!1,label:f,name:E="",onBlur:d,onChange:C,onFocus:S,onInputChange:v,placeholder:j="Select…",required:A=!1,successtext:T="",truncateOptions:_=!1,valid:V=!1,value:w="",valueLabel:g,width:B="full",wrapperClassName:Y="",...N})=>{const z=x=>!(typeof x=="string"&&x.trim().length===0),J=r||"juno-combobox-"+u.useId(),K="juno-combobox-helptext-"+u.useId(),[h,I]=u.useState(!1),[W,Z]=u.useState(new Map),[G,oe]=u.useState(""),[ee,ie]=u.useState(w),[M,m]=u.useState(!1),[k,F]=u.useState(!1),[H,$]=u.useState(!1),[P,te]=u.useState(!1),[ne,Se]=u.useState(!1),{x:Ee,y:Ce,strategy:b,refs:O,context:U}=at({open:h,onOpenChange:I,placement:"bottom-start",middleware:[ct(4),pt(),mt(),ft({apply({availableWidth:x,availableHeight:Q,elements:X,rects:ue}){Object.assign(X.floating.style,{maxWidth:`${x}px`,maxHeight:`${Q}px`,minWidth:`${ue.reference.width}px`,overflowY:"auto"})}})],whileElementsMounted:ht}),{getReferenceProps:re,getFloatingProps:ve}=rt([ut(U),dt(U)]),et=(x,Q,X)=>{Z(ue=>new Map(ue).set(x||X,{val:x,label:Q,children:X}))},Re=u.useMemo(()=>c||!!(l&&z(l)),[c,l]),_e=u.useMemo(()=>V||!!(T&&z(T)),[V,T]);u.useEffect(()=>{ie(w)},[w]),u.useEffect(()=>{F(a)},[a]),u.useEffect(()=>{m(p)},[p]),u.useEffect(()=>{te(Re)},[Re]),u.useEffect(()=>{Se(_e)},[_e]);const tt=x=>{ie(x),C&&C(x)},nt=x=>{var Q;oe((Q=x==null?void 0:x.target)==null?void 0:Q.value),v&&v(x)},ot=x=>{$(!0),I(!0),S&&S(x)},it=x=>{$(!1),I(!1),d&&d(x)},st=gt(),lt=G===""?D.Children.toArray(i):D.Children.toArray(i).filter(x=>{var Q;if(D.isValidElement(x)){const X=((Q=x.props.children)==null?void 0:Q.toString())||x.props.label||x.props.value;return X==null?void 0:X.toLowerCase().includes(G.toLowerCase())}else return!1});return R.jsx(Ze.Provider,{value:{selectedValue:ee,truncateOptions:_,addOptionValueAndLabel:et},children:R.jsxs("div",{className:`
          juno-combobox-wrapper
          jn-relative
          ${B=="auto"?"jn-inline-block":"jn-block"}
          ${B=="auto"?"jn-w-auto":"jn-w-full"}
          ${Y}
        `,children:[R.jsxs(Bn,{defaultValue:n,disabled:o||M||k,name:E,onChange:tt,value:ee||n,...N,children:[R.jsxs("div",{ref:O.setReference,className:`juno-combobox-input-wrapper ${zn} ${o?"jn-cursor-not-allowed":""}`,children:[f&&z(f)&&!M&&!k?R.jsx(bt,{text:f,disabled:o,required:A,htmlFor:J,className:`${Fn}`,floating:!0,minimized:!!(j||H||G&&z(G)||ee&&z(ee)),...re()}):"",R.jsx(Ye,{autoComplete:"off","aria-label":e||f,"aria-describedby":s?K:"",id:J,onBlur:it,onChange:nt,onFocus:ot,placeholder:!M&&!k?j:"",displayValue:x=>{var Q,X,ue;return((X=(Q=W.get(x))==null?void 0:Q.children)==null?void 0:X.toString())||((ue=W.get(x))==null?void 0:ue.label)||g||(x==null?void 0:x.toString())||""},className:`
                juno-combobox-input 
                ${Ln} 
                ${f&&z(f)?kn:Dn}
                ${o?An:""}
                ${P?"juno-combobox-invalid "+Wn:""} 
                ${ne?"juno-combobox-valid "+qn:""}  
                ${ne||P?"":Nn} 
                ${M?"juno-combobox-loading jn-cursor-not-allowed":""}
                ${k?"juno-combobox-error jn-cursor-not-allowed":""}
                ${t}
              `}),M||k?R.jsx("span",{className:`${Xn}`,children:M?R.jsx(vt,{className:"jn-cursor-not-allowed"}):R.jsx(ge,{icon:"errorOutline",color:"jn-text-theme-error",className:"jn-cursor-not-allowed"})}):ne||P?R.jsx("span",{className:`
                  juno-combobox-icon-container 
                  ${Jn} 
                  ${o?"jn-opacity-50":""}
                `,children:R.jsx(ge,{icon:ne?"checkCircle":"dangerous",color:ne?"jn-text-theme-success":"jn-text-theme-error"})}):"",!k&&!M?R.jsx(Qe,{className:`
                  juno-combobox-toggle 
                  ${Hn}
                  ${o?Qn:""}
                  ${P?"juno-combobox-toggle-invalid "+Kn:""} 
                  ${ne?"juno-combobox-toggle-valid "+Gn:""}  
                  ${ne||P?"":Un} 
                `,children:({open:x})=>(u.useEffect(()=>{x!==h&&I(x)},[x]),R.jsx(ge,{icon:x?"expandLess":"expandMore"}))}):null]}),h&&se.createPortal(R.jsx("div",{ref:O.setFloating,className:`juno-combobox-options ${Yn}`,style:{position:b,top:Ce??0,left:Ee??0},...ve(),children:R.jsx(Je,{static:!0,className:"jn-w-full",onClick:()=>I(!h),children:lt})}),st??document.body)]}),l&&z(l)?R.jsx(Ie,{text:l,variant:"error"}):"",T&&z(T)?R.jsx(Ie,{text:T,variant:"success"}):"",s&&z(s)?R.jsx(Ie,{text:s,id:K}):""]})})};try{De.displayName="ComboBox",De.__docgenInfo={description:"",displayName:"ComboBox",props:{ariaLabel:{defaultValue:null,description:"The aria-label of the ComboBox. Defaults to the label if label was passed.",name:"ariaLabel",required:!1,type:{name:"string"}},children:{defaultValue:null,description:"The children to Render. Use `ComboBox.Option` elements.",name:"children",required:!1,type:{name:"ReactNode"}},className:{defaultValue:{value:""},description:"A custom className. Will be passed to the internal text input element of the ComboBox",name:"className",required:!1,type:{name:"string"}},defaultValue:{defaultValue:{value:""},description:"Pass a defaultValue to use as an uncontrolled Component that will handle its state internally",name:"defaultValue",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"Whether the ComboBox is disabled",name:"disabled",required:!1,type:{name:"boolean"}},error:{defaultValue:{value:"false"},description:"Whether the ComboBox has an error. Note this refers to an internal error like failing to load options etc., to indicate failed validation use `invalid` instead.",name:"error",required:!1,type:{name:"boolean"}},errortext:{defaultValue:{value:""},description:"An errortext to display when the ComboBox failed validation or an internal error occurred.",name:"errortext",required:!1,type:{name:"ReactNode"}},helptext:{defaultValue:{value:""},description:"A helptext to render to explain meaning and significance of the ComboBox",name:"helptext",required:!1,type:{name:"ReactNode"}},id:{defaultValue:{value:""},description:"The Id of the ComboBox. Will be assigned to the text input part of the ComboBox. If not passed, an id will be auto-generated.",name:"id",required:!1,type:{name:"string"}},invalid:{defaultValue:{value:"false"},description:"Whether the ComboBox failed validation",name:"invalid",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"The label of the ComboBox",name:"label",required:!1,type:{name:"string"}},loading:{defaultValue:{value:"false"},description:"Whether the ComboBox is busy loading options",name:"loading",required:!1,type:{name:"boolean"}},name:{defaultValue:{value:""},description:"The name attribute of the ComboBox when used as part of a form",name:"name",required:!1,type:{name:"string"}},onBlur:{defaultValue:null,description:"A handler to execute when the ComboBox looses focus",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onChange:{defaultValue:null,description:"A handler to execute when the ComboBox' selected value changes",name:"onChange",required:!1,type:{name:"((value: string) => void)"}},onFocus:{defaultValue:null,description:"A handler to execute when the ComboBox input receives focus",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onInputChange:{defaultValue:null,description:"Handler to execute when the ComboBox text input value changes",name:"onInputChange",required:!1,type:{name:"ChangeEventHandler<HTMLInputElement>"}},placeholder:{defaultValue:{value:"Select…"},description:"A placeholder to render in the text input",name:"placeholder",required:!1,type:{name:"string"}},required:{defaultValue:{value:"false"},description:"Whether the ComboBox is required",name:"required",required:!1,type:{name:"boolean"}},successtext:{defaultValue:{value:""},description:"A text to display in case the ComboBox was successfully validated. Will set the ComboBox to `valid` when passed.",name:"successtext",required:!1,type:{name:"ReactNode"}},truncateOptions:{defaultValue:{value:"false"},description:"Whether the option labels should be truncated in case they are longer/wider than the available space in an option or not. Default is FALSE.",name:"truncateOptions",required:!1,type:{name:"boolean"}},valid:{defaultValue:{value:"false"},description:"Whether the ComboBox was successfully validated",name:"valid",required:!1,type:{name:"boolean"}},value:{defaultValue:{value:""},description:"The selected value of the ComboBox in Controlled Mode.",name:"value",required:!1,type:{name:"string"}},valueLabel:{defaultValue:null,description:"The label of the passed value or defaultValue. If you want to use controlled mode or pass as defaultValue in uncontrolled mode and additionally use labels for human-readable SelectOptions, you need to also pass the matching label for the passed value/defaultValue so that the Select component can render itself properly",name:"valueLabel",required:!1,type:{name:"string"}},width:{defaultValue:{value:"full"},description:"The width of the text input. Either 'full' (default) or 'auto'.",name:"width",required:!1,type:{name:"enum",value:[{value:'"full"'},{value:'"auto"'}]}},wrapperClassName:{defaultValue:{value:""},description:"Pass a custom classname to the wrapping <div> element. This can be useful if you must add styling to the outermost wrapping element of this component, e.g. for positioning.",name:"wrapperClassName",required:!1,type:{name:"string"}}}}}catch{}const Zn=`
  jn-flex
  jn-pt-[0.6875rem]
  jn-pb-[0.5rem]
  jn-pr-[0.875rem]
  jn-select-none
  data-[headlessui-state~=active]:jn-outline-none
  data-[headlessui-state~=active]:jn-ring-2
  data-[headlessui-state~=active]:jn-ring-inset
  data-[headlessui-state~=active]:jn-ring-theme-focus
  data-[headlessui-state~=active]:jn-bg-theme-background-lvl-3
`,eo=`
  jn-text-theme-default
  jn-pl-[2.375rem]
`,to=`
  jn-text-theme-accent
  jn-pl-3.5
`,no=`
  jn-inline-block
  jn-mr-1.5
`,oo=`
  jn-opacity-50
  jn-cursor-not-allowed
`,io=`
  jn-block
  jn-h-6
  jn-overflow-hidden
  jn-text-ellipsis
  jn-whitespace-nowrap
`,Ae=({children:e,disabled:i=!1,value:t="",label:n="",className:o="",...a})=>{const l=u.useContext(Ze),{selectedValue:s,truncateOptions:r,addOptionValueAndLabel:c}=l||{};u.useEffect(()=>{c&&c(t,n,e)},[t,n,e]);const p=t||e;return R.jsx(Xe,{value:p,disabled:i,as:u.Fragment,children:R.jsxs("li",{className:`
          juno-combobox-option 
          ${Zn}
          ${s===t?to:eo}
          ${i?"jn-cursor-not-allowed":""}
          ${o}
        `,...a,children:[s===p?R.jsx(ge,{icon:"check",size:"18",className:`${no}`}):"",R.jsx("span",{className:`
            ${i?oo:""}
            ${r?io:""}
          `,children:e||n||t})]})})};try{Ae.displayName="ComboBoxOption",Ae.__docgenInfo={description:"",displayName:"ComboBoxOption",props:{children:{defaultValue:null,description:"Content to render inside the ComboBoxOption. Is specified should be string.",name:"children",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"If option is disabled.",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:{value:""},description:"Option value.",name:"value",required:!1,type:{name:"string"}},label:{defaultValue:{value:""},description:"Option label.",name:"label",required:!1,type:{name:"string"}},className:{defaultValue:{value:""},description:"CSS class for the option.",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{De as C,Ae as a};
