import{r as i,e as D,b as ne,j as h}from"./iframe-Wcc6q9Hn.js";import{E as Xe,x as xe,d as S,u as ae,c as _e,k as Je,f as de,P as et,e as tt,K as ie,a2 as Te,a3 as nt,y as re,F as at,A as st,S as F,B as ot,C as pe,a as lt,b as q,a4 as it,a5 as rt,$ as ut,D as ct,G as dt,_ as ke,H as pt,L as ue,h as ft,i as Ee,j as mt,l as vt,m as fe,p as ht,q as gt,r as bt,R as xt,T as yt,s as St,o as jt,t as Ot,v as $t,z as wt,a6 as It,n as Se,I as Et,Q as Rt,J as Lt,M as Pt,O as Re,Y as Vt,U as L,V as Ct,W as Le,Z as Nt,a0 as _t,a7 as Tt,a1 as kt,g as Mt}from"./portal-B_2upCjl.js";import{l as At,a as Dt,T as qt,u as Ft,j as Wt,p as Ut}from"./frozen-uaaoDkld.js";import{a as Bt,s as Ht}from"./use-text-value-BXVLV0T0.js";import{L as zt}from"./Label.component-0Wc4r5dF.js";import{I as le}from"./Icon.component-DBMN0_KY.js";import{S as Qt}from"./Spinner.component-DIOE8xZs.js";import{F as ye}from"./FormHint.component-DDxSoh2J.js";import{u as Kt,f as Gt,a as Yt,d as Zt,o as Xt,j as Jt,k as en,s as tn,h as nn}from"./floating-ui.react-CXD_ngkH.js";import{u as an}from"./PortalProvider.component-BkXRlMxG.js";var sn=Object.defineProperty,on=(e,s,t)=>s in e?sn(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,Pe=(e,s,t)=>(on(e,typeof s!="symbol"?s+"":s,t),t),$=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))($||{}),Q=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Q||{}),je=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(je||{}),Me=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOptions=5]="RegisterOptions",e[e.UnregisterOptions=6]="UnregisterOptions",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetOptionsElement=8]="SetOptionsElement",e[e.SortOptions=9]="SortOptions",e))(Me||{});function Ve(e,s=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=et(s(e.options.slice()),o=>o.dataRef.current.domRef.current),a=t?n.indexOf(t):null;return a===-1&&(a=null),{options:n,activeOptionIndex:a}}let ln={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,pendingFocus:{focus:S.Nothing},listboxState:1,__demoMode:!1}},0(e,s){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,a=e.options.findIndex(o=>n(o.dataRef.current.value));return a!==-1&&(t=a),{...e,pendingFocus:s.focus,listboxState:0,activeOptionIndex:t,__demoMode:!1}},2(e,s){var t,n,a,o,c;if(e.dataRef.current.disabled||e.listboxState===1)return e;let r={...e,searchQuery:"",activationTrigger:(t=s.trigger)!=null?t:1,__demoMode:!1};if(s.focus===S.Nothing)return{...r,activeOptionIndex:null};if(s.focus===S.Specific)return{...r,activeOptionIndex:e.options.findIndex(f=>f.id===s.id)};if(s.focus===S.Previous){let f=e.activeOptionIndex;if(f!==null){let x=e.options[f].dataRef.current.domRef,p=de(s,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:l=>l.id,resolveDisabled:l=>l.dataRef.current.disabled});if(p!==null){let l=e.options[p].dataRef.current.domRef;if(((n=x.current)==null?void 0:n.previousElementSibling)===l.current||((a=l.current)==null?void 0:a.previousElementSibling)===null)return{...r,activeOptionIndex:p}}}}else if(s.focus===S.Next){let f=e.activeOptionIndex;if(f!==null){let x=e.options[f].dataRef.current.domRef,p=de(s,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:l=>l.id,resolveDisabled:l=>l.dataRef.current.disabled});if(p!==null){let l=e.options[p].dataRef.current.domRef;if(((o=x.current)==null?void 0:o.nextElementSibling)===l.current||((c=l.current)==null?void 0:c.nextElementSibling)===null)return{...r,activeOptionIndex:p}}}}let g=Ve(e),u=de(s,{resolveItems:()=>g.options,resolveActiveIndex:()=>g.activeOptionIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});return{...r,...g,activeOptionIndex:u}},3:(e,s)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let t=e.searchQuery!==""?0:1,n=e.searchQuery+s.value.toLowerCase(),a=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+t).concat(e.options.slice(0,e.activeOptionIndex+t)):e.options).find(c=>{var r;return!c.dataRef.current.disabled&&((r=c.dataRef.current.textValue)==null?void 0:r.startsWith(n))}),o=a?e.options.indexOf(a):-1;return o===-1||o===e.activeOptionIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeOptionIndex:o,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,s)=>{let t=e.options.concat(s.options),n=e.activeOptionIndex;if(e.pendingFocus.focus!==S.Nothing&&(n=de(e.pendingFocus,{resolveItems:()=>t,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:a=>a.id,resolveDisabled:a=>a.dataRef.current.disabled})),e.activeOptionIndex===null){let{isSelected:a}=e.dataRef.current;if(a){let o=t.findIndex(c=>a?.(c.dataRef.current.value));o!==-1&&(n=o)}}return{...e,options:t,activeOptionIndex:n,pendingFocus:{focus:S.Nothing},pendingShouldSort:!0}},6:(e,s)=>{let t=e.options,n=[],a=new Set(s.options);for(let[o,c]of t.entries())if(a.has(c.id)&&(n.push(o),a.delete(c.id),a.size===0))break;if(n.length>0){t=t.slice();for(let o of n.reverse())t.splice(o,1)}return{...e,options:t,activationTrigger:1}},7:(e,s)=>e.buttonElement===s.element?e:{...e,buttonElement:s.element},8:(e,s)=>e.optionsElement===s.element?e:{...e,optionsElement:s.element},9:e=>e.pendingShouldSort?{...e,...Ve(e),pendingShouldSort:!1}:e};class Oe extends Xe{constructor(s){super(s),Pe(this,"actions",{onChange:t=>{let{onChange:n,compare:a,mode:o,value:c}=this.state.dataRef.current;return ae(o,{0:()=>n?.(t),1:()=>{let r=c.slice(),g=r.findIndex(u=>a(u,t));return g===-1?r.push(t):r.splice(g,1),n?.(r)}})},registerOption:xe(()=>{let t=[],n=new Set;return[(a,o)=>{n.has(o)||(n.add(o),t.push({id:a,dataRef:o}))},()=>(n.clear(),this.send({type:5,options:t.splice(0)}))]}),unregisterOption:xe(()=>{let t=[];return[n=>t.push(n),()=>{this.send({type:6,options:t.splice(0)})}]}),goToOption:xe(()=>{let t=null;return[(n,a)=>{t={type:2,...n,trigger:a}},()=>t&&this.send(t)]}),closeListbox:()=>{this.send({type:1})},openListbox:t=>{this.send({type:0,focus:t})},selectActiveOption:()=>{if(this.state.activeOptionIndex!==null){let{dataRef:t,id:n}=this.state.options[this.state.activeOptionIndex];this.actions.onChange(t.current.value),this.send({type:2,focus:S.Specific,id:n})}},selectOption:t=>{let n=this.state.options.find(a=>a.id===t);n&&this.actions.onChange(n.dataRef.current.value)},search:t=>{this.send({type:3,value:t})},clearSearch:()=>{this.send({type:4})},setButtonElement:t=>{this.send({type:7,element:t})},setOptionsElement:t=>{this.send({type:8,element:t})}}),Pe(this,"selectors",{activeDescendantId(t){var n;let a=t.activeOptionIndex,o=t.options;return a===null||(n=o[a])==null?void 0:n.id},isActive(t,n){var a;let o=t.activeOptionIndex,c=t.options;return o!==null?((a=c[o])==null?void 0:a.id)===n:!1},shouldScrollIntoView(t,n){return t.__demoMode||t.listboxState!==0||t.activationTrigger===0?!1:this.isActive(t,n)}}),this.on(5,()=>{requestAnimationFrame(()=>{this.send({type:9})})});{let t=this.state.id,n=_e.get(null);this.disposables.add(n.on(Je.Push,a=>{!n.selectors.isTop(a,t)&&this.state.listboxState===0&&this.actions.closeListbox()})),this.on(0,()=>n.actions.push(t)),this.on(1,()=>n.actions.pop(t))}}static new({id:s,__demoMode:t=!1}){return new Oe({id:s,dataRef:{current:{}},listboxState:t?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,buttonElement:null,optionsElement:null,pendingShouldSort:!1,pendingFocus:{focus:S.Nothing},__demoMode:t})}reduce(s,t){return ae(t.type,ln,s,t)}}const Ae=i.createContext(null);function $e(e){let s=i.useContext(Ae);if(s===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,De),t}return s}function De({id:e,__demoMode:s=!1}){let t=i.useMemo(()=>Oe.new({id:e,__demoMode:s}),[]);return tt(()=>t.dispose()),t}let ve=i.createContext(null);ve.displayName="ListboxDataContext";function ce(e){let s=i.useContext(ve);if(s===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ce),t}return s}let rn=i.Fragment;function un(e,s){let t=i.useId(),n=It(),{value:a,defaultValue:o,form:c,name:r,onChange:g,by:u,invalid:f=!1,disabled:x=n||!1,horizontal:p=!1,multiple:l=!1,__demoMode:b=!1,...V}=e;const w=p?"horizontal":"vertical";let W=re(s),I=Dt(o),[O=l?[]:void 0,P]=qt(a,g,I),E=De({id:t,__demoMode:b}),_=i.useRef({static:!1,hold:!1}),M=i.useRef(new Map),C=Ft(u),U=i.useCallback(N=>ae(v.mode,{[Q.Multi]:()=>O.some(Y=>C(Y,N)),[Q.Single]:()=>C(O,N)}),[O]),v=i.useMemo(()=>({value:O,disabled:x,invalid:f,mode:l?Q.Multi:Q.Single,orientation:w,onChange:P,compare:C,isSelected:U,optionsPropsRef:_,listRef:M}),[O,x,f,l,w,P,C,U,_,M]);Se(()=>{E.state.dataRef.current=v},[v]);let j=F(E,N=>N.listboxState),K=_e.get(null),B=F(K,i.useCallback(N=>K.selectors.isTop(N,t),[K,t])),[T,m]=F(E,N=>[N.buttonElement,N.optionsElement]);Et(B,[T,m],(N,Y)=>{E.send({type:Me.CloseListbox}),Nt(Y,_t.Loose)||(N.preventDefault(),T?.focus())});let A=i.useMemo(()=>({open:j===$.Open,disabled:x,invalid:f,value:O}),[j,x,f,O]),[J,se]=Rt({inherit:!0}),H={ref:W},ee=i.useCallback(()=>{if(I!==void 0)return P?.(I)},[P,I]),te=ue();return D.createElement(se,{value:J,props:{htmlFor:T?.id},slot:{open:j===$.Open,disabled:x}},D.createElement(Lt,null,D.createElement(Ae.Provider,{value:E},D.createElement(ve.Provider,{value:v},D.createElement(Pt,{value:ae(j,{[$.Open]:fe.Open,[$.Closed]:fe.Closed})},r!=null&&O!=null&&D.createElement(Wt,{disabled:x,data:{[r]:O},form:c,onReset:ee}),te({ourProps:H,theirProps:V,slot:A,defaultTag:rn,name:"Listbox"}))))))}let cn="button";function dn(e,s){let t=i.useId(),n=nt(),a=ce("Listbox.Button"),o=$e("Listbox.Button"),{id:c=n||`headlessui-listbox-button-${t}`,disabled:r=a.disabled||!1,autoFocus:g=!1,...u}=e,f=re(s,at(),o.actions.setButtonElement),x=st(),[p,l,b]=F(o,m=>[m.listboxState,m.buttonElement,m.optionsElement]),V=p===$.Open;ot(V,{trigger:l,action:i.useCallback(m=>{if(l!=null&&l.contains(m.target))return pe.Ignore;let A=m.target.closest('[role="option"]:not([data-disabled])');return lt(A)?pe.Select(A):b!=null&&b.contains(m.target)?pe.Ignore:pe.Close},[l,b]),close:o.actions.closeListbox,select:o.actions.selectActiveOption});let w=q(m=>{switch(m.key){case L.Enter:Ut(m.currentTarget);break;case L.Space:case L.ArrowDown:m.preventDefault(),o.actions.openListbox({focus:a.value?S.Nothing:S.First});break;case L.ArrowUp:m.preventDefault(),o.actions.openListbox({focus:a.value?S.Nothing:S.Last});break}}),W=q(m=>{switch(m.key){case L.Space:m.preventDefault();break}}),I=q(m=>{var A;if(m.button===0){if(Vt(m.currentTarget))return m.preventDefault();o.state.listboxState===$.Open?(ne.flushSync(()=>o.actions.closeListbox()),(A=o.state.buttonElement)==null||A.focus({preventScroll:!0})):(m.preventDefault(),o.actions.openListbox({focus:S.Nothing}))}}),O=q(m=>m.preventDefault()),P=it([c]),E=rt(),{isFocusVisible:_,focusProps:M}=ut({autoFocus:g}),{isHovered:C,hoverProps:U}=ct({isDisabled:r}),{pressed:v,pressProps:j}=dt({disabled:r}),K=i.useMemo(()=>({open:p===$.Open,active:v||p===$.Open,disabled:r,invalid:a.invalid,value:a.value,hover:C,focus:_,autofocus:g}),[p,a.value,r,C,_,v,a.invalid,g]),B=F(o,m=>m.listboxState===$.Open),T=ke(x(),{ref:f,id:c,type:pt(e,l),"aria-haspopup":"listbox","aria-controls":b?.id,"aria-expanded":B,"aria-labelledby":P,"aria-describedby":E,disabled:r||void 0,autoFocus:g,onKeyDown:w,onKeyUp:W,onKeyPress:O,onPointerDown:I},M,U,j);return ue()({ourProps:T,theirProps:u,slot:K,defaultTag:cn,name:"Listbox.Button"})}let qe=i.createContext(!1),pn="div",fn=Re.RenderStrategy|Re.Static;function mn(e,s){let t=i.useId(),{id:n=`headlessui-listbox-options-${t}`,anchor:a,portal:o=!1,modal:c=!0,transition:r=!1,...g}=e,u=ft(a),[f,x]=i.useState(null);u&&(o=!0);let p=ce("Listbox.Options"),l=$e("Listbox.Options"),[b,V,w,W]=F(l,d=>[d.listboxState,d.buttonElement,d.optionsElement,d.__demoMode]),I=Ee(V),O=Ee(w),P=mt(),[E,_]=vt(r,f,P!==null?(P&fe.Open)===fe.Open:b===$.Open);ht(E,V,l.actions.closeListbox);let M=W?!1:c&&b===$.Open;gt(M,O);let C=W?!1:c&&b===$.Open;bt(C,{allowed:i.useCallback(()=>[V,w],[V,w])});let U=b!==$.Open,v=Bt(U,V)?!1:E,j=E&&b===$.Closed,K=At(j,p.value),B=q(d=>p.compare(K,d)),T=F(l,d=>{var R;if(u==null||!((R=u?.to)!=null&&R.includes("selection")))return null;let G=d.options.findIndex(oe=>B(oe.dataRef.current.value));return G===-1&&(G=0),G}),m=(()=>{if(u==null)return;if(T===null)return{...u,inner:void 0};let d=Array.from(p.listRef.current.values());return{...u,inner:{listRef:{current:d},index:T}}})(),[A,J]=xt(m),se=yt(),H=re(s,u?A:null,l.actions.setOptionsElement,x),ee=St();i.useEffect(()=>{var d;let R=w;R&&b===$.Open&&R!==((d=jt(R))==null?void 0:d.activeElement)&&R?.focus({preventScroll:!0})},[b,w]);let te=q(d=>{var R,G;switch(ee.dispose(),d.key){case L.Space:if(l.state.searchQuery!=="")return d.preventDefault(),d.stopPropagation(),l.actions.search(d.key);case L.Enter:if(d.preventDefault(),d.stopPropagation(),l.state.activeOptionIndex!==null){let{dataRef:oe}=l.state.options[l.state.activeOptionIndex];l.actions.onChange(oe.current.value)}p.mode===Q.Single&&(ne.flushSync(()=>l.actions.closeListbox()),(R=l.state.buttonElement)==null||R.focus({preventScroll:!0}));break;case ae(p.orientation,{vertical:L.ArrowDown,horizontal:L.ArrowRight}):return d.preventDefault(),d.stopPropagation(),l.actions.goToOption({focus:S.Next});case ae(p.orientation,{vertical:L.ArrowUp,horizontal:L.ArrowLeft}):return d.preventDefault(),d.stopPropagation(),l.actions.goToOption({focus:S.Previous});case L.Home:case L.PageUp:return d.preventDefault(),d.stopPropagation(),l.actions.goToOption({focus:S.First});case L.End:case L.PageDown:return d.preventDefault(),d.stopPropagation(),l.actions.goToOption({focus:S.Last});case L.Escape:d.preventDefault(),d.stopPropagation(),ne.flushSync(()=>l.actions.closeListbox()),(G=l.state.buttonElement)==null||G.focus({preventScroll:!0});return;case L.Tab:d.preventDefault(),d.stopPropagation(),ne.flushSync(()=>l.actions.closeListbox()),Ct(l.state.buttonElement,d.shiftKey?Le.Previous:Le.Next);break;default:d.key.length===1&&(l.actions.search(d.key),ee.setTimeout(()=>l.actions.clearSearch(),350));break}}),N=F(l,d=>{var R;return(R=d.buttonElement)==null?void 0:R.id}),Y=i.useMemo(()=>({open:b===$.Open}),[b]),he=ke(u?se():{},{id:n,ref:H,"aria-activedescendant":F(l,l.selectors.activeDescendantId),"aria-multiselectable":p.mode===Q.Multi?!0:void 0,"aria-labelledby":N,"aria-orientation":p.orientation,onKeyDown:te,role:"listbox",tabIndex:b===$.Open?0:void 0,style:{...g.style,...J,"--button-width":$t(V,!0).width},...Ot(_)}),Z=ue(),ge=i.useMemo(()=>p.mode===Q.Multi?p:{...p,isSelected:B},[p,B]);return D.createElement(wt,{enabled:o?e.static||E:!1,ownerDocument:I},D.createElement(ve.Provider,{value:ge},Z({ourProps:he,theirProps:g,slot:Y,defaultTag:pn,features:fn,visible:v,name:"Listbox.Options"})))}let vn="div";function hn(e,s){let t=i.useId(),{id:n=`headlessui-listbox-option-${t}`,disabled:a=!1,value:o,...c}=e,r=i.useContext(qe)===!0,g=ce("Listbox.Option"),u=$e("Listbox.Option"),f=F(u,v=>u.selectors.isActive(v,n)),x=g.isSelected(o),p=i.useRef(null),l=Ht(p),b=Tt({disabled:a,value:o,domRef:p,get textValue(){return l()}}),V=re(s,p,v=>{v?g.listRef.current.set(n,v):g.listRef.current.delete(n)}),w=F(u,v=>u.selectors.shouldScrollIntoView(v,n));Se(()=>{if(w)return kt().requestAnimationFrame(()=>{var v,j;(j=(v=p.current)==null?void 0:v.scrollIntoView)==null||j.call(v,{block:"nearest"})})},[w,p]),Se(()=>{if(!r)return u.actions.registerOption(n,b),()=>u.actions.unregisterOption(n)},[b,n,r]);let W=q(v=>{var j;if(a)return v.preventDefault();u.actions.onChange(o),g.mode===Q.Single&&(ne.flushSync(()=>u.actions.closeListbox()),(j=u.state.buttonElement)==null||j.focus({preventScroll:!0}))}),I=q(()=>{if(a)return u.actions.goToOption({focus:S.Nothing});u.actions.goToOption({focus:S.Specific,id:n})}),O=Mt(),P=q(v=>{O.update(v),!a&&(f||u.actions.goToOption({focus:S.Specific,id:n},je.Pointer))}),E=q(v=>{O.wasMoved(v)&&(a||f||u.actions.goToOption({focus:S.Specific,id:n},je.Pointer))}),_=q(v=>{O.wasMoved(v)&&(a||f&&u.actions.goToOption({focus:S.Nothing}))}),M=i.useMemo(()=>({active:f,focus:f,selected:x,disabled:a,selectedOption:x&&r}),[f,x,a,r]),C=r?{}:{id:n,ref:V,role:"option",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,"aria-selected":x,disabled:void 0,onClick:W,onFocus:I,onPointerEnter:P,onMouseEnter:P,onPointerMove:E,onMouseMove:E,onPointerLeave:_,onMouseLeave:_},U=ue();return!x&&r?null:U({ourProps:C,theirProps:c,slot:M,defaultTag:vn,name:"Listbox.Option"})}let gn=i.Fragment;function bn(e,s){let{options:t,placeholder:n,...a}=e,o={ref:re(s)},c=ce("ListboxSelectedOption"),r=i.useMemo(()=>({}),[]),g=c.value===void 0||c.value===null||c.mode===Q.Multi&&Array.isArray(c.value)&&c.value.length===0,u=ue();return D.createElement(qe.Provider,{value:!0},u({ourProps:o,theirProps:{...a,children:D.createElement(D.Fragment,null,n&&g?n:t)},slot:r,defaultTag:gn,name:"ListboxSelectedOption"}))}let xn=ie(un),Fe=ie(dn),yn=Te,We=ie(mn),Ue=ie(hn),Sn=ie(bn),jn=Object.assign(xn,{Button:Fe,Label:yn,Options:We,Option:Ue,SelectedOption:Sn});const On=`
  jn:no-wrap
  jn:pointer-events-none
  jn:top-2
  jn:left-4
`,$n=`
  jn:appearance-none
  jn:h-[2.375rem]
  jn:inline-flex
  jn:items-center
  jn:px-4
  jn:rounded-3px
  jn:select-none
  jn:text-base
  jn:focus:outline-hidden
  jn:focus:ring-2
  jn:focus:ring-theme-focus
`,wn=`
  jn:border
  jn:border-theme-success
`,In=`
  jn:border
  jn:border-theme-error
`,En=`
  jn:absolute
  jn:top-1/2
  jn:left-1/2
  jn:translate-y-[-50%]
  jn:translate-x-[-0.75rem]
`,Rn=`
  jn:rounded
  jn:bg-theme-background-lvl-1
  jn:w-full
  jn:overflow-y-auto
`,Ln=`
  jn:block
  jn:h-6
  jn:overflow-hidden
  jn:text-ellipsis
  jn:whitespace-nowrap
`,me=i.createContext(void 0),Ce=({ariaLabel:e="",children:s,className:t="",defaultValue:n,disabled:a=!1,error:o=!1,errortext:c="",helptext:r="",id:g="",invalid:u=!1,label:f,loading:x=!1,multiple:p=!1,name:l,onChange:b,onValueChange:V,placeholder:w="Select…",required:W=!1,successtext:I="",truncateOptions:O=!1,valid:P=!1,value:E,valueLabel:_,variant:M="default",width:C="full",wrapperClassName:U="",...v})=>{const j=y=>!(typeof y=="string"&&y.trim().length===0),K=()=>"juno-select-"+i.useId(),[B,T]=i.useState(!1),m=g||K(),A="juno-select-helptext-"+i.useId(),[J,se]=i.useState(new Map),[H,ee]=i.useState(!1),[te,N]=i.useState(!1),[Y,he]=i.useState(!1),[Z,ge]=i.useState(!1),d=(y,k,X)=>{se(z=>new Map([...Array.from(z),[y??X,{val:y,label:k,children:X,displayName:X??k??y}]]))},R=i.useMemo(()=>u||!!(c&&j(c)),[u,c]),G=i.useMemo(()=>P||!!(I&&j(I)),[P,I]);i.useEffect(()=>{ee(o)},[o]),i.useEffect(()=>{N(R)},[R]),i.useEffect(()=>{he(G)},[G]),i.useEffect(()=>{ge(x)},[x]);const oe=y=>{b&&b(y),V&&V(y)},Be=an(),{x:He,y:ze,strategy:Qe,refs:we,context:Ie}=Kt({open:B,onOpenChange:T,placement:"top",whileElementsMounted:nn,middleware:[Xt(4),Jt({crossAxis:!0,allowedPlacements:["bottom","top"]}),en({apply({availableWidth:y,availableHeight:k,elements:X,rects:z}){Object.assign(X.floating.style,{maxWidth:`${y}px`,maxHeight:`${k}px`,minWidth:`${z.reference.width}px`,overflowY:"auto"})}}),tn()]}),{getReferenceProps:Ke,getFloatingProps:Ge}=Gt([Yt(Ie),Zt(Ie)]),Ye=y=>{const k=z=>{const be=J.get(z);if(be)return be.displayName?.length?be.displayName:null};return y.map(z=>k(z)).filter(z=>z&&z.toString().trim().length>0).join(", ")};return h.jsx(me.Provider,{value:{truncateOptions:O,addOptionValueAndLabel:d},children:h.jsxs("div",{className:`
          juno-select-wrapper 
          jn:relative
          ${C=="auto"?"jn:inline-block":"jn:block"}
          ${C=="auto"?"jn:w-auto":"jn:w-full"}
          ${U}
        `,children:[h.jsx(jn,{disabled:a||Z||H,multiple:p,name:l,onChange:oe,value:E,defaultValue:n,as:"div",children:({open:y})=>(i.useEffect(()=>{T(y)},[y]),h.jsxs(h.Fragment,{children:[f&&j(f)?h.jsx(Te,{as:zt,htmlFor:m,text:f,className:`${On}`,disabled:a||Z||H,required:W,floating:!0,minimized:!0}):"",h.jsxs("div",{children:[h.jsx(Fe,{ref:we.setReference,"aria-describedby":r?A:"","aria-label":e||f,as:"button",id:m,className:`
                    juno-select-toggle
                    ${M&&M.length?"juno-select-toggle-"+M:"juno-select-toggle-default"}
                    ${C=="auto"?"jn:w-auto":"jn:w-full"}
                    ${$n}
                    ${f&&j(f)?"jn:pt-[0.4rem]":""}
                    ${a?"juno-select-disabled jn:opacity-50 jn:cursor-not-allowed":""}
                    ${Z||H?"jn:justify-center":"jn:justify-between"}
                    ${te?"juno-select-invalid "+In:""} 
                    ${Y?"juno-select-valid "+wn:""}  
                    
                    ${Z?"juno-select-loading jn:cursor-not-allowed":""}
                    ${H?"juno-select-error jn:cursor-not-allowed":""}
                    ${t}
                  `,...Ke(),...v,children:({open:k,value:X})=>(i.useEffect(()=>{k!==B&&T(k)},[k]),!H&&!Z?h.jsxs(h.Fragment,{children:[h.jsx("span",{className:`${Ln}`,children:Ze(X)}),h.jsxs("span",{className:"jn:flex",children:[Y?h.jsx(le,{icon:"checkCircle",color:"jn:text-theme-success"}):"",te?h.jsx(le,{icon:"dangerous",color:"jn:text-theme-error"}):"",h.jsx("span",{children:h.jsx(le,{icon:k?"expandLess":"expandMore"})})]})]}):h.jsx("span",{className:`${En}`,children:H?h.jsx(le,{icon:"errorOutline",color:"jn:text-theme-error",className:"jn:cursor-not-allowed"}):Z?h.jsx(Qt,{className:"jn:cursor-not-allowed"}):""}))}),ne.createPortal(h.jsx("div",{ref:we.setFloating,style:{position:Qe,top:ze??0,left:He??0,display:y?"block":"none"},...Ge(),children:h.jsx(We,{static:!0,className:`
                          juno-select-menu
                          ${Rn}
                        `,children:s})}),Be??document.body)]})]}))}),c&&j(c)?h.jsx(ye,{text:c,variant:"error"}):"",I&&j(I)?h.jsx(ye,{text:I,variant:"success"}):"",r&&j(r)?h.jsx(ye,{text:r,id:A}):""]})});function Ze(y){if(p)return Ye(y)||_||y.join(", ")||w;{const k=J.get(y);return k?k.displayName||_||y||w:_||y||w}}};try{me.displayName="SelectContext",me.__docgenInfo={description:"",displayName:"SelectContext",props:{}}}catch{}try{Ce.displayName="Select",Ce.__docgenInfo={description:"A Select component that can be configured to allow selecting a single item or multiple items.\nPass a `defaultValue` to render as an uncontrolled component that tracks its open state etc internally.",displayName:"Select",props:{ariaLabel:{defaultValue:{value:""},description:"Pass an aria-label to the Select toggle button",name:"ariaLabel",required:!1,type:{name:"string"}},children:{defaultValue:null,description:"The children to render as options. Use the SelectOption component, and SelectDivider if needed.",name:"children",required:!1,type:{name:"ReactNode"}},className:{defaultValue:{value:""},description:"Pass a custom className to the internal Select toggle button",name:"className",required:!1,type:{name:"string"}},defaultValue:{defaultValue:null,description:"Pass a defaultValue to use as an uncontrolled component that handles its state internally. When setting `multiple` on the Select pass an Array instead of a string.",name:"defaultValue",required:!1,type:{name:"string | string[]"}},disabled:{defaultValue:{value:"false"},description:"Whether the Select is disabled",name:"disabled",required:!1,type:{name:"boolean"}},error:{defaultValue:{value:"false"},description:"Whether the Select has an error, e.g. when loading options. When validated negatively, use `invalid` instead.",name:"error",required:!1,type:{name:"boolean"}},errortext:{defaultValue:{value:""},description:"A small message rendered in red text below the Select toggle.",name:"errortext",required:!1,type:{name:"ReactNode"}},helptext:{defaultValue:{value:""},description:"A small, neutral text rendered below the Select toggle to explain meaning and significance of the Select element",name:"helptext",required:!1,type:{name:"ReactNode"}},id:{defaultValue:{value:""},description:"Pass an id to the Select toggle",name:"id",required:!1,type:{name:"string"}},invalid:{defaultValue:{value:"false"},description:"Whether the Select has been validated unsuccessfully / negatively",name:"invalid",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"Pass a label to render in the Select toggle button",name:"label",required:!1,type:{name:"string"}},loading:{defaultValue:{value:"false"},description:"Whether the Select is busy loading options. Will show a Spinner in the Select toggle.",name:"loading",required:!1,type:{name:"boolean"}},multiple:{defaultValue:{value:"false"},description:"Whether multiple options of the Select can be selected. When passing true, pass an array containing one or multiple options as `value` / `defaultValue` respectively.",name:"multiple",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"Pass a name attribute to the Select to be transmitted when used in a form.",name:"name",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"Handler to be executed when the selected value changes",name:"onChange",required:!1,type:{name:"((value?: string | number | string[]) => void)"}},open:{defaultValue:null,description:"Handle for openning of select",name:"open",required:!1,type:{name:"boolean"}},onValueChange:{defaultValue:null,description:"LEGACY: Handler to be executed when the Select value changes. Here for backwards compatibility with apps based on older versions of Select. Use onChange instead.",name:"onValueChange",required:!1,type:{name:"((value?: string | number | string[]) => void)"}},placeholder:{defaultValue:{value:"Select…"},description:'A placeholder to render when no value has been selected. Default is "Select…".',name:"placeholder",required:!1,type:{name:"string"}},required:{defaultValue:{value:"false"},description:"Whether a selection is required. Will show a small required marker next to the label. If no label is used, no marker will be visible.",name:"required",required:!1,type:{name:"boolean"}},successtext:{defaultValue:{value:""},description:"A note to render below the Select toggle in case the selected value has been positively validated. Will set the visible state of the Select toggle to `valid`.",name:"successtext",required:!1,type:{name:"ReactNode"}},truncateOptions:{defaultValue:{value:"false"},description:'Whether long texts in options will be truncated with "…" or not. Default is false. The Select toggle label will always be truncated.',name:"truncateOptions",required:!1,type:{name:"boolean"}},valid:{defaultValue:{value:"false"},description:"Whether the Select was positively validated. Will show a green checkmark icon inside the Select toggle.",name:"valid",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"The currently (pre-)selected value of the Select. Will trigger controlled mode. When setting `multiple` on the Select pass an Array instead of a string.",name:"value",required:!1,type:{name:"string | number | string[]"}},valueLabel:{defaultValue:null,description:`The label of the passed value or defaultValue. If you want to use controlled mode or pass as defaultValue in uncontrolled mode and additionally use labels for
human-readable SelectOptions you need to also pass the matching label for the passed value/defaultValue so that the Select component can render itself properly.`,name:"valueLabel",required:!1,type:{name:"string"}},variant:{defaultValue:{value:"default"},description:"The semantic variant of the Select toggle button.",name:"variant",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"primary"'},{value:'"primary-danger"'},{value:'"subdued"'}]}},width:{defaultValue:{value:"full"},description:'Whether the Select toggle should consume the available width of its parent container (default), or render its "natural" width depending on the content and the currently selected value or state.',name:"width",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"full"'}]}},wrapperClassName:{defaultValue:{value:""},description:"Pass a custom classname to the wrapping element. This can be useful if you must add styling to the outermost wrapping element of this component, e.g. for positioning.",name:"wrapperClassName",required:!1,type:{name:"string"}}}}}catch{}const Pn=`
  jn:flex
  jn:pt-[0.6875rem]
  jn:pb-[0.5rem]
  jn:pr-[0.875rem]
  jn:select-none
  jn:hover:outline-hidden
  jn:hover:ring-2
  jn:hover:ring-inset
  jn:hover:ring-theme-focus
  jn:hover:bg-theme-background-lvl-3
`,Vn=`
  jn:text-theme-default
  jn:pl-[2.375rem]
`,Cn=`
  jn:text-theme-accent
  jn:pl-3.5
`,Nn=`
  jn:inline-block
  jn:mr-1.5
  jn:overflow-auto
`,_n=`
  jn:opacity-50
  jn:cursor-not-allowed
`,Tn=`
  jn:block
  jn:h-6
  jn:overflow-hidden
  jn:text-ellipsis
  jn:whitespace-nowrap
`,Ne=({children:e,className:s="",disabled:t=!1,value:n="",label:a,...o})=>{const c=i.useContext(me),{truncateOptions:r,addOptionValueAndLabel:g}=c||{truncateOptions:!1,addOptionValueAndLabel:()=>{}};return i.useEffect(()=>{g(n,a,e)},[n,a,e]),h.jsx(Ue,{as:i.Fragment,disabled:t,value:n||e,children:({selected:u})=>h.jsxs("li",{className:`
          juno-select-option 
          jn:min-h-[2.5rem]
          ${Pn}
          ${u?"juno-select-option-selected "+Cn:Vn}
          ${t?"juno-select-option-disabled jn:opacity-50 jn:cursor-not-allowed":""}
          ${r?"juno-select-option-truncate":""}
          ${s}
        `,...o,children:[u?h.jsx(le,{icon:"check",size:"18",className:Nn}):"",h.jsx("span",{className:`
            ${t?_n:""}
            ${r?Tn:""}
          `,children:e||a||n})]})})};try{Ne.displayName="SelectOption",Ne.__docgenInfo={description:"",displayName:"SelectOption",props:{className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:{value:""},description:"",name:"value",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}}}}}catch{}export{Ce as S,Ne as a};
