"use strict";(self.webpackChunk_cloudoperators_juno_ui_components=self.webpackChunk_cloudoperators_juno_ui_components||[]).push([[3681],{"./src/components/JsonViewer/JsonViewer.component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{p:()=>JsonViewer});var themes_namespaceObject={};__webpack_require__.r(themes_namespaceObject),__webpack_require__.d(themes_namespaceObject,{dark:()=>dark,light:()=>light});var prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),react=__webpack_require__("../../node_modules/react/index.js");const dark={base00:"rgb(39, 40, 34)",base01:"rgb(245, 245, 245)",base02:"rgb(73, 72, 62)",base03:"#93a1a1",base04:"rgb(165, 159, 133)",base05:"rgb(248, 248, 242)",base06:"#073642",base07:"rgb(249, 248, 245)",base08:"rgb(249, 38, 114)",base09:"rgb(253, 151, 31)",base0A:"rgb(244, 191, 117)",base0B:"rgb(166, 226, 46)",base0C:"rgb(161, 239, 228)",base0D:"rgb(102, 217, 239)",base0E:"rgb(174, 129, 255)",base0F:"rgb(204, 102, 51)"},light={base00:"#fff",base01:"rgb(245, 245, 245)",base02:"rgb(235, 235, 235)",base03:"#93a1a1",base04:"rgba(0, 0, 0, 0.3)",base05:"#586e75",base06:"#073642",base07:"#002b36",base08:"#d33682",base09:"#cb4b16",base0A:"#dc322f",base0B:"#859900",base0C:"#6c71c4",base0D:"#586e75",base0E:"#2aa198",base0F:"#268bd2"};var SearchInput_component=__webpack_require__("./src/components/SearchInput/SearchInput.component.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const DEFAULT_THEME={base00:"var(--color-syntax-highlight-base00)",base01:"var(--color-syntax-highlight-base01)",base02:"var(--color-syntax-highlight-base02)",base03:"var(--color-syntax-highlight-base03)",base04:"var(--color-syntax-highlight-base04)",base05:"var(--color-syntax-highlight-base05)",base06:"var(--color-syntax-highlight-base06)",base07:"var(--color-syntax-highlight-base07)",base08:"var(--color-syntax-highlight-base08)",base09:"var(--color-syntax-highlight-base09)",base0A:"var(--color-syntax-highlight-base0A)",base0B:"var(--color-syntax-highlight-base0B)",base0C:"var(--color-syntax-highlight-base0C)",base0D:"var(--color-syntax-highlight-base0D)",base0E:"var(--color-syntax-highlight-base0E)",base0F:"var(--color-syntax-highlight-base0F)"},ThemeContext=react.createContext(DEFAULT_THEME),ExpandIcon=_ref=>{let{expanded}=_ref;const{colors}=(0,react.useContext)(ThemeContext);return react.createElement("svg",{fill:expanded?colors.icon.expanded:colors.icon.collapsed,width:"1em",height:"1em",viewBox:"0 0 1792 1792",style:{verticalAlign:"middle",color:"var(--color-syntax-highlight-base0E)",height:"1em",width:"1em"}},react.createElement("title",null,"Expand/Collapse"),expanded?react.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-832q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h832q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"}):react.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-352v352q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-352h-352q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h352v-352q0-14 9-23t23-9h64q14 0 23 9t9 23v352h352q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"}))};ExpandIcon.propTypes={expanded:prop_types_default().bool};const ExpandAllIcon=()=>{const{colors}=(0,react.useContext)(ThemeContext);return react.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:colors.icon.expandAll,alt:"expand more",role:"img"},react.createElement("title",null,"Expand All"),react.createElement("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"}))},CollapseAllIcon=()=>{const{colors}=(0,react.useContext)(ThemeContext);return react.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:colors.icon.expandAll,alt:"expand less",role:"img"},react.createElement("title",null,"Collapse All"),react.createElement("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14l-6-6z"}))},StringWithHighlight=_ref2=>{let{value}=_ref2;const{colors,searchTerm}=(0,react.useContext)(ThemeContext),highlight=react.useMemo((()=>{if(null==value||!searchTerm||""===searchTerm)return null;try{const startIndex=value.toString().toLowerCase().indexOf(searchTerm.toLowerCase());return startIndex<0?null:{start:startIndex,end:startIndex+searchTerm.length}}catch(e){return console.debug("JsonViewer:",e),null}}),[searchTerm]);return highlight?react.createElement(react.Fragment,null,value.slice(0,highlight.start),react.createElement("span",{style:{backgroundColor:colors.highlight.background,color:colors.highlight.foreground}},value.slice(highlight.start,highlight.end)),value.slice(highlight.end)):value};StringWithHighlight.propTypes={value:prop_types_default().string};const NameLabel=_ref3=>{let{name}=_ref3;const{colors}=(0,react.useContext)(ThemeContext),isIndex="number"==typeof name,color=isIndex?colors.index:colors.key,label=isIndex?name:`"${name}"`;return react.createElement("span",{style:{color}}," ",react.createElement("span",{style:{opacity:.85}},react.createElement(StringWithHighlight,{value:label}))," : ")};NameLabel.propTypes={name:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().number])};const TypeValueLabel=_ref4=>{let{type,value}=_ref4;const{colors,truncate}=(0,react.useContext)(ThemeContext);let undefinedValue=["nan","null","undefined"].includes(type),label="string"===type?`"${value}"`:`${value}`;if(truncate){const length=!0===truncate?100:truncate;label.length>length&&(label=label.slice(0,length-3)+"...")}return react.createElement("span",{style:{color:colors.dataType[type],backgroundColor:undefinedValue?colors.dataType.background:void 0,borderRadius:3,padding:undefinedValue?"2px 5px":0}},!undefinedValue&&react.createElement("span",{style:{opacity:.8,fontSize:"small",margin:"0 4px"}},type),react.createElement("span",null,react.createElement(StringWithHighlight,{value:label})))};TypeValueLabel.propTypes={type:prop_types_default().string,value:prop_types_default().any};const Toolbar=()=>{const{colors,onExpandAll,onSearch}=(0,react.useContext)(ThemeContext);return react.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:`1px solid ${colors.toolbar?.border}`,padding:"3px 0 5px 0"}},react.createElement("span",{style:{display:"flex"}},react.createElement("span",{style:{cursor:"pointer"},onClick:()=>onExpandAll(!0)},react.createElement(ExpandAllIcon,null)),react.createElement("span",{style:{cursor:"pointer"},onClick:()=>onExpandAll(!1)},react.createElement(CollapseAllIcon,null))),react.createElement(SearchInput_component.D,{className:"jn-me-1",style:{backgroundColor:colors.toolbar.background,color:colors.toolbar.foreground},onChange:e=>onSearch(e.target.value),clear:!0,onClear:()=>onSearch(null)}))},JsonData=_ref5=>{let{name,value,nestedLevel=0}=_ref5;const{colors,expanded,searchTerm,indentWidth,expandAll}=(0,react.useContext)(ThemeContext),[isExpanded,setIsExpanded]=react.useState(!0===expanded||!1!==expanded&&expanded>nestedLevel);(0,react.useLayoutEffect)((()=>{expandAll&&setIsExpanded(expandAll.expanded)}),[expandAll]),(0,react.useLayoutEffect)((()=>{if(value&&searchTerm)try{JSON.stringify(value).indexOf(searchTerm)>0&&setIsExpanded(!0)}catch(_e){}}),[searchTerm]);const dataType=react.useMemo((()=>(value=>{if(null===value)return"null";if(Array.isArray(value))return"array";if(value instanceof RegExp)return"regex";if(value instanceof Date)return"date";const t=(typeof value).toLowerCase();return"number"===t?Number.isNaN(value)?"nan":Number.isInteger(value)?"integer":"float":t})(value)),[value]),children=react.useMemo((()=>"array"===dataType?value.map(((v,i)=>({name:i,value:v}))):"object"===dataType?Object.keys(value).map(((key,_i)=>({name:key,value:value[key]}))):null),[dataType,value]),ExpandButton=react.useCallback((_ref6=>{let{children}=_ref6;return react.createElement("span",{style:{cursor:"pointer",display:"inline-block"},onClick:()=>{setIsExpanded(!isExpanded)}},children)}),[isExpanded,setIsExpanded]);return react.createElement("div",{"data-json-viewer":name},react.createElement("div",{style:{letterSpacing:.5,padding:"3px 0"}},children&&react.createElement(react.Fragment,null,react.createElement(ExpandButton,null,react.createElement(ExpandIcon,{expanded:isExpanded}))," "),(name||0===name)&&react.createElement(NameLabel,{name}),children?react.createElement(react.Fragment,null,react.createElement("span",{style:{color:colors.brace}},"array"===dataType?"[":"{"),!isExpanded&&react.createElement(react.Fragment,null,react.createElement(ExpandButton,null,react.createElement("span",{style:{color:colors.ellipsis}},"...")),react.createElement("span",{style:{color:colors.brace}},"array"===dataType?"]":"}")),react.createElement("span",{style:{color:colors.size,opacity:.85,fontStyle:"italic",fontSize:"smaller"}}," ",children?.length," ",1===children?.length?"item":"items"),isExpanded&&react.createElement(react.Fragment,null,react.createElement("div",{"data-body":name,style:{paddingLeft:5*indentWidth,marginLeft:8,borderLeft:`1px solid ${colors.border}`}},children?.map(((entry,i)=>react.createElement(JsonData,{key:i,name:entry.name,value:entry.value,nestedLevel:nestedLevel+1})))),react.createElement("span",{style:{color:colors.key,marginLeft:6}},"array"===dataType?"]":"}"))):react.createElement(TypeValueLabel,{type:dataType,value})))};JsonData.propTypes={name:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().number,prop_types_default().bool]),value:prop_types_default().any,nestedLevel:prop_types_default().number};const JsonViewer=_ref7=>{let{data={},showRoot=!1,toolbar=!1,theme=null,expanded=1,indentWidth=4,style,truncate=!1,className,...props}=_ref7;const colors=(theme=>({background:theme.base00,ellipsis:theme.base09,brace:theme.base07,key:theme.base07,index:theme.base0C,size:theme.base04,border:theme.base02,highlight:{foreground:theme.base06,background:theme.base02},toolbar:{border:theme.base01,background:theme.base01,foreground:theme.base07},icon:{expanded:theme.base0D,collapsed:theme.base0E,expandAll:theme.base0E},dataType:{boolean:theme.base0E,date:theme.base0D,float:theme.base0B,function:theme.base0D,integer:theme.base0F,string:theme.base09,nan:theme.base08,null:theme.base0A,undefined:theme.base05,regexp:theme.base0A,background:theme.base02}}))("string"==typeof theme&&themes_namespaceObject[theme]||{...DEFAULT_THEME,...theme}),[searchTerm,setSearchTerm]=react.useState(""),[expandAll,setExpandAll]=react.useState(null);return react.createElement(ThemeContext.Provider,{value:{colors,expanded,expandAll,searchTerm,indentWidth,truncate,onExpandAll:v=>setExpandAll({expanded:v,timestamp:Date.now()}),onSearch:v=>setSearchTerm(v)}},react.createElement("div",_extends({"data-json-viewer":!0,className:`juno-json-viewer ${className}`,style:{backgroundColor:colors.background,fontFamily:"monospace",overflow:"auto",...style}},props),toolbar&&react.createElement(Toolbar,null),react.createElement(JsonData,{name:!!showRoot&&"root",value:data})))};JsonViewer.propTypes={data:prop_types_default().oneOfType([prop_types_default().object,prop_types_default().array]).isRequired,style:prop_types_default().object,toolbar:prop_types_default().bool,showRoot:prop_types_default().bool,theme:prop_types_default().oneOfType([prop_types_default().shape({base00:prop_types_default().string,base01:prop_types_default().string,base02:prop_types_default().string,base03:prop_types_default().string,base04:prop_types_default().string,base05:prop_types_default().string,base06:prop_types_default().string,base07:prop_types_default().string,base08:prop_types_default().string,base09:prop_types_default().string,base0A:prop_types_default().string,base0B:prop_types_default().string,base0C:prop_types_default().string,base0D:prop_types_default().string,base0E:prop_types_default().string,base0F:prop_types_default().string}),prop_types_default().oneOf(["dark","light"])]),expanded:prop_types_default().oneOfType([prop_types_default().number,prop_types_default().bool]),truncate:prop_types_default().oneOfType([prop_types_default().bool,prop_types_default().number]),indentWidth:prop_types_default().number,className:prop_types_default().string},JsonViewer.__docgenInfo={description:"A component to render json data in a nice way.",methods:[],displayName:"JsonViewer",props:{data:{defaultValue:{value:"{}",computed:!1},description:"Pass a valid json. Required.",type:{name:"union",value:[{name:"object"},{name:"array"}]},required:!1},showRoot:{defaultValue:{value:"false",computed:!1},description:"show root key",type:{name:"bool"},required:!1},toolbar:{defaultValue:{value:"false",computed:!1},description:"show toolbar",type:{name:"bool"},required:!1},theme:{defaultValue:{value:"null",computed:!1},description:'dark, light or map of colors\n\n@param base00 background\n@param base01 NOT used\n@param base02 border, NaN,null, undefined background\n@param base03 NOT used\n@param base04 size (x items)\n@param base05 type "undefined"\n@param base06 NOT used\n@param base07 key, brace\n@param base08 type "NaN"\n@param base09 ellipsis (...), type "string"\n@param base0A types: "null", "regex"\n@param base0B type "float"\n@param base0C index\n@param base0D expanded icon, types: "date", "function"\n@param base0E collapsed icon, types: "boolean"\n@param base0F copy icon, type "integer"',type:{name:"union",value:[{name:"shape",value:{base00:{name:"string",required:!1},base01:{name:"string",required:!1},base02:{name:"string",required:!1},base03:{name:"string",required:!1},base04:{name:"string",required:!1},base05:{name:"string",required:!1},base06:{name:"string",required:!1},base07:{name:"string",required:!1},base08:{name:"string",required:!1},base09:{name:"string",required:!1},base0A:{name:"string",required:!1},base0B:{name:"string",required:!1},base0C:{name:"string",required:!1},base0D:{name:"string",required:!1},base0E:{name:"string",required:!1},base0F:{name:"string",required:!1}}},{name:"enum",value:[{value:'"dark"',computed:!1},{value:'"light"',computed:!1}]}]},required:!1},expanded:{defaultValue:{value:"1",computed:!1},description:"expanded can be true|false or a number. The number denotes the hierarchy level to which the object is expanded.",type:{name:"union",value:[{name:"number"},{name:"bool"}]},required:!1},indentWidth:{defaultValue:{value:"4",computed:!1},description:"",type:{name:"number"},required:!1},truncate:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"union",value:[{name:"bool"},{name:"number"}]},required:!1},style:{description:"pass a styles object",type:{name:"object"},required:!1},className:{description:"",type:{name:"string"},required:!1}}}}}]);