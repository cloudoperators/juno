import{c as Da,j as l,u as Ga,H as Ha,s as Fa,f as K,y as L,a4 as Ma,n as Na,g as M,k as Ka,J as Ua,M as Ba,_ as ka,L as za,t as $a,q as Wa,F as Ja,T as Va}from"./Shell-sm3sR0tq.js";import{r as w,e as N,g as Xa}from"./index-BQDoZsxm.js";import"./index-CFvdG9RL.js";const Ya=()=>Da((e,r)=>({endpoint:"",namespace:"",token:"",currentTeam:"",defaultTeam:"",teamMemberships:[],namespace:"",actions:{initialize:(t,a,n,i)=>e({endpoint:t,namespace:n,token:a,currentTeam:i}),setCurrentTeam:t=>e({currentTeam:t}),setTeamMemberships:t=>{var n,i;let a=r().currentTeam;(a===""||a===void 0||a===null)&&(a=(i=(n=t==null?void 0:t[0])==null?void 0:n.metadata)==null?void 0:i.name),e({teamMemberships:t,currentTeam:a})}}})),Aa=w.createContext(),Za=({children:e})=>l.jsx(Aa.Provider,{value:Ya(),children:e}),P=e=>Ga(w.useContext(Aa),e),Qa=()=>P(e=>e.endpoint),en=()=>P(e=>e.namespace),rn=()=>P(e=>e.token),Pr=()=>P(e=>e.currentTeam),ma=()=>P(e=>e.defaultTeam),U=()=>P(e=>e.teamMemberships),B=()=>P(e=>e.actions),tn=()=>{const e=Qa(),r=rn();return{client:e&&r?Ha({apiEndpoint:e,token:r}):null}},Hr=e=>{let r=e;return typeof e=="string"&&(r=Fr(e)),typeof e=="object"&&(console.log("Error parsing error message::object"),e!=null&&e.message&&(r=Fr(e==null?void 0:e.message))),r},Fr=e=>{let r=e;try{r=JSON.parse(e),r!=null&&r.message&&(r=(r!=null&&r.code?`${r.code}, `:"")+(r==null?void 0:r.message))}catch(t){console.error(t)}return r};var Y,Mr;function an(){if(Mr)return Y;Mr=1;function e(){this.__data__=[],this.size=0}return Y=e,Y}var Z,Nr;function Ca(){if(Nr)return Z;Nr=1;function e(r,t){return r===t||r!==r&&t!==t}return Z=e,Z}var Q,Kr;function k(){if(Kr)return Q;Kr=1;var e=Ca();function r(t,a){for(var n=t.length;n--;)if(e(t[n][0],a))return n;return-1}return Q=r,Q}var ee,Ur;function nn(){if(Ur)return ee;Ur=1;var e=k(),r=Array.prototype,t=r.splice;function a(n){var i=this.__data__,s=e(i,n);if(s<0)return!1;var u=i.length-1;return s==u?i.pop():t.call(i,s,1),--this.size,!0}return ee=a,ee}var re,Br;function sn(){if(Br)return re;Br=1;var e=k();function r(t){var a=this.__data__,n=e(a,t);return n<0?void 0:a[n][1]}return re=r,re}var te,kr;function un(){if(kr)return te;kr=1;var e=k();function r(t){return e(this.__data__,t)>-1}return te=r,te}var ae,zr;function on(){if(zr)return ae;zr=1;var e=k();function r(t,a){var n=this.__data__,i=e(n,t);return i<0?(++this.size,n.push([t,a])):n[i][1]=a,this}return ae=r,ae}var ne,$r;function z(){if($r)return ne;$r=1;var e=an(),r=nn(),t=sn(),a=un(),n=on();function i(s){var u=-1,o=s==null?0:s.length;for(this.clear();++u<o;){var c=s[u];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=r,i.prototype.get=t,i.prototype.has=a,i.prototype.set=n,ne=i,ne}var ie,Wr;function cn(){if(Wr)return ie;Wr=1;var e=z();function r(){this.__data__=new e,this.size=0}return ie=r,ie}var se,Jr;function fn(){if(Jr)return se;Jr=1;function e(r){var t=this.__data__,a=t.delete(r);return this.size=t.size,a}return se=e,se}var ue,Vr;function ln(){if(Vr)return ue;Vr=1;function e(r){return this.__data__.get(r)}return ue=e,ue}var oe,Xr;function vn(){if(Xr)return oe;Xr=1;function e(r){return this.__data__.has(r)}return oe=e,oe}var ce,Yr;function Sa(){if(Yr)return ce;Yr=1;var e=typeof N=="object"&&N&&N.Object===Object&&N;return ce=e,ce}var fe,Zr;function E(){if(Zr)return fe;Zr=1;var e=Sa(),r=typeof self=="object"&&self&&self.Object===Object&&self,t=e||r||Function("return this")();return fe=t,fe}var le,Qr;function Lr(){if(Qr)return le;Qr=1;var e=E(),r=e.Symbol;return le=r,le}var ve,et;function _n(){if(et)return ve;et=1;var e=Lr(),r=Object.prototype,t=r.hasOwnProperty,a=r.toString,n=e?e.toStringTag:void 0;function i(s){var u=t.call(s,n),o=s[n];try{s[n]=void 0;var c=!0}catch{}var v=a.call(s);return c&&(u?s[n]=o:delete s[n]),v}return ve=i,ve}var _e,rt;function hn(){if(rt)return _e;rt=1;var e=Object.prototype,r=e.toString;function t(a){return r.call(a)}return _e=t,_e}var he,tt;function $(){if(tt)return he;tt=1;var e=Lr(),r=_n(),t=hn(),a="[object Null]",n="[object Undefined]",i=e?e.toStringTag:void 0;function s(u){return u==null?u===void 0?n:a:i&&i in Object(u)?r(u):t(u)}return he=s,he}var de,at;function Ra(){if(at)return de;at=1;function e(r){var t=typeof r;return r!=null&&(t=="object"||t=="function")}return de=e,de}var pe,nt;function ja(){if(nt)return pe;nt=1;var e=$(),r=Ra(),t="[object AsyncFunction]",a="[object Function]",n="[object GeneratorFunction]",i="[object Proxy]";function s(u){if(!r(u))return!1;var o=e(u);return o==a||o==n||o==t||o==i}return pe=s,pe}var ge,it;function dn(){if(it)return ge;it=1;var e=E(),r=e["__core-js_shared__"];return ge=r,ge}var ye,st;function pn(){if(st)return ye;st=1;var e=dn(),r=function(){var a=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();function t(a){return!!r&&r in a}return ye=t,ye}var qe,ut;function xa(){if(ut)return qe;ut=1;var e=Function.prototype,r=e.toString;function t(a){if(a!=null){try{return r.call(a)}catch{}try{return a+""}catch{}}return""}return qe=t,qe}var be,ot;function gn(){if(ot)return be;ot=1;var e=ja(),r=pn(),t=Ra(),a=xa(),n=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,o=s.toString,c=u.hasOwnProperty,v=RegExp("^"+o.call(c).replace(n,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(y){if(!t(y)||r(y))return!1;var A=e(y)?v:i;return A.test(a(y))}return be=f,be}var Te,ct;function yn(){if(ct)return Te;ct=1;function e(r,t){return r==null?void 0:r[t]}return Te=e,Te}var Ae,ft;function D(){if(ft)return Ae;ft=1;var e=gn(),r=yn();function t(a,n){var i=r(a,n);return e(i)?i:void 0}return Ae=t,Ae}var me,lt;function Dr(){if(lt)return me;lt=1;var e=D(),r=E(),t=e(r,"Map");return me=t,me}var Ce,vt;function W(){if(vt)return Ce;vt=1;var e=D(),r=e(Object,"create");return Ce=r,Ce}var Se,_t;function qn(){if(_t)return Se;_t=1;var e=W();function r(){this.__data__=e?e(null):{},this.size=0}return Se=r,Se}var Re,ht;function bn(){if(ht)return Re;ht=1;function e(r){var t=this.has(r)&&delete this.__data__[r];return this.size-=t?1:0,t}return Re=e,Re}var je,dt;function Tn(){if(dt)return je;dt=1;var e=W(),r="__lodash_hash_undefined__",t=Object.prototype,a=t.hasOwnProperty;function n(i){var s=this.__data__;if(e){var u=s[i];return u===r?void 0:u}return a.call(s,i)?s[i]:void 0}return je=n,je}var xe,pt;function An(){if(pt)return xe;pt=1;var e=W(),r=Object.prototype,t=r.hasOwnProperty;function a(n){var i=this.__data__;return e?i[n]!==void 0:t.call(i,n)}return xe=a,xe}var Oe,gt;function mn(){if(gt)return Oe;gt=1;var e=W(),r="__lodash_hash_undefined__";function t(a,n){var i=this.__data__;return this.size+=this.has(a)?0:1,i[a]=e&&n===void 0?r:n,this}return Oe=t,Oe}var Ie,yt;function Cn(){if(yt)return Ie;yt=1;var e=qn(),r=bn(),t=Tn(),a=An(),n=mn();function i(s){var u=-1,o=s==null?0:s.length;for(this.clear();++u<o;){var c=s[u];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=r,i.prototype.get=t,i.prototype.has=a,i.prototype.set=n,Ie=i,Ie}var Ee,qt;function Sn(){if(qt)return Ee;qt=1;var e=Cn(),r=z(),t=Dr();function a(){this.size=0,this.__data__={hash:new e,map:new(t||r),string:new e}}return Ee=a,Ee}var we,bt;function Rn(){if(bt)return we;bt=1;function e(r){var t=typeof r;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?r!=="__proto__":r===null}return we=e,we}var Pe,Tt;function J(){if(Tt)return Pe;Tt=1;var e=Rn();function r(t,a){var n=t.__data__;return e(a)?n[typeof a=="string"?"string":"hash"]:n.map}return Pe=r,Pe}var Le,At;function jn(){if(At)return Le;At=1;var e=J();function r(t){var a=e(this,t).delete(t);return this.size-=a?1:0,a}return Le=r,Le}var De,mt;function xn(){if(mt)return De;mt=1;var e=J();function r(t){return e(this,t).get(t)}return De=r,De}var Ge,Ct;function On(){if(Ct)return Ge;Ct=1;var e=J();function r(t){return e(this,t).has(t)}return Ge=r,Ge}var He,St;function In(){if(St)return He;St=1;var e=J();function r(t,a){var n=e(this,t),i=n.size;return n.set(t,a),this.size+=n.size==i?0:1,this}return He=r,He}var Fe,Rt;function Oa(){if(Rt)return Fe;Rt=1;var e=Sn(),r=jn(),t=xn(),a=On(),n=In();function i(s){var u=-1,o=s==null?0:s.length;for(this.clear();++u<o;){var c=s[u];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=r,i.prototype.get=t,i.prototype.has=a,i.prototype.set=n,Fe=i,Fe}var Me,jt;function En(){if(jt)return Me;jt=1;var e=z(),r=Dr(),t=Oa(),a=200;function n(i,s){var u=this.__data__;if(u instanceof e){var o=u.__data__;if(!r||o.length<a-1)return o.push([i,s]),this.size=++u.size,this;u=this.__data__=new t(o)}return u.set(i,s),this.size=u.size,this}return Me=n,Me}var Ne,xt;function wn(){if(xt)return Ne;xt=1;var e=z(),r=cn(),t=fn(),a=ln(),n=vn(),i=En();function s(u){var o=this.__data__=new e(u);this.size=o.size}return s.prototype.clear=r,s.prototype.delete=t,s.prototype.get=a,s.prototype.has=n,s.prototype.set=i,Ne=s,Ne}var Ke,Ot;function Pn(){if(Ot)return Ke;Ot=1;var e="__lodash_hash_undefined__";function r(t){return this.__data__.set(t,e),this}return Ke=r,Ke}var Ue,It;function Ln(){if(It)return Ue;It=1;function e(r){return this.__data__.has(r)}return Ue=e,Ue}var Be,Et;function Dn(){if(Et)return Be;Et=1;var e=Oa(),r=Pn(),t=Ln();function a(n){var i=-1,s=n==null?0:n.length;for(this.__data__=new e;++i<s;)this.add(n[i])}return a.prototype.add=a.prototype.push=r,a.prototype.has=t,Be=a,Be}var ke,wt;function Gn(){if(wt)return ke;wt=1;function e(r,t){for(var a=-1,n=r==null?0:r.length;++a<n;)if(t(r[a],a,r))return!0;return!1}return ke=e,ke}var ze,Pt;function Hn(){if(Pt)return ze;Pt=1;function e(r,t){return r.has(t)}return ze=e,ze}var $e,Lt;function Ia(){if(Lt)return $e;Lt=1;var e=Dn(),r=Gn(),t=Hn(),a=1,n=2;function i(s,u,o,c,v,f){var y=o&a,A=s.length,S=u.length;if(A!=S&&!(y&&S>A))return!1;var T=f.get(s),b=f.get(u);if(T&&b)return T==u&&b==s;var q=-1,_=!0,m=o&n?new e:void 0;for(f.set(s,u),f.set(u,s);++q<A;){var p=s[q],C=u[q];if(c)var g=y?c(C,p,q,u,s,f):c(p,C,q,s,u,f);if(g!==void 0){if(g)continue;_=!1;break}if(m){if(!r(u,function(h,R){if(!t(m,R)&&(p===h||v(p,h,o,c,f)))return m.push(R)})){_=!1;break}}else if(!(p===C||v(p,C,o,c,f))){_=!1;break}}return f.delete(s),f.delete(u),_}return $e=i,$e}var We,Dt;function Fn(){if(Dt)return We;Dt=1;var e=E(),r=e.Uint8Array;return We=r,We}var Je,Gt;function Mn(){if(Gt)return Je;Gt=1;function e(r){var t=-1,a=Array(r.size);return r.forEach(function(n,i){a[++t]=[i,n]}),a}return Je=e,Je}var Ve,Ht;function Nn(){if(Ht)return Ve;Ht=1;function e(r){var t=-1,a=Array(r.size);return r.forEach(function(n){a[++t]=n}),a}return Ve=e,Ve}var Xe,Ft;function Kn(){if(Ft)return Xe;Ft=1;var e=Lr(),r=Fn(),t=Ca(),a=Ia(),n=Mn(),i=Nn(),s=1,u=2,o="[object Boolean]",c="[object Date]",v="[object Error]",f="[object Map]",y="[object Number]",A="[object RegExp]",S="[object Set]",T="[object String]",b="[object Symbol]",q="[object ArrayBuffer]",_="[object DataView]",m=e?e.prototype:void 0,p=m?m.valueOf:void 0;function C(g,h,R,j,O,d,I){switch(R){case _:if(g.byteLength!=h.byteLength||g.byteOffset!=h.byteOffset)return!1;g=g.buffer,h=h.buffer;case q:return!(g.byteLength!=h.byteLength||!d(new r(g),new r(h)));case o:case c:case y:return t(+g,+h);case v:return g.name==h.name&&g.message==h.message;case A:case T:return g==h+"";case f:var x=n;case S:var X=j&s;if(x||(x=i),g.size!=h.size&&!X)return!1;var F=I.get(g);if(F)return F==h;j|=u,I.set(g,h);var La=a(x(g),x(h),j,O,d,I);return I.delete(g),La;case b:if(p)return p.call(g)==p.call(h)}return!1}return Xe=C,Xe}var Ye,Mt;function Un(){if(Mt)return Ye;Mt=1;function e(r,t){for(var a=-1,n=t.length,i=r.length;++a<n;)r[i+a]=t[a];return r}return Ye=e,Ye}var Ze,Nt;function Gr(){if(Nt)return Ze;Nt=1;var e=Array.isArray;return Ze=e,Ze}var Qe,Kt;function Bn(){if(Kt)return Qe;Kt=1;var e=Un(),r=Gr();function t(a,n,i){var s=n(a);return r(a)?s:e(s,i(a))}return Qe=t,Qe}var er,Ut;function kn(){if(Ut)return er;Ut=1;function e(r,t){for(var a=-1,n=r==null?0:r.length,i=0,s=[];++a<n;){var u=r[a];t(u,a,r)&&(s[i++]=u)}return s}return er=e,er}var rr,Bt;function zn(){if(Bt)return rr;Bt=1;function e(){return[]}return rr=e,rr}var tr,kt;function $n(){if(kt)return tr;kt=1;var e=kn(),r=zn(),t=Object.prototype,a=t.propertyIsEnumerable,n=Object.getOwnPropertySymbols,i=n?function(s){return s==null?[]:(s=Object(s),e(n(s),function(u){return a.call(s,u)}))}:r;return tr=i,tr}var ar,zt;function Wn(){if(zt)return ar;zt=1;function e(r,t){for(var a=-1,n=Array(r);++a<r;)n[a]=t(a);return n}return ar=e,ar}var nr,$t;function V(){if($t)return nr;$t=1;function e(r){return r!=null&&typeof r=="object"}return nr=e,nr}var ir,Wt;function Jn(){if(Wt)return ir;Wt=1;var e=$(),r=V(),t="[object Arguments]";function a(n){return r(n)&&e(n)==t}return ir=a,ir}var sr,Jt;function Vn(){if(Jt)return sr;Jt=1;var e=Jn(),r=V(),t=Object.prototype,a=t.hasOwnProperty,n=t.propertyIsEnumerable,i=e(function(){return arguments}())?e:function(s){return r(s)&&a.call(s,"callee")&&!n.call(s,"callee")};return sr=i,sr}var G={exports:{}},ur,Vt;function Xn(){if(Vt)return ur;Vt=1;function e(){return!1}return ur=e,ur}G.exports;var Xt;function Ea(){return Xt||(Xt=1,function(e,r){var t=E(),a=Xn(),n=r&&!r.nodeType&&r,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,u=s?t.Buffer:void 0,o=u?u.isBuffer:void 0,c=o||a;e.exports=c}(G,G.exports)),G.exports}var or,Yt;function Yn(){if(Yt)return or;Yt=1;var e=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function t(a,n){var i=typeof a;return n=n??e,!!n&&(i=="number"||i!="symbol"&&r.test(a))&&a>-1&&a%1==0&&a<n}return or=t,or}var cr,Zt;function wa(){if(Zt)return cr;Zt=1;var e=9007199254740991;function r(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=e}return cr=r,cr}var fr,Qt;function Zn(){if(Qt)return fr;Qt=1;var e=$(),r=wa(),t=V(),a="[object Arguments]",n="[object Array]",i="[object Boolean]",s="[object Date]",u="[object Error]",o="[object Function]",c="[object Map]",v="[object Number]",f="[object Object]",y="[object RegExp]",A="[object Set]",S="[object String]",T="[object WeakMap]",b="[object ArrayBuffer]",q="[object DataView]",_="[object Float32Array]",m="[object Float64Array]",p="[object Int8Array]",C="[object Int16Array]",g="[object Int32Array]",h="[object Uint8Array]",R="[object Uint8ClampedArray]",j="[object Uint16Array]",O="[object Uint32Array]",d={};d[_]=d[m]=d[p]=d[C]=d[g]=d[h]=d[R]=d[j]=d[O]=!0,d[a]=d[n]=d[b]=d[i]=d[q]=d[s]=d[u]=d[o]=d[c]=d[v]=d[f]=d[y]=d[A]=d[S]=d[T]=!1;function I(x){return t(x)&&r(x.length)&&!!d[e(x)]}return fr=I,fr}var lr,ea;function Qn(){if(ea)return lr;ea=1;function e(r){return function(t){return r(t)}}return lr=e,lr}var H={exports:{}};H.exports;var ra;function ei(){return ra||(ra=1,function(e,r){var t=Sa(),a=r&&!r.nodeType&&r,n=a&&!0&&e&&!e.nodeType&&e,i=n&&n.exports===a,s=i&&t.process,u=function(){try{var o=n&&n.require&&n.require("util").types;return o||s&&s.binding&&s.binding("util")}catch{}}();e.exports=u}(H,H.exports)),H.exports}var vr,ta;function Pa(){if(ta)return vr;ta=1;var e=Zn(),r=Qn(),t=ei(),a=t&&t.isTypedArray,n=a?r(a):e;return vr=n,vr}var _r,aa;function ri(){if(aa)return _r;aa=1;var e=Wn(),r=Vn(),t=Gr(),a=Ea(),n=Yn(),i=Pa(),s=Object.prototype,u=s.hasOwnProperty;function o(c,v){var f=t(c),y=!f&&r(c),A=!f&&!y&&a(c),S=!f&&!y&&!A&&i(c),T=f||y||A||S,b=T?e(c.length,String):[],q=b.length;for(var _ in c)(v||u.call(c,_))&&!(T&&(_=="length"||A&&(_=="offset"||_=="parent")||S&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||n(_,q)))&&b.push(_);return b}return _r=o,_r}var hr,na;function ti(){if(na)return hr;na=1;var e=Object.prototype;function r(t){var a=t&&t.constructor,n=typeof a=="function"&&a.prototype||e;return t===n}return hr=r,hr}var dr,ia;function ai(){if(ia)return dr;ia=1;function e(r,t){return function(a){return r(t(a))}}return dr=e,dr}var pr,sa;function ni(){if(sa)return pr;sa=1;var e=ai(),r=e(Object.keys,Object);return pr=r,pr}var gr,ua;function ii(){if(ua)return gr;ua=1;var e=ti(),r=ni(),t=Object.prototype,a=t.hasOwnProperty;function n(i){if(!e(i))return r(i);var s=[];for(var u in Object(i))a.call(i,u)&&u!="constructor"&&s.push(u);return s}return gr=n,gr}var yr,oa;function si(){if(oa)return yr;oa=1;var e=ja(),r=wa();function t(a){return a!=null&&r(a.length)&&!e(a)}return yr=t,yr}var qr,ca;function ui(){if(ca)return qr;ca=1;var e=ri(),r=ii(),t=si();function a(n){return t(n)?e(n):r(n)}return qr=a,qr}var br,fa;function oi(){if(fa)return br;fa=1;var e=Bn(),r=$n(),t=ui();function a(n){return e(n,t,r)}return br=a,br}var Tr,la;function ci(){if(la)return Tr;la=1;var e=oi(),r=1,t=Object.prototype,a=t.hasOwnProperty;function n(i,s,u,o,c,v){var f=u&r,y=e(i),A=y.length,S=e(s),T=S.length;if(A!=T&&!f)return!1;for(var b=A;b--;){var q=y[b];if(!(f?q in s:a.call(s,q)))return!1}var _=v.get(i),m=v.get(s);if(_&&m)return _==s&&m==i;var p=!0;v.set(i,s),v.set(s,i);for(var C=f;++b<A;){q=y[b];var g=i[q],h=s[q];if(o)var R=f?o(h,g,q,s,i,v):o(g,h,q,i,s,v);if(!(R===void 0?g===h||c(g,h,u,o,v):R)){p=!1;break}C||(C=q=="constructor")}if(p&&!C){var j=i.constructor,O=s.constructor;j!=O&&"constructor"in i&&"constructor"in s&&!(typeof j=="function"&&j instanceof j&&typeof O=="function"&&O instanceof O)&&(p=!1)}return v.delete(i),v.delete(s),p}return Tr=n,Tr}var Ar,va;function fi(){if(va)return Ar;va=1;var e=D(),r=E(),t=e(r,"DataView");return Ar=t,Ar}var mr,_a;function li(){if(_a)return mr;_a=1;var e=D(),r=E(),t=e(r,"Promise");return mr=t,mr}var Cr,ha;function vi(){if(ha)return Cr;ha=1;var e=D(),r=E(),t=e(r,"Set");return Cr=t,Cr}var Sr,da;function _i(){if(da)return Sr;da=1;var e=D(),r=E(),t=e(r,"WeakMap");return Sr=t,Sr}var Rr,pa;function hi(){if(pa)return Rr;pa=1;var e=fi(),r=Dr(),t=li(),a=vi(),n=_i(),i=$(),s=xa(),u="[object Map]",o="[object Object]",c="[object Promise]",v="[object Set]",f="[object WeakMap]",y="[object DataView]",A=s(e),S=s(r),T=s(t),b=s(a),q=s(n),_=i;return(e&&_(new e(new ArrayBuffer(1)))!=y||r&&_(new r)!=u||t&&_(t.resolve())!=c||a&&_(new a)!=v||n&&_(new n)!=f)&&(_=function(m){var p=i(m),C=p==o?m.constructor:void 0,g=C?s(C):"";if(g)switch(g){case A:return y;case S:return u;case T:return c;case b:return v;case q:return f}return p}),Rr=_,Rr}var jr,ga;function di(){if(ga)return jr;ga=1;var e=wn(),r=Ia(),t=Kn(),a=ci(),n=hi(),i=Gr(),s=Ea(),u=Pa(),o=1,c="[object Arguments]",v="[object Array]",f="[object Object]",y=Object.prototype,A=y.hasOwnProperty;function S(T,b,q,_,m,p){var C=i(T),g=i(b),h=C?v:n(T),R=g?v:n(b);h=h==c?f:h,R=R==c?f:R;var j=h==f,O=R==f,d=h==R;if(d&&s(T)){if(!s(b))return!1;C=!0,j=!1}if(d&&!j)return p||(p=new e),C||u(T)?r(T,b,q,_,m,p):t(T,b,h,q,_,m,p);if(!(q&o)){var I=j&&A.call(T,"__wrapped__"),x=O&&A.call(b,"__wrapped__");if(I||x){var X=I?T.value():T,F=x?b.value():b;return p||(p=new e),m(X,F,q,_,p)}}return d?(p||(p=new e),a(T,b,q,_,m,p)):!1}return jr=S,jr}var xr,ya;function pi(){if(ya)return xr;ya=1;var e=di(),r=V();function t(a,n,i,s,u){return a===n?!0:a==null||n==null||!r(a)&&!r(n)?a!==a&&n!==n:e(a,n,i,s,t,u)}return xr=t,xr}var Or,qa;function gi(){if(qa)return Or;qa=1;var e=pi();function r(t,a){return e(t,a)}return Or=r,Or}var yi=gi();const ba=Xa(yi);function Ir(e){return e==null?!1:typeof e[Symbol.iterator]=="function"}function Er(e,r,{added:t,modified:a,deleted:n}){var u;let i=[...e];function s(o){return e.findIndex(function(c){return o===c.metadata.name})}if(t){if(!Ir(t))return;(u=Object.values(t))==null||u.forEach(o=>{i.some(v=>{var f,y;return((f=o==null?void 0:o.metadata)==null?void 0:f.name)===((y=v==null?void 0:v.metadata)==null?void 0:y.name)})||i.push(o)})}if(a){if(!Ir(a))return;a.forEach(o=>{var v;let c=s((v=o==null?void 0:o.metadata)==null?void 0:v.name);c!==-1&&(ba(i[c],o)||(i[c]=o))})}if(n){if(!Ir(n))return;n.forEach(o=>{var v;let c=s((v=o==null?void 0:o.metadata)==null?void 0:v.name);c!==-1&&(i=i.filter((f,y)=>y!==c))})}ba(i,e)||r(i)}const qi=()=>{const e=en(),{client:r}=tn(),{addMessage:t}=Fa(),{setTeamMemberships:a}=B(),n=U();return{watchTeamMembers:w.useCallback(()=>{if(!r||!e)return;const s=r.watch(`/apis/greenhouse.sap/v1alpha1/namespaces/${e}/teammemberships`);return s.on(r.WATCH_ERROR,u=>{console.log("ERROR: Failed to watch resource",u),t({variant:"error",text:Hr(u.message)})}),s.on(r.WATCH_ADDED,u=>{Er(n,a,{added:u})}),s.on(r.WATCH_MODIFIED,u=>{Er(n,a,{modified:u})}),s.on(r.WATCH_DELETED,u=>{Er(n,a,{deleted:u})}),s.start(),s.cancel()},[r,e,n,a,t,Hr])}},bi=({teamMember:e})=>l.jsxs(K,{children:[l.jsx(L,{children:e.id}),l.jsx(L,{children:e.firstName}),l.jsx(L,{children:e.lastName}),l.jsx(L,{children:e.email})]}),Ti=()=>{const e=Pr(),r=ma(),t=U(),a=e||r,n=w.useMemo(()=>{var o;if(!a||!t)return[];const u=t.find(c=>c.metadata.name===a);return((o=u==null?void 0:u.spec)==null?void 0:o.members)||[]},[a,t]),{scrollListItems:i,iterator:s}=Ma(n,{loadingObject:l.jsx(K,{children:l.jsx(L,{colSpan:4,children:l.jsx("span",{children:"Loading ..."})})}),refFunction:u=>l.jsx(K,{children:l.jsx(L,{colSpan:4,className:"border-b-0 py-0",children:l.jsx("span",{ref:u})})})});return(i==null?void 0:i.length)>0?l.jsx(l.Fragment,{children:l.jsxs(Na,{columns:4,children:[l.jsxs(K,{children:[l.jsx(M,{children:"ID"}),l.jsx(M,{children:"Firstname"}),l.jsx(M,{children:"Lastname"}),l.jsx(M,{children:"E-Mail"})]}),s.map(u=>l.jsx(bi,{teamMember:u},u.id))]})}):l.jsx("div",{children:"There are no Team Members to display."})},Ai=`
  bg-theme-background-lvl-1
  py-2
  px-4
  my-px`,mi=({onTeamChange:e})=>{const r=Pr(),t=U();return l.jsx(Ka,{direction:"vertical",gap:"4",className:`filters ${Ai}`,children:l.jsx(Ua,{name:"team",className:"filter-label-select w-64 mb-0",label:"Team",value:r||defaultTeam,onChange:e,children:t==null?void 0:t.map((a,n)=>{var i,s;return l.jsx(Ba,{value:(i=a==null?void 0:a.metadata)==null?void 0:i.name,label:(s=a==null?void 0:a.metadata)==null?void 0:s.name},n)})})})},Ci=()=>{const e=U(),{watchTeamMembers:r}=qi(),{setCurrentTeam:t}=B();w.useEffect(()=>r?r():void 0,[r]);function a(n){t(n)}return l.jsxs(ka,{py:!0,px:!0,children:[l.jsx(za,{className:"pb-6"}),(e==null?void 0:e.length)>0&&l.jsxs(l.Fragment,{children:[l.jsx(mi,{onTeamChange:a}),l.jsx(Ti,{})]})]})},Si="@tailwind base;@tailwind components;@tailwind utilities;",Ta="greenhouse-team-admin",wr="team",Ri=e=>{const[r,t]=w.useState(!1),a=$a(e||Ta),{setCurrentTeam:n}=B(),i=Pr(),s=ma();w.useEffect(()=>{var o;if(r)return;console.log(`Team-Admin: (${e||Ta}) setting up state from url:`,a.currentState());const u=(o=a.currentState())==null?void 0:o[wr];u&&n(u),t(!0)},[n]),w.useEffect(()=>{var u;r&&(a.push({[wr]:i||s}),console.log("useUrlStateKey - after  urlStateManager.push: ",(u=a.currentState())==null?void 0:u[wr]))},[r,i,s])},ji=({consumerId:e})=>(Ri(e),null),xi=(e={})=>{const{initialize:r}=B();return r(e.apiEndpoint,e.token,e.namespace,e.userGroup),l.jsxs(Ja,{children:[l.jsx(ji,{}),l.jsx(Va,{pageHeader:"Converged Cloud | Team Members",embedded:e.embedded==="true"||e.embedded===!0,children:l.jsx(Ci,{props:e})})]})},wi=e=>l.jsxs(Wa,{theme:`${e.theme?e.theme:"theme-dark"}`,children:[l.jsx("style",{children:Si.toString()}),l.jsx(Za,{children:l.jsx(xi,{...e})})]});export{wi as default};
