import{j as a,K as c,T as h,l as v,A as b,v as o,w as f,C as g,y as x,z as j,X as C}from"./App-CD9givPi-yM6dTkCX.js";import{w as n}from"./_extensionId._-CcNFE3T7.js";const F=({filters:i,onChange:l})=>{const[e,d]=n.useState(""),[m,t]=n.useState(""),r=i.find(s=>s.filterName===e)?.values?.filter(s=>s),p=n.useCallback(s=>{t(s),!o.isEmpty(e)&&!o.isEmpty(s)&&l({name:e,value:s}),setTimeout(()=>{t("")},0)},[e,t,l]);return a.jsx(c,{alignment:"center",gap:"8",children:a.jsxs(h,{children:[a.jsx(f,{className:"filter-label-select w-64 mb-0",name:"filter","data-testid":"select-filterValue",label:"Filter",value:e,onChange:s=>{d(String(s))},children:i?.map(({displayName:s,filterName:u})=>a.jsx(g,{value:u,label:s,"data-testid":u},u))}),a.jsx(x,{className:"filter-value-select w-64 bg-theme-background-lvl-0",name:"filterValue","data-testid":"combobox-filterValue",value:m,disabled:!e,onChange:p,children:r?.map(s=>a.jsx(j,{value:s,label:s,"data-testid":s},s))})]})})},w=({selectedFilters:i,onDelete:l})=>a.jsx(c,{gap:"2",wrap:!0,children:i?.map(e=>a.jsx(C,{closeable:!0,pillKey:e.name,pillValue:e.value,onClose:()=>l(e)},`${e.name}:${e.value}`))}),k=({filters:i,filterSettings:l,onFilterChange:e,searchInputPlaceholder:d})=>{const m=n.useCallback(t=>{e({...l,selectedFilters:l.selectedFilters?.filter(r=>!(r.name===t.name&&r.value===t.value))})},[l,e]);return a.jsxs(c,{direction:"vertical",gap:"4",className:"bg-theme-background-lvl-1 py-2 px-4 ",children:[a.jsxs(c,{alignment:"center",gap:"4",children:[a.jsx(h,{children:a.jsx(F,{filters:i,onChange:t=>{l.selectedFilters?.some(r=>r.name===t.name&&r.value===t.value)||e({...l,selectedFilters:[...l.selectedFilters||[],t]})}})}),a.jsx(v,{label:"Clear all",className:"ml-4",onClick:()=>e({...l,selectedFilters:[]}),variant:"subdued"}),a.jsx(b,{placeholder:d||"search term for",className:"w-96 ml-auto","data-testid":"searchbar",value:l.searchTerm,onSearch:t=>{e({...l,searchTerm:t})},onClear:()=>e({...l,searchTerm:""})})]}),l.selectedFilters&&l.selectedFilters.length>0&&a.jsx(w,{selectedFilters:l.selectedFilters,onDelete:m})]})};export{k as w};
