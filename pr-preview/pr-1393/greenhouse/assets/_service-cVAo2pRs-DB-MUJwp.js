import{b as g,p as h,K as f,M as $,j as e,y as b,O as y,n as C,m as V,A as q,$ as K,i as n,o as p,c as u,V as T,E as v}from"./App-VvK_4Mtq-BrDVee0R.js";import{G as r}from"./_extensionId._-T_MYZ-XT.js";import{S as L,M}from"./IssueCountsPerSeverityLevel-w5hLpdXQ-YuFwTvha.js";import{M as P}from"./index-BsP8RyPE-B-KxsaFi.js";import{o as S}from"./SectionContentHeading-CWTIm4l5-d3tW3hk2.js";import"./index-DFfSkI3v.js";import"./Shell-CP1u34-G.js";import"./index-CmJqigZo.js";const E=({servicePromise:l})=>{const{data:a}=r.use(l),s=q(a).services[0];return e.jsxs(e.Fragment,{children:[e.jsxs(S,{children:["Service ",s.name]}),e.jsxs(K,{columns:2,gridColumnTemplate:"20% auto",className:"mb-6",children:[e.jsxs(n,{children:[e.jsx(p,{children:"Details"}),e.jsx(u,{children:e.jsxs(T,{gap:"1",direction:"horizontal",wrap:!0,children:[e.jsx(v,{pillKey:"service",pillKeyLabel:"service",pillValue:s.name,pillValueLabel:s.name}),s.serviceDetails?.supportGroups?.map(i=>e.jsx(v,{pillKey:"support_group",pillKeyLabel:"support_group",pillValue:i,pillValueLabel:i},i))]})})]}),e.jsxs(n,{children:[e.jsx(p,{children:"Vulnerabilities Counts"}),e.jsx(u,{children:e.jsx(M,{counts:s.issuesCount})})]})]})]})},D=()=>{const l=g(),{queryClient:a,apiClient:s}=L({from:"/services/$service"}),{servicePromise:i}=h({from:"/services/$service"}),{service:o}=f({from:"/services/$service"}),[c,x]=r.useState(void 0),[m,j]=r.useState(void 0),d=$()({to:"/services/$service/$image"});return r.useEffect(()=>{const t=b({queryClient:a,apiClient:s,filter:{service:[o]},after:c});j(t)},[c,o,a,s]),d?e.jsx(y,{}):e.jsxs(e.Fragment,{children:[e.jsx(C,{displayErrorMessage:!0,children:e.jsx(r.Suspense,{fallback:e.jsx(V,{className:"mt-4"}),children:e.jsx(E,{servicePromise:i})})}),m&&e.jsx(P,{imagesPromise:m,onImageItemClick:t=>{l({to:"/services/$service/$image",params:{service:o,image:t.repository}})},goToPage:x})]})},w=D;export{w as component};
