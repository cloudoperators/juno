const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-CecB5rxG.js","./index-2gp-Wejt.js","./index-DcUN_fe3.css","./index-DPHqNbcS.js","./index-XVPZUmpt.js","./App-CQRsQdLs.js","./Shell-hjvJ7dTM.js","./index-CM1oY8yN.js"])))=>i.map(i=>d[i]);
import{b as d,j as a,u as m,R as _}from"./Shell-hjvJ7dTM.js";import{_ as i}from"./index-2gp-Wejt.js";import{c as p,a as s,d as f}from"./index-CM1oY8yN.js";const x=(e,n,r)=>{const o=e[n];return o?typeof o=="function"?o():Promise.resolve(o):new Promise((t,u)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(u.bind(null,new Error("Unknown variable dynamic import: "+n+(n.split("/").length!==r?". Note that variables only represent file names one level deep.":""))))})},l={doop:i(()=>import("./index-CecB5rxG.js").then(e=>e.a),__vite__mapDeps([0,1,2]),import.meta.url),supernova:i(()=>import("./index-DPHqNbcS.js").then(e=>e.a),__vite__mapDeps([3,1,2]),import.meta.url),heureka:i(()=>import("./index-XVPZUmpt.js").then(e=>e.a),__vite__mapDeps([4,1,2]),import.meta.url)},E={doop:p.dependencies["@cloudoperators/juno-app-doop"],heureka:p.dependencies["@cloudoperators/juno-app-heureka"],supernova:p.dependencies["@cloudoperators/juno-app-supernova"]},h=({config:e,auth:n})=>{let r=s.lazy(()=>x(Object.assign({"./core-apps/org-admin/App.tsx":()=>i(()=>import("./App-CQRsQdLs.js"),__vite__mapDeps([5,6,7,1,2]),import.meta.url)}),`./core-apps/${e.id}/App.tsx`,4));return a.jsx(s.Suspense,{fallback:"Loading...",children:a.jsx(r,{...e.props,auth:n})})},v=({config:e,auth:n})=>{const r=s.useRef(null);return s.useEffect(()=>{if(!r.current)return;r.current.innerHTML="...Loading",(async()=>{if(e.url)return await import(e.url);if(l[e.name])return console.info("(greenhouse) extensions loading:",e.name,E[e.name]),await l[e.name];throw new Error(`Extension ${e.name} not found`)})().then(t=>{t.mount(r.current,{props:{...e.props,embedded:!0,token:n?.JWT,basePath:`/${e.id}`}})}).catch(t=>{r.current.innerHTML=`Error loading extension: ${t.message}`})},[e]),a.jsx("div",{ref:r,children:"Unknown"})};function R({config:e,active:n,id:r}){const{data:o}=d(),t=s.useRef(null),u=s.useRef(null);return s.useEffect(()=>{if(t.current){if(!u.current){const c=e.core?h:v;u.current=document.createElement("div"),f.createRoot(u.current).render(a.jsx(c,{config:e,auth:o}))}n?t.current.appendChild(u.current):t.current.innerHTML=""}},[n]),a.jsx("div",{id:r,ref:t})}const b=function(){const n=m().config(),{appId:r}=_.useParams();return n[r]?a.jsx(R,{id:r,config:n[r],active:!0},r):null};export{b as component};
